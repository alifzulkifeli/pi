Guía de instalación de Debian GNU/Linux

Copyright © 2004 - 2019 el equipo del instalador de Debian

Este manual es software libre, puede redistribuirlo y/o modificarlo bajo los
términos de la licencia general pública GNU. Por favor, consulte la licencia en
el Apéndice F, Licencia pública general GNU para más información.

Resumen

Este documento contiene las instrucciones de instalación del sistema Debian GNU
/Linux 10 (nombre en clave "buster"), para la arquitectura 64-bit PC ("amd64").
Además, contiene enlaces a otras fuentes de información, así como información
de cómo obtener lo mejor de su nuevo sistema Debian.

Aviso

This translation of the installation guide is not up-to-date and currently
there is noone actively working on updating it. Keep this in mind when reading
it; it may contain outdated or wrong information. Read or double-check the
English variant, if in doubt. If you can help us with updating the translation,
please contact <debian-boot@lists.debian.org> or the debian-l10n-xxx
mailinglist for this language. Many thanks

Si ud. puede ayudar con la revisión de esta traducción, por favor, póngase en
contacto con la lista de traductores de Debian al español (<
debian-l10n-spanish@lists.debian.org>).

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Tabla de contenidos

Instalar Debian GNU/Linux 10 en amd64
1. Bienvenido a Debian

    1.1. ¿Qué es Debian?
    1.2. ¿Qué es GNU/Linux?
    1.3. ¿Qué es Debian GNU/Linux?
    1.4. What is the Debian Installer?
    1.5. Obtener Debian
    1.6. Obtener la última versión de este documento
    1.7. Estructura de este documento
    1.8. Sobre copyrights y licencias de software

2. Requisitos del sistema

    2.1. Hardware compatible

        2.1.1. Arquitecturas compatibles
        2.1.2. Compatibilidad de CPU
        2.1.3. Ordenadores portátiles
        2.1.4. Múltiples procesadores
        2.1.5. Graphics Hardware Support
        2.1.6. Hardware de conectividad de red
        2.1.7. Dispositivos Braille
        2.1.8. Dispositivos de Síntesis de voz
        2.1.9. Periféricos y otro hardware

    2.2. Dispositivos que requieren Firmware
    2.3. Adquisición de hardware específico para GNU/Linux

        2.3.1. Evite hardware cerrado o privativo

    2.4. Medios de instalación

        2.4.1. CD-ROM/DVD-ROM/BD-ROM
        2.4.2. Dispositivo de memoria USB
        2.4.3. Red
        2.4.4. Disco duro
        2.4.5. Sistema Un*x o GNU
        2.4.6. Sistemas de almacenamiento aceptados

    2.5. Requisitos de memoria y espacio en disco

3. Antes de instalar Debian GNU/Linux

    3.1. Descripción del proceso de instalación
    3.2. ¡Haga copias de seguridad de su información actual!
    3.3. Información que necesitará

        3.3.1. Documentación
        3.3.2. Encontrar fuentes de información de hardware
        3.3.3. Compatibilidad de hardware
        3.3.4. Configuración de la red

    3.4. Cumplir los requisitos mínimos de hardware
    3.5. Preparticionado para sistemas multiarranque
    3.6. Preinstalación de hardware y configuración del sistema operativo

        3.6.1. Utilización del menú de configuración de la BIOS
        3.6.2. Selección de dispositivo de arranque
        3.6.3. Systems with UEFI firmware
        3.6.4. Disabling the Windows 8 "fast boot" feature
        3.6.5. Problemas de hardware a tener en cuenta

4. Obtener el medio de instalación del sistema

    4.1. Juegos oficiales de CD/DVD-ROM de Debian GNU/Linux
    4.2. Descarga de ficheros desde réplicas de Debian

        4.2.1. Dónde encontrar las imágenes de instalación

    4.3. Preparación de ficheros para el arranque desde un dispositivo de
        memoria USB

        4.3.1. Preparación de una memoria USB utilizando una imagen de CD o DVD
            híbrida
        4.3.2. Copia manual de los ficheros a la memoria USB
        4.3.3. Copia manual de los ficheros a la memoria USB -- la forma
            flexible

    4.4. Preparación de los ficheros para arranque desde el disco duro

        4.4.1. Arranque del instalador desde el disco duro con Linux utilizando
            LILO o GRUB
        4.4.2. Arranque del instalador desde el disco duro con DOS usando 
            loadlin

    4.5. Preparación de los ficheros para el arranque a través de red usando
        TFTP

        4.5.1. Configuración del servidor DHCP
        4.5.2. Configuración del servidor BOOTP
        4.5.3. Habilitar el servidor TFTP
        4.5.4. Mover las imágenes TFTP a su ubicación

    4.6. Instalación automática

        4.6.1. Utilizar el instalador de Debian para realizar una instalación
            automática

5. Arranque del sistema de instalación

    5.1. Arranque del instalador en 64-bit PC

        5.1.1. Arranque desde un dispositivo de memoria USB
        5.1.2. Arranque desde un CD-ROM
        5.1.3. Arranque desde Windows
        5.1.4. Arranque desde DOS utilizando loadlin
        5.1.5. Arranque desde Linux utilizando LILO o GRUB
        5.1.6. Arranque con TFTP
        5.1.7. La pantalla de arranque
        5.1.8. The Graphical Installer

    5.2. Accesibilidad

        5.2.1. Installer front-end
        5.2.2. Dispositivos Braille USB
        5.2.3. Dispositivos Braille Seriales
        5.2.4. Software de Síntesis de Voz
        5.2.5. Dispositivos de Síntesis de Voz
        5.2.6. Dispositivos de Tarjeta
        5.2.7. Temas de Alto contraste
        5.2.8. Zoom
        5.2.9. Expert install, rescue mode, automated install
        5.2.10. Accesibilidad del sistema instalado

    5.3. Parámetros de arranque

        5.3.1. Consola de arranque
        5.3.2. Parámetros del instalador de Debian
        5.3.3. Utilizar parámetros de arranque para responder a preguntas
        5.3.4. Pasar parámetros a módulos del núcleo
        5.3.5. Poner módulos del núcleo en una lista negra

    5.4. Resolución de problemas en el proceso de instalación

        5.4.1. Fiabilidad de la unidad de CD-ROM
        5.4.2. Configuración del arranque
        5.4.3. Software de Síntesis de Voz
        5.4.4. Problemas comunes durante la instalación en 64-bit PC
        5.4.5. Interpretar los mensajes de inicio del núcleo
        5.4.6. Informar de fallos
        5.4.7. Enviar los informes de la instalación

6. Usar el instalador de Debian

    6.1. Funcionamiento del instalador

        6.1.1. Using the graphical installer

    6.2. Introducción a los componentes
    6.3. Uso de componentes individuales

        6.3.1. Configurar el instalador de Debian y configuración de hardware
        6.3.2. Configurar usuarios y contraseñas
        6.3.3. Configuración del reloj y zona horaria
        6.3.4. Particionado y elección de punto de montaje
        6.3.5. Instalar el sistema base
        6.3.6. Instalar programas adicionales
        6.3.7. Hacer su sistema arrancable
        6.3.8. Finalizar la instalación
        6.3.9. Resolución de problemas
        6.3.10. Instalación a través de la red

    6.4. Carga de Firmware adicional

        6.4.1. Preparación del medio
        6.4.2. Firmware y el Sistema Instalado

7. Arrancar desde su nuevo sistema Debian

    7.1. El momento de la verdad
    7.2. Montaje de volúmenes cifrados

        7.2.1. Solucionar problemas

    7.3. Acceso

8. Los pasos siguientes y dónde continuar a partir de aquí

    8.1. Apagado del sistema
    8.2. Orientación sobre Debian

        8.2.1. Sistema de paquetes de Debian
        8.2.2. Software adicional disponible para Debian
        8.2.3. Gestión de versión de las aplicaciones
        8.2.4. Gestión de tareas de cron

    8.3. Siguientes pasos y cómo continuar
    8.4. Configurar su sistema para utilizar el correo electrónico

        8.4.1. Configuración de correo electrónico por omisión
        8.4.2. Enviar correo electrónico fuera del sistema
        8.4.3. Configurar su agente de transporte de correo

    8.5. Compilar un nuevo núcleo
    8.6. Recuperar un sistema roto

A. CÓMO de instalación

    A.1. Preliminares
    A.2. Arrancar el instalador

        A.2.1. CDROM
        A.2.2. Dispositivo de memoria USB
        A.2.3. Arranque desde la red
        A.2.4. Arrancar desde un disco duro

    A.3. Instalación
    A.4. Envíe un informe de instalación
    A.5. Y finalmente...

B. Instalar automáticamente utilizando preconfiguración

    B.1. Introducción

        B.1.1. Métodos de preconfiguración
        B.1.2. Limitaciones

    B.2. Utilizar la preconfiguración

        B.2.1. Cargar el fichero de preconfiguración
        B.2.2. Usar parámetros de arranque para preconfigurar preguntas
        B.2.3. Modo «auto»
        B.2.4. Abreviaturas útiles para la preconfiguración
        B.2.5. Utilizar un servidor DHCP para especificar los ficheros de
            preconfiguración

    B.3. Crear un fichero de preconfiguración
    B.4. Contenidos del fichero de preconfiguración (para buster)

        B.4.1. Localización
        B.4.2. Configuración de red
        B.4.3. Consola de red
        B.4.4. Configuración de la réplica
        B.4.5. Configuración de cuentas de usuario
        B.4.6. Configuración del reloj y zona horaria
        B.4.7. Particionado
        B.4.8. Configuración del sistema base
        B.4.9. Configuración de APT
        B.4.10. Selección de paquetes
        B.4.11. Instalación del cargador de arranque
        B.4.12. Finalizar la instalación
        B.4.13. Preconfiguración de otros paquetes

    B.5. Opciones avanzadas

        B.5.1. Ejecutar órdenes personalizadas durante la instalación
        B.5.2. Utilizar la preconfiguración para cambiar valores por omisión
        B.5.3. Carga de ficheros de configuración en cadena

C. Particionado en Debian

    C.1. Decisiones sobre las particiones de Debian y sus tamaños
    C.2. Árbol de directorios
    C.3. Esquemas recomendados para el particionado
    C.4. Nombres de dispositivos en Linux
    C.5. Programas para particionar en Debian

        C.5.1. Particionado en 64-bit PC

D. Información adicional

    D.1. Dispositivos en Linux

        D.1.1. Configurar su ratón

    D.2. Espacio en disco requerido para las tareas
    D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

        D.3.1. Primeros pasos
        D.3.2. Instalar debootstrap
        D.3.3. Ejecutar debootstrap
        D.3.4. Configurar el sistema base
        D.3.5. Instalar un núcleo
        D.3.6. Configurar el gestor de arranque
        D.3.7. Remote access: Installing SSH and setting up access
        D.3.8. Toques finales

    D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

        D.4.1. Requisitos
        D.4.2. Configurar el sistema origen
        D.4.3. Instalar el objetivo

    D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

E. Información administrativa

    E.1. Acerca de este documento
    E.2. Cómo contribuir a este documento
    E.3. Contribuciones importantes
    E.4. Reconocimiento de las marcas registradas

F. Licencia pública general GNU

Lista de tablas

3.1. Información de hardware útil para una instalación
3.2. Requisitos mínimos de sistema recomendados

Instalar Debian GNU/Linux 10 en amd64

Estamos encantados de que haya decidido probar Debian, le aseguramos que
encontrará que la distribución GNU/Linux de Debian es única. Debian GNU/Linux
reúne software libre de alta calidad de diferentes partes del mundo,
integrándolo en un todo coherente. Estamos seguros que encontrará que el
resultado es mucho más que la suma de las partes.

Entendemos que puede que desee empezar a instalar Debian sin leer este manual,
de hecho, el instalador de Debian está diseñado de forma que esto sea posible.
Le recomendamos, si ahora no tiene tiempo de leer la guía de instalación
completa, que lea el CÓMO de la instalación, que le guiará a través de un
proceso de instalación básico, y le ofrecerá enlaces al manual para cuando
desee analizar temas más avanzados o cuando tenga problemas. Puede encontrar el
CÓMO de instalación en el Apéndice A, CÓMO de instalación.

Dicho esto, esperamos que tenga tiempo de leer la mayor parte de este manual;
si lo hace, podrá realizar una instalación con más información y probablemente
tenga como consecuencia una instalación con éxito y sin problemas.

Capítulo 1. Bienvenido a Debian

Tabla de contenidos

1.1. ¿Qué es Debian?
1.2. ¿Qué es GNU/Linux?
1.3. ¿Qué es Debian GNU/Linux?
1.4. What is the Debian Installer?
1.5. Obtener Debian
1.6. Obtener la última versión de este documento
1.7. Estructura de este documento
1.8. Sobre copyrights y licencias de software

Este capítulo ofrece una visión general del Proyecto Debian y de Debian GNU/
Linux. Si ya conoce la historia del Proyecto Debian y la distribución Debian
GNU/Linux, puede pasar al siguiente capítulo.

1.1. ¿Qué es Debian?

Debian es una organización formada totalmente por voluntarios dedicada a
desarrollar software libre y promocionar los ideales de la comunidad del
software libre. El Proyecto Debian comenzó en 1993, cuando Ian Murdock hizo una
invitación a todos los desarrolladores de software a contribuir a una
distribución completamente coherente basada en el, entonces relativamente
nuevo, núcleo Linux. Ese grupo relativamente pequeño de entusiastas, al
principio patrocinados por la Free Software Foundation e influenciados por la
filosofía GNU, ha crecido a lo largo de los años hasta convertirse en una
organización de alrededor de 1000 desarrolladores Debian.

Los desarrolladores Debian están involucrados en una gran variedad de tareas,
incluyendo la administración del Web y FTP, diseño gráfico, análisis legal de
licencias de software, escribir documentación y, por supuesto, mantener
paquetes de software.

Con el interés de comunicar nuestra filosofía y atraer desarrolladores que
crean en los principios que Debian protege, el Proyecto Debian ha publicado un
número de documentos que contienen nuestros valores y sirven como guías de lo
que significa ser un desarrollador Debian:

  • El Contrato Social de Debian es una afirmación del compromiso de Debian con
    la comunidad de Software Libre. Cualquiera que esté de acuerdo en acogerse
    al Contrato Social puede convertirse en desarrollador. Cualquier
    desarrollador puede introducir software nuevo en Debian -- siempre que éste
    cumpla nuestro criterio de software libre, y cumpla con nuestros estándares
    de calidad.

  • El documento Directrices de Software Libre de Debian (DFSG) es un informe
    claro y conciso de los criterios de Debian sobre el software libre. La DFSG
    es de gran influencia en el movimiento del software libre, y proporciona
    las bases de la Definición de Open Source.

  • Las Normas de Debian son una especificación extensiva de los estándares de
    calidad del Proyecto Debian.

Los desarrolladores de Debian también están involucrados en otros proyectos;
algunos específicos de Debian, otros en los que está involucrado parte o toda
la comunidad Linux. Algunos ejemplos incluyen:

  • El Estándar para la jerarquía del sistema de ficheros (FHS) es un esfuerzo
    para estandarizar la distribución del sistema de ficheros de Linux. El FHS
    permitirá a desarrolladores de software concentrar sus esfuerzos en diseñar
    programas, sin tener que preocuparse sobre cómo se instalará su paquete en
    diferentes distribuciones de GNU/Linux.

  • Debian Jr. es nuestro proyecto interno, orientado a asegurarnos de que
    Debian tiene algo que ofrecer a nuestros usuarios más jóvenes.

Para más información general sobre Debian, vea las PUF de Debian.

1.2. ¿Qué es GNU/Linux?

Linux es un sistema operativo: un conjunto de programas que le permiten
interactuar con su ordenador y ejecutar otros programas.

Un sistema operativo consiste en varios programas fundamentales que necesita el
ordenador para poder comunicar y recibir instrucciones de los usuarios; tales
como leer y escribir datos en el disco duro, cintas, e impresoras; controlar el
uso de la memoria; y ejecutar otros programas. La parte más importante de un
sistema operativo es el núcleo. En un sistema GNU/Linux, Linux es el núcleo. El
resto del sistema consiste en otros programas, muchos de los cuales fueron
escritos por o para el proyecto GNU. Dado que el núcleo de Linux en sí mismo no
forma un sistema operativo funcional, preferimos utilizar el término "GNU/Linux
" para referirnos a los sistemas que la mayor parte de las personas llaman de
manera informal "Linux".

Linux está modelado como un sistema operativo tipo Unix. Desde sus comienzos,
Linux se diseñó para que fuera un sistema multi tarea y multi usuario. Estos
hechos son suficientes para diferenciar a Linux de otros sistemas operativos
más conocidos. Sin embargo, Linux es más diferente de lo que pueda imaginar.
Nadie es dueño de Linux, a diferencia de otros sistemas operativos. Gran parte
de su desarrollo lo realizan voluntarios de forma altruista.

En 1984 comenzó el desarrollo de lo que más tarde sería GNU/Linux cuando la
Free Software Foundation (Fundación de software libre, N. del t.) comenzó a
desarrollar un sistema operativo libre de tipo Unix, llamado GNU.

El proyecto GNU ha desarrollado un conjunto de herramientas de software libre
para ser utilizados por Unix (tm) y sistemas operativos tipo Unix como Linux.
Estas herramientas permiten a los usuarios desarrollar tareas que van desde las
mundanas (como copiar o eliminar ficheros del sistema) a las arcanas (como
escribir y compilar programas o hacer edición sofisticada en una gran variedad
de formatos de documento).

Aunque hay muchos grupos e individuos que han contribuido a Linux, la Free
Software Foundation ha sido quien más ha contribuido. No sólo creó la mayor
parte de las herramientas que se utilizan en Linux sino también la filosofía y
comunidad que hizo que Linux fuera posible.

El núcleo Linux apareció por primera vez en 1991, cuando un estudiante de
informática finlandés llamado Linus Torvalds anunció en el grupo de noticias de
USENET comp.os.minix, una primera versión de un núcleo de reemplazo para Minix.
Para más referencias consulte la página de historia de Linux en Linux
Internacional.

Linus Torvalds continues to coordinate the work of several hundred developers
with the help of a number of subsystem maintainers. There is an official
website for the Linux kernel. Information about the linux-kernel mailing list
can be found on the linux-kernel mailing list FAQ.

Los usuarios de Linux tienen una gran libertad al elegir sus programas. Por
ejemplo, un usuario de Linux puede elegir entre docenas de distintos
intérpretes de línea de órdenes y entre distintos entornos de escritorio.
Tantas opciones confunden a veces a los usuarios de otros sistemas operativos
que no están acostumbrados a poder modificar el intérprete de línea de órdenes
o el entorno de escritorio.

Es menos probable que un sistema Linux se colapse, además tiene mejor capacidad
para ejecutar múltiples programas al mismo tiempo y es más seguro que muchos
otros sistemas operativos. Debido a estas ventajas, Linux es el sistema
operativo que ha experimentado mayor crecimiento en el mercado de los
servidores. Últimamente, Linux está empezando a ser popular entre los usuarios
domésticos y en empresas.

1.3. ¿Qué es Debian GNU/Linux?

La combinación de la filosofía y metodología de Debian, las herramientas GNU,
el núcleo Linux, y otro software libre importante, forman una distribución de
software única llamada Debian GNU/Linux. Esta distribución está formada por un
gran número de paquetes. Cada paquete en la distribución contiene ejecutables,
scripts, documentación e información de configuración, y tiene un encargado,
quien es el principal responsable de mantener el paquete actualizado, hacer un
seguimiento de los informes de fallo y comunicarse con los autores principales
del programa empaquetado. Nuestra gran base de usuarios en conjunto con nuestro
sistema de seguimiento de fallos aseguran que los problemas se encuentren y
resuelvan rápidamente.

La atención que pone Debian a los detalles nos permite producir una
distribución de alta calidad, estable y escalable. La instalación puede
configurarse fácilmente para cumplir diversas funciones, desde cortafuegos
reducidos al mínimo, a estaciones de trabajo científicas o servidores de red de
alto rendimiento.

Debian es especialmente popular entre los usuarios avanzados debido a su
excelencia técnica y compromiso con las necesidades y expectativas de la
comunidad Linux. Debian también introdujo muchas características a Linux, que
ahora son comunes.

Por ejemplo, Debian fue la primera distribución de Linux en incluir un sistema
de gestión de paquetes para permitir una fácil instalación y desinstalación del
software. Además, también fue la primera que podía actualizarse sin necesidad
de una reinstalación.

Debian continúa siendo líder en el desarrollo de Linux. Su proceso de
desarrollo es un claro ejemplo de lo bien que puede funcionar el modelo «Open
Source»; incluso para tareas tan complejas como construir y mantener todo un
sistema operativo.

Lo que más distingue a Debian de otras distribuciones GNU/Linux es su sistema
de gestión de paquetes. Estas herramientas otorgan al administrador de un
sistema Debian total control sobre los paquetes instalados, operativo
incluyendo la capacidad de instalar un sólo paquete o actualizar el sistema por
completo. También es posible proteger paquetes individualmente de forma que no
se actualicen. Incluso puede indicar al sistema de gestión de paquetes qué
programas ha compilado usted mismo y qué dependencias cumplen.

Para proteger su sistema contra "caballos de Troya" y otros programas
malévolos, los servidores de Debian verifican que los paquetes provienen de sus
auténticos encargados. Los desarrolladores de Debian también ponen gran cuidado
en configurarlos de forma segura. Se publican parches muy rápidamente si se
descubren problemas de seguridad en los paquetes ya distribuidos. Con el
sencillo sistema de actualización de Debian, puede descargar e instalar parches
de seguridad automáticamente a través de Internet.

El método principal, y el mejor, para obtener ayuda con su sistema Debian GNU/
Linux y comunicarse con los desarrolladores de Debian, es a través de las
diversas listas de correo gestionadas por el proyecto Debian (existen más de
317 al momento de escribir este documento). La manera más fácil de suscribirse
a una de estas listas es visitar la página de subscripción a las listas de
correo de Debian y rellenar el formulario que allí encontrará.

1.4. What is the Debian Installer?

Debian Installer, also known as "d-i", is the software system to install a
basic working Debian system. A wide range of hardware such as embedded devices,
laptops, desktops and server machines is supported and a large set of free
software for many purposes is offered.

The installation is conducted by answering a basic set of questions. Also
available are an expert mode that allows to control every aspect of the
installation and an advanced feature to perform automated installations. The
installed system can be used as is or further customized. The installation can
be performed from a multitude of sources: USB, CD/DVD/Blu-Ray or the network.
The installer supports localized installations in more than 80 languages.

The installer has its origin in the boot-floppies project, and it was first
mentioned by Joey Hess in 2000. Since then the installation system has been
continuously developed by volunteers improving and adding more features.

More information can be found on the Debian Installer page, on the Wiki and on
the debian-boot mailing list.

1.5. Obtener Debian

Le sugerimos que consulte la página de distribución para obtener información
acerca de cómo obtener Debian GNU/Linux desde Internet o de cómo comprar los
CDs oficiales de Debian. Además puede encontrar la réplica más próxima a usted
consultando la lista de réplicas de Debian, donde encontrará la lista completa
de los servidores de réplica disponibles.

Es muy fácil actualizar Debian después de la instalación. El procedimiento de
instalación de Debian le ayudará a configurar su sistema de forma que, si fuese
necesario, pueda realizar estas actualizaciones una vez que haya terminado la
instalación.

1.6. Obtener la última versión de este documento

Este documento está en constante revisión. Asegúrese de consultar las páginas
de Debian 10 para obtener información de última hora sobre la versión 10 del
sistema Debian GNU/Linux. Las últimas versiones de este documento también se
encuentran en las páginas oficiales del manual.

1.7. Estructura de este documento

Este documento se ha creado para servir de manual a aquellos que usen Debian
por primera vez. Se intenta hacer la menor cantidad de presunciones posibles
acerca de su nivel técnico. En cualquier caso, se da por hecho un conocimiento
general de cómo funciona el hardware de su ordenador.

Los usuarios expertos pueden encontrar también interesante la información de
referencia de este documento, que incluye los tamaños mínimos para la
instalación, detalles sobre el hardware compatible con el sistema de
instalación de Debian, etc. Animamos a los usuarios expertos a explorar el
documento.

En general, este manual está dispuesto de forma lineal guiando al usuario a
través del proceso de instalación desde el principio hasta el final. A
continuación se indican los pasos a dar para instalar Debian GNU/Linux y las
secciones de este documento relacionadas con cada uno de éstos:

 1. Determine si su hardware cumple los requisitos para usar el sistema de
    instalación, según el Capítulo 2, Requisitos del sistema.

 2. Haga una copia de seguridad de su sistema y efectúe una planificación y
    configuración de hardware antes de instalar Debian, de acuerdo al
    Capítulo 3, Antes de instalar Debian GNU/Linux. Si está preparando un
    sistema múltiple (es decir, con varios sistemas operativos), puede que
    necesite crear espacio particionable en su disco duro para instalar Debian.

 3. En el Capítulo 4, Obtener el medio de instalación del sistema, encontrará
    los ficheros de instalación necesarios para el método de instalación
    escogido.

 4. The next Capítulo 5, Arranque del sistema de instalación describes booting
    into the installation system. This chapter also discusses troubleshooting
    procedures in case you have problems with this step.

 5. Realice la instalación real de acuerdo al Capítulo 6, Usar el instalador de
    Debian. Esto incluye elegir su idioma, configurar los módulos de los
    controladores de los dispositivos periféricos, configurar su conexión de
    red de modo que los ficheros de instalación restantes se puedan obtener
    directamente desde un servidor de Debian (si no está instalando desde un
    conjunto de CD/DVD), particionar su disco duro y, finalmente, realizar la
    instalación de un sistema base mínimo, después la selección e instalación
    de tareas. (En el Apéndice C, Particionado en Debian se indican algunos
    detalles a tener en cuenta con respecto a la configuración de las
    particiones en su sistema Debian).

 6. Arranque en su nuevo sistema base instalado, conforme al Capítulo 7, 
    Arrancar desde su nuevo sistema Debian.

Una vez que tenga su sistema instalado, puede leer el Capítulo 8, Los pasos
siguientes y dónde continuar a partir de aquí. Dicho capítulo explica dónde
buscar más información sobre Unix y Debian, además de cómo reemplazar el núcleo
de su sistema.

Finalmente, puede encontrar información sobre este documento y sobre cómo
contribuir en él en el Apéndice E, Información administrativa.

1.8. Sobre copyrights y licencias de software

Seguramente ha leído las licencias que acompañan a la mayoría del software
comercial -- generalmente afirman que sólo puede usar una copia del software en
un único equipo. La licencia del sistema Debian GNU/Linux no es como éstas. Le
animamos a que instale copias de Debian GNU/Linux en cualquier equipo de su
colegio o de su centro de trabajo. ¡Preste su medio de instalación a sus amigos
y ayúdeles a instalarlo en sus ordenadores! Incluso puede hacer miles de copias
y venderlas -- aunque con algunas restricciones. Esto es posible gracias a que
Debian está basado en software libre.

Software libre no quiere decir que éste carezca de copyright, ni tampoco que el
CD/DVD que contiene este software se debe distribuir sin costes. Software
libre, en parte, significa que las licencias de los programas individuales no
requieren de ningún pago por el derecho de distribución o uso de los mismos.
También significa que cualquiera puede extender, adaptar y modificar este
software, así como distribuir los resultados de su propio trabajo.

Nota

El proyecto Debian, como concesión pragmática a sus usuarios, ha decidido dejar
disponibles algunos paquetes que no cumplen nuestro criterio de libertad. Sin
embargo, estos paquetes no son parte de la distribución oficial, y sólo están
disponibles en las secciones contrib ó non-free dentro de las réplicas de
Debian o bien en CD-ROM/DVD de terceros; consulte PUF de Debian, en la sección 
"Repositorios FTP de Debian", para más información acerca de la disposición y
el contenido de los ficheros.

La mayoría de los programas en el sistema están bajo la Licencia Pública
General de GNU, más comúnmente conocida como la "GPL". La licencia GPL requiere
que el código fuente de los programas esté disponible siempre que se distribuya
alguna copia de los binarios del programa; esta condición de la licencia,
asegura que cualquier usuario pueda modificar el programa. Por esta misma
razón, el código fuente^[1] de todos los programas está disponible en el
sistema Debian.

En Debian se usan una gran cantidad de declaraciones sobre derechos de autor y
licencias de programas. Puede encontrar el copyright de cada paquete instalado
en su sistema, revisando el fichero /usr/share/doc/nombre-paquete/copyright .

Para más información acerca de las licencias y cómo Debian determina si el
software es suficientemente libre para ser incluido en la distribución
principal, revise las Directrices de software libre de Debian (DFSG).

La parte más importante, legalmente hablando, es que el software viene sin
ninguna garantía. Los programadores que han creado este software lo han hecho
únicamente para el beneficio de la comunidad. No se da ninguna garantía en
cuanto a la conveniencia del software para ningún propósito específico. Sin
embargo, puesto que el software es libre, le animamos a modificar ese software
para satisfacer sus necesidades -- y para gozar de las ventajas de los cambios
realizados por otros, que de esta manera han extendido el software.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] Para más información acerca de cómo encontrar, desempaquetar, y construir
binarios desde paquetes fuente de Debian, revise PUF de Debian, en la sección
de "Conocimientos básicos sobre gestión de paquetes en Debian".

Capítulo 2. Requisitos del sistema

Tabla de contenidos

2.1. Hardware compatible

    2.1.1. Arquitecturas compatibles
    2.1.2. Compatibilidad de CPU
    2.1.3. Ordenadores portátiles
    2.1.4. Múltiples procesadores
    2.1.5. Graphics Hardware Support
    2.1.6. Hardware de conectividad de red
    2.1.7. Dispositivos Braille
    2.1.8. Dispositivos de Síntesis de voz
    2.1.9. Periféricos y otro hardware

2.2. Dispositivos que requieren Firmware
2.3. Adquisición de hardware específico para GNU/Linux

    2.3.1. Evite hardware cerrado o privativo

2.4. Medios de instalación

    2.4.1. CD-ROM/DVD-ROM/BD-ROM
    2.4.2. Dispositivo de memoria USB
    2.4.3. Red
    2.4.4. Disco duro
    2.4.5. Sistema Un*x o GNU
    2.4.6. Sistemas de almacenamiento aceptados

2.5. Requisitos de memoria y espacio en disco

Esta sección contiene información sobre el hardware necesario para empezar con
Debian. También encontrará enlaces a más información sobre el hardware
compatible con GNU y Linux.

2.1. Hardware compatible

Debian no impone requisitos de hardware más allá de los que establecen el
núcleo Linux o kFreeBSD y el conjunto de herramientas GNU. En cualquier caso,
cualquier arquitectura o plataforma a la que se haya adaptado el núcleo Linux o
kFreeBSD, libc, gcc, etc., y para los que exista una adaptación de Debian,
puede ejecutar Debian. Por favor, diríjase a las páginas de adaptaciones en
https://www.debian.org/ports/amd64/ para más información sobre sistemas de
arquitectura 64-bit PC probados con Debian GNU/Linux.

En lugar de intentar describir las diferentes configuraciones de hardware
compatibles con 64-bit PC , esta sección contiene información general y
referencias adicionales donde puede encontrar más información.

2.1.1. Arquitecturas compatibles

Debian GNU/Linux 10 supports ten major architectures and several variations of
each architecture known as "flavors".

┌──────────────────────┬──────────────────┬────────────────────────┬──────────┐
│     Arquitectura     │  Designación de  │    Subarquitectura     │  Sabor   │
│                      │      Debian      │                        │          │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│                      │                  │default x86 machines    │default   │
│Basada en Intel x86   │i386              ├────────────────────────┼──────────┤
│                      │                  │Xen PV domains only     │xen       │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│AMD64 e Intel 64      │amd64             │                        │          │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│ARM                   │armel             │Marvell Kirkwood and    │marvell   │
│                      │                  │Orion                   │          │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│ARM con hardware FPU  │armhf             │multiplatform           │armmp     │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│64bit ARM             │arm64             │                        │          │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│32bit MIPS            │                  │MIPS Malta              │4kc-malta │
│(big-endian)          │mips              ├────────────────────────┼──────────┤
│                      │                  │Cavium Octeon           │octeon    │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│                      │                  │MIPS Malta              │5kc-malta │
│64bit MIPS            │                  ├────────────────────────┼──────────┤
│(little-endian)       │mips64el          │Cavium Octeon           │octeon    │
│                      │                  ├────────────────────────┼──────────┤
│                      │                  │Loongson 3              │loongson-3│
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│                      │                  │MIPS Malta              │4kc-malta │
│32bit MIPS            │                  ├────────────────────────┼──────────┤
│(little-endian)       │mipsel            │Cavium Octeon           │octeon    │
│                      │                  ├────────────────────────┼──────────┤
│                      │                  │Loongson 3              │loongson-3│
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│Power Systems         │ppc64el           │IBM POWER8 or newer     │          │
│                      │                  │machines                │          │
├──────────────────────┼──────────────────┼────────────────────────┼──────────┤
│IBM S/390 64bit       │s390x             │IPL del lector VM y DASD│genérico  │
└──────────────────────┴──────────────────┴────────────────────────┴──────────┘

Este documento cubre la instalación para la arquitectura 64-bit PC usando el
núcleo Linux. Si busca información sobre cualquiera de las otras arquitecturas
compatibles con Debian consulte las páginas de las adaptaciones de Debian.

2.1.2. Compatibilidad de CPU

Se permiten tanto los procesadores AMD64 como los procesadores Intel 64.

2.1.3. Ordenadores portátiles

Desde un punto de vista técnico, los ordenadores portátiles son PC normales, y
por ello toda la información relativa a sistemas PC también se aplica a los
portátiles. Actualmente, las instalaciones en portátil funcionan habitualmente
sin configuraciones especiales, incluyendo la suspensión del sistema al cerrar
el portátil, y botones específicos a portátiles como la desactivación de
interfaz wifi ("modo avión"). Por otra parte, a veces los proveedores de
hardware utilizan hardware especializado o propietario para algunas funciones
específicas de portátil que no es compatible. Para ver si su ordenador portátil
funciona bien con GNU/Linux, consulte las páginas de portátiles en Linux

2.1.4. Múltiples procesadores

Se permite el uso de múltiples procesadores (también llamado "
multi-procesamiento simétrico" o SMP) con esta arquitectura. La imagen estándar
del núcleo de Debian 10 ha sido compilada con compatibilidad con
SMP-alternatives. Esto implica que el núcleo detectará el número de
procesadores (o núcleos de procesador) y desactivará SMP de forma automática
para sistemas de un solo procesador.

Having multiple processors in a computer was originally only an issue for
high-end server systems but has become common in recent years nearly everywhere
with the introduction of so called "multi-core" processors. These contain two
or more processor units, called "cores", in one physical chip.

2.1.5. Graphics Hardware Support

Debian's support for graphical interfaces is determined by the underlying
support found in X.Org's X11 system, and the kernel. Basic framebuffer graphics
is provided by the kernel, whilst desktop environments use X11. Whether
advanced graphics card features such as 3D-hardware acceleration or
hardware-accelerated video are available, depends on the actual graphics
hardware used in the system and in some cases on the installation of additional
"firmware" images (see Sección 2.2, "Dispositivos que requieren Firmware").

On modern PCs, having a graphical display usually works out of the box. In very
few cases there have been reports about hardware on which installation of
additional graphics card firmware was required even for basic graphics support,
but these have been rare exceptions. For quite a lot of hardware, 3D
acceleration also works well out of the box, but there is still some hardware
that needs binary blobs to work well.

Details on supported graphics hardware and pointing devices can be found at
https://wiki.freedesktop.org/xorg/. Debian 10 ships with X.Org version 7.7.

2.1.6. Hardware de conectividad de red

Casi cualquier tarjeta de interfaz de red (también llamadas «network interface
card» o NIC, n. del t.) compatible con el núcleo de Linux es también compatible
con el sistema de instalación. Por regla general, los controladores modulares
se cargarán automáticamente. Esto incluye la mayoría de las tarjetas PCI/
PCI-Express y tarjetas PCMCIA/Express en portátiles.

Se permite el uso de RDSI, pero no durante la instalación.

2.1.6.1. Tarjetas de red inalámbrica

En la mayoría de los casos, las tarjetas de red inalámbrica son compatibles. El
núcleo oficial de Linux permite un número creciente de adaptadores
inalámbricos, aunque muchos necesitan que se cargue primero su firmware.

Si el firmware es necesario, el instalador le pedirá que lo cargue. Consulte
Sección 6.4, "Carga de Firmware adicional" para una información detallada de
cómo cargar firmware durante la instalación.

Aunque puede hacer funcionar en Debian GNU/Linux muchos adaptadores de red
inalámbricos que no son compatibles con el núcleo oficial de Linux, no estarán
disponibles durante el proceso de instalación.

En cualquier caso, puede instalar Debian GNU/Linux utilizando una imagen
completa de CD-ROM o DVD si no puede utilizar ninguna otra tarjeta de red.
Rechace la opción de configurar la red e instale el sistema sólo con los
paquetes disponibles en el CD/DVD. Una vez haya hecho esto podrá instalar el
controlador y el firmware que necesite después de terminar la instalación
(después del reinicio del sistema) y configurar la red manualmente.

En algunos casos el controlador que necesita puede no estar disponible como
paquete Debian. Deberá comprobar si existe código fuente disponible en Internet
y compilar el controlador usted mismo. Cómo hacer esto está fuera del ámbito de
este manual. Si no hay ningún controlador de Linux disponible puede utilizar
como último recurso el paquete ndiswrapper que le permite utilizar un
controlador de Windows.

2.1.7. Dispositivos Braille

La compatibilidad de brltty determina el uso de dispositivos braille. La
mayoría de dispositivos funcionan con brltty, vía un puerto serial, USB o
bluetooth. Puede encontrar los detalles de los dispositivos braille en el sitio
web de brltty. Debian GNU/Linux 10 ofrece la versión 5.6 de brltty.

2.1.8. Dispositivos de Síntesis de voz

La compatibilidad que ofrece speakup determina la compatibilidad con
dispositivos de síntesis de voz. speakup acepta únicamente tarjetas integradas
y dispositivos externos conectados a un puerto serial (no hay compatibilidad
con USB, adaptadores serial-a-USB o PCI). Puede encontrar los detalles de los
dispositivos compatibles en el sitio web de speakup. Debian GNU/Linux 10 ofrece
la versión 3.1.6 de speakup.

2.1.9. Periféricos y otro hardware

Linux supports a large variety of hardware devices such as mice, printers,
scanners, PCMCIA/CardBus/ExpressCard and USB devices. However, most of these
devices are not required while installing the system.

Habitualmente, el hardware USB funciona correctamente. En algunos sistemas PC
muy antiguos, puede que sea necesaria una configuración adicional para algunos
teclados USB (consulte Sección 3.6.5, "Problemas de hardware a tener en cuenta"
). En sistemas PC modernos, los teclados y ratones USB funcionan sin necesitar
una configuración específica.

2.2. Dispositivos que requieren Firmware

Además de la disponibilidad de un controlador para un dispositivo, algunos
dispositivos de hardware también requieren algo llamado firmware o microcode,
que se debe cargar en el dispositivo antes de ser funcional. Esto es muy común
para tarjetas de interfaz red (especialmente NIC inalámbricas), aunque algunos
dispositivos USB e incluso ciertos controladores de discos duros también
requieren firmware. Para muchas tarjetas gráficas, la funcionalidad básica está
disponible sin hardware adicional, pero el uso de funciones avanzadas requiere
la instalación de un fichero de firmware adicional en el sistema.

En muchos dispositivos antiguos que requieren firmware para su funcionamiento,
los ficheros de firmware se almacenaban por el fabricante de forma permanente
en un procesador EEPROM/Flash en el mismo dispositivo. Actualmente, la mayoría
de dispositivos no integran el firmware de esta forma, y por ello el fichero de
firmware si debe cargar en el dispositivo por el sistema operativo anfitrión
durante cada arranque del sistema.

En la mayoría de los casos el firmware es no-libre de acuerdo con los criterios
usados por el proyecto Debian GNU/Linux y por lo tanto no puede incluirse en la
distribución principal o en el sistema de instalación. Si el controlador del
dispositivo está incluido en la distribución y si Debian GNU/Linux legalmente
puede distribuir el firmware, es usual que esté disponible como un paquete
separado en la sección non-free del archivo de Debian GNU/Linux.

Aunque esto no quiere decir que tal hardware no pueda usarse durante una
instalación. Desde Debian GNU/Linux 5.0, el debian-installer permite la carga
de ficheros de firmware o paquetes que contienen el firmware de un medio
extraíble, como una memoria USB. Consulte Sección 6.4, "Carga de Firmware
adicional" para obtener información detallada de cómo cargar los ficheros de
firmware o paquetes durante la instalación.

Si debian-installer solicita un fichero de firmware, y no dispone de ese
fichero o no desea instalar un fichero de firmware no libre en su sistema,
puede intentar continuar sin cargar el firmware. Hay varios casos en los que el
controlador solicita firmware adicional por ser necesario bajo determinadas
circunstancias, pero el dispositivo puede funcionar sin él en la mayoría de
sistemas (por ejemplo, ocurre con algunas tarjetas de red que utilizan el
controlador tg3).

2.3. Adquisición de hardware específico para GNU/Linux

Existen algunos fabricantes que entregan sus sistemas con Debian u otra
distribución de GNU/Linux preinstalada. Quizás tenga que pagar más por este
privilegio, pero esto le garantiza una cierta tranquilidad de espíritu puesto
que puede estar seguro de que su hardware es totalmente compatible con GNU/
Linux.

Consulte detenidamente la licencia de software que viene con Windows si tiene
que comprar un equipo que provea este sistema operativo preinstalado. Puede que
tenga la posibilidad de rechazar la licencia y obtener un descuento de su
vendedor. Encontrará información útil sobre esto si busca información en
Internet acerca de "windows refund" ("reembolso windows", n. del t.).

Es importante que compruebe que su hardware es compatible con el núcleo Linux,
ya sea si está adquiriendo un sistema con Linux preinstalado o no, o incluso un
sistema usado. Compruebe si su hardware está listado en las referencias citadas
anteriormente. Haga saber a su vendedor (si lo hay) que está comprando un
equipo para instalar Linux. Apoye a los fabricantes de hardware que ofrecen
compatibilidad con Linux.

2.3.1. Evite hardware cerrado o privativo

Algunos fabricantes de hardware simplemente no nos dirán cómo escribir
controladores para su hardware, o no nos permiten acceder a la documentación
sin un acuerdo de no divulgación que nos impediría publicar el código fuente
del controlador, uno de los elementos esenciales del software libre. Debido a
que no se nos ha ofrecido el acceso a documentación útil sobre estos
dispositivos, sencillamente no funcionan con Linux.

En muchas situaciones hay estándares (o al menos estándares de hecho) que
describen la forma en que un sistema operativo y los controladores de sus
dispositivos se comunican con un cierto tipo de dispositivos. Todos los
dispositivos que cumplen tal estándar (de hecho) se pueden utilizar con un
único controlador genérico de dispositivo, y no se requiere ningún controlador
específico de dispositivo. Esto funciona muy bien para algunos tipos de
hardware (como por ejemplo "dispositivos de interfaz humana (HID)" USB como
teclados, ratón y otros, y dispositivos de almacenamiento USB como discos flash
USB y lectores de tarjeta de memoria) y prácticamente todos los dispositivos
vendidos en el mercado cumple con estándares.

Desafortunadamente, en otros campos, entre ellos el de las impresoras, este no
es el caso. Aunque hay muchas impresoras que pueden funcionar con un pequeño
conjunto de lenguaje de control estándar (de hecho) sin problemas en cualquier
sistema operativo, hay varios modelos que solo aceptan órdenes de control
privativos que no se detallan en ninguna documentación, y por ello no se pueden
utilizar en sistemas operativos libres, o solo se pueden utilizar con un
controlador de código propietario proporcionado por el proveedor.

Incluso si hay un controlador de código propietario proporcionado por el
fabricante para un dispositivo de hardware al comprar el producto, la vida útil
del dispositivo está limitado a la disponibilidad del controlador. Actualmente,
los ciclos de un producto son más cortos, y no es extraño que tras un breve
período después de finalizar la producción del dispositivo, el fabricante no
ofrezca más actualizaciones del controlador. Si el antiguo controlador de
código propietario no funciona después de una actualización del sistema, un
dispositivo funcionalmente perfecto se vuelve inútil por la falta un
controlador, y en este caso nada se puede hacer. Por ello, debe evitar comprar
hardware propietario en primer lugar, sin importar el sistema operativo con el
que lo vaya a utilizar.

Puede ayudar a mejorar esta situación animando a fabricantes de hardware
propietario para publiquen la documentación y otros recursos necesarios para
que podamos proporcionar controladores libres para su hardware.

2.4. Medios de instalación

Esta sección le ayudará a determinar los diferentes tipos de medio que puede
usar para instalar Debian. Existe un capítulo entero dedicado a este asunto, el
Capítulo 4, Obtener el medio de instalación del sistema, que lista las ventajas
y desventajas de cada tipo de medio. Puede que desee regresar a esta página una
vez que consulte esa sección.

2.4.1. CD-ROM/DVD-ROM/BD-ROM

Nota

Whenever you see "CD-ROM" in this manual, it applies to all of CD-ROMs,
DVD-ROMs and BD-ROMs, because all these technologies are really the same from
the operating system's point of view.

La instalación mediante CD-ROM es compatible con la mayoría de arquitecturas.

On PCs SATA, IDE/ATAPI, USB and SCSI CD-ROMs are supported, as are FireWire
devices that are supported by the ohci1394 and sbp2 drivers.

2.4.2. Dispositivo de memoria USB

Los discos de flash USB o dispositivos de memoria USB se han convertido en un
dispositivo de almacenamiento extendido y barato. La mayoría de sistemas
informáticos modernos permiten el arranque de debian-installer desde tales
dispositivos. Muchos sistemas informáticos modernos, en particular netbooks y
portátiles delgados, ya no incorporan un dispositivo CD/DVD-ROM, y el arranque
desde un dispositivo USB es el modo estándar de instalación de un nuevo sistema
operativo.

2.4.3. Red

Puede utilizarse la red durante la instalación para recuperar los ficheros para
la instalación. El que se utilice la red o no depende del mecanismo de
instalación que escoja y de sus respuestas a algunas preguntas que se le
realizarán durante la instalación. Este sistema de instalación puede utilizar
la mayor parte de las conexiones de red (incluyendo PPPoE, pero no RDSI ó PPP)
a través tanto de HTTP como FTP. Una vez haya terminado la instalación podrá
configurar su sistema para que utilice RDSI y PPP.

You can also boot the installation system over the network without needing any
local media like CDs/DVDs or USB sticks. If you already have a
netboot-infrastructure available (i.e. you are already running DHCP and TFTP
services in your network), this allows an easy and fast deployment of a large
number of machines. Setting up the necessary infrastructure requires a certain
level of technical experience, so this is not recommended for novice users.

Otra opción es la instalación sin disco, basada en el arranque a través de red
desde una red de área local y en el montaje a través de NFS de todos los
sistemas de ficheros locales.

2.4.4. Disco duro

El arranque del sistema de instalación desde el disco duro es otra opción para
muchas arquitecturas. Para esto necesitará tener algún otro sistema operativo
instalado para cargar el instalador en el disco duro. Este método se recomienda
solo para casos especiales cuando no se dispone de ningún otro método de
instalación.

2.4.5. Sistema Un*x o GNU

Puede utilizar otro sistema operativo tipo Unix para instalar Debian GNU/Linux
sin necesidad de usar el debian-installer que se describe en el resto de este
manual. Este tipo de instalación puede ser útil para usuarios con hardware no
compatible o en máquinas que no pueden dejar de dar servicio en ningún momento.
Si está interesado en este método, pase a la Sección D.3, "Instalar Debian GNU/
Linux desde un sistema Unix/Linux". Esta forma de instalación solo se
recomienda para usuarios avanzados cuando no se dispone de ningún otro método
de instalación.

2.4.6. Sistemas de almacenamiento aceptados

El instalador de Debian incorpora un núcleo construido para maximizar el número
de sistemas en los que puede funcionar.

Habitualmente, el sistema de instalación de Debian permite el uso de unidades
IDE (también llamadas PATA), controladores y unidades SATA y SCSI, USB y
FireWire. Los sistemas de ficheros permitidos incluyen FAT, extensiones FAT
Win-32 (VFAT) y NTFS.

2.5. Requisitos de memoria y espacio en disco

Debe tener al menos 550MB de memoria y 850MB espacio de disco duro para
realizar una instalación normal. Tenga en cuenta que éstos son los mínimos
absolutos. Si desea valores más reales consulte Sección 3.4, "Cumplir los
requisitos mínimos de hardware". Para un sistema mínimo basado en consola
(todos los paquetes estándar), se requiere 250 MB. Si quiere instalar una
cantidad razonable de software, incluyendo el sistema de ventanas X, y algunos
programas y bibliotecas de desarrollo, necesitará al menos 400 MB. Para una
instalación más o menos completa de un sistema de escritorio, necesitará unos
cuantos gigabytes.

Installation on systems with less memory^[2] or disk space available may be
possible but is only advised for experienced users.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installation images that support the graphical installer require more
memory than images that support only the textual installer and should not be
used on systems with less than 550MB of memory. If there is a choice between
booting the text-based and the graphical installer, the former should be
selected on such systems.

Capítulo 3. Antes de instalar Debian GNU/Linux

Tabla de contenidos

3.1. Descripción del proceso de instalación
3.2. ¡Haga copias de seguridad de su información actual!
3.3. Información que necesitará

    3.3.1. Documentación
    3.3.2. Encontrar fuentes de información de hardware
    3.3.3. Compatibilidad de hardware
    3.3.4. Configuración de la red

3.4. Cumplir los requisitos mínimos de hardware
3.5. Preparticionado para sistemas multiarranque
3.6. Preinstalación de hardware y configuración del sistema operativo

    3.6.1. Utilización del menú de configuración de la BIOS
    3.6.2. Selección de dispositivo de arranque
    3.6.3. Systems with UEFI firmware
    3.6.4. Disabling the Windows 8 "fast boot" feature
    3.6.5. Problemas de hardware a tener en cuenta

Este capítulo describe la preparación para la instalación de Debian antes de
iniciar el instalador. Esto incluye realizar copias de seguridad de datos,
reunir información sobre su hardware y localizar cualquier información
necesaria.

3.1. Descripción del proceso de instalación

Antes de nada, una nota sobre reinstalaciones: con Debian es muy raro que se
produzca una circunstancia que requiera la reinstalación completa de su
sistema. El caso más común es un fallo mecánico en el disco duro de su sistema.

Muchos sistemas operativos habituales exigen que se realice una instalación
completa cuando se producen fallos críticos o cuando es necesario actualizar a
nuevas versiones del sistema operativo. Incluso aunque no sea necesaria una
instalación completa, a menudo los programas se deben reinstalar para que
funcionen correctamente en el nuevo sistema operativo.

En Debian GNU/Linux es más probable, si tiene un problema, que pueda reparar su
sistema operativo en lugar de reemplazarlo. Las actualizaciones nunca requieren
una reinstalación total, siempre podrá actualizar sobre el mismo sistema. Los
programas casi siempre son compatibles con las versiones sucesivas del sistema
operativo. Si una nueva versión del programa requiere software adicional, el
sistema de paquetes de Debian se asegura que todo el software necesario sea
automáticamente identificado e instalado. El hecho es que se ha dedicado mucho
esfuerzo para evitar la necesidad de reinstalar un sistema, considérelo su
última opción. El instalador no está diseñado para reinstalar sobre un sistema
existente.

Esta es una pequeña guía de los pasos por los que pasará durante el proceso de
instalación:

 1. Realice una copia de seguridad de los datos o documentación existentes en
    el disco duro donde planea realizar la instalación.

 2. Reúna información sobre su sistema, así como toda la documentación que
    necesite antes de iniciar la instalación.

 3. Localice y/o descargue el programa del instalador así como los ficheros de
    cualquier controlador especializado que su máquina necesite.

 4. Configure un dispositivo de arranque como CD/DVD/dispositivo USB, o
    proporcione una infraestructura de arranque por red desde el que arrancar
    el instalador.

 5. Arranque el sistema de instalación.

 6. Elija el idioma para la instalación.

 7. Active la conexión de red, si está disponible.

 8. Si es necesario, redimensione las particiones existentes en el disco duro
    de destino para liberar espacio para la instalación.

 9. Cree y monte las particiones en las que instalará Debian.

10. Espere a la descarga/instalación/configuración automática del sistema base.

11. Select and install additional software.

12. Instale un gestor de arranque que pueda iniciar Debian GNU/Linux y/o su
    sistema existente.

13. Inicie por primera vez el sistema que acaba de instalar.

Tiene la opción de usar una versión del sistema de instalación gráfico en 
64-bit PC . Consulte Sección 5.1.8, "The Graphical Installer" si desea más
información sobre este instalador gráfico.

Si tiene problemas durante la instalación, es muy útil saber qué paquetes están
involucrados en cada paso. A continuación le presentamos a los «actores
principales» en el «drama» de la instalación:

Este manual trata sobre el programa de instalación debian-installer. Detecta el
hardware y carga los controladores apropiados, usa dhcp-client para configurar
la conexión de red, ejecuta debbootstrap para instalar los paquetes del sistema
base y tasksel para que pueda seleccionar algunos programas adicionales. Muchos
otros programas realizan pequeñas partes de este proceso, pero debian-installer
termina su tarea en el momento en que inicia por primera vez su nuevo sistema.

Puede ajustar el sistema a sus necesidades con tasksel, que le permite escoger
dentro de un conjunto de grupos de programas predeterminados, tales como los
necesarios para disponer de un servidor Web o de un entorno de escritorio.

Una opción importante durante la instalación es si se realiza o no la
instalación del entorno de escritorio gráfico, que está formado por el sistema
X Window y alguno de los entornos de escritorio gráficos disponibles. Si elige
no instalar la tarea "Entorno de escritorio" dispondrá únicamente de un sistema
muy básico de interfaz de línea de órdenes. La instalación del entorno de
escritorio es opcional porque ocupa una cantidad significativa de disco
comparado con un sistema basado solo en texto, y porque muchos sistemas Debian
GNU/Linux son servidores que realmente no necesitan una interfaz gráfica de
usuario para hacer su trabajo.

Debe saber que el sistema X Window está completamente separado del
debian-installer y de hecho es mucho más complicado. La instalación y solución
de problemas del sistema X Window no se encuentra dentro del alcance de este
manual.

3.2. ¡Haga copias de seguridad de su información actual!

Before you start, make sure to back up every file that is now on your system.
If this is the first time a non-native operating system is going to be
installed on your computer, it is quite likely you will need to re-partition
your disk to make room for Debian GNU/Linux. Anytime you partition your disk,
you run a risk of losing everything on the disk, no matter what program you use
to do it. The programs used in the installation of Debian GNU/Linux are quite
reliable and most have seen years of use; but they are also quite powerful and
a false move can cost you. Even after backing up, be careful and think about
your answers and actions. Two minutes of thinking can save hours of unnecessary
work.

Incluso si está creando un sistema con arranque múltiple, asegúrese de tener
disponible el medio de distribución de cualquier otro sistema operativo
presente. Aunque habitualmente no sea necesario, hay casos en los que debe
reinstalar el gestor de arranque del sistema operativo para arrancar el
sistema, o en el peor de los casos reinstalar el sistema operativo completo y
restablecer la copia de seguridad creada anteriormente.

3.3. Información que necesitará

3.3.1. Documentación

3.3.1.1. Manual de instalación

El documento que está leyendo ahora, en formato ASCII, HTML o PDF.

  • install.es.txt

  • install.es.html

  • install.es.pdf

3.3.1.2. Documentación de hardware

Habitualmente contiene información útil sobre cómo configurar o usar su
hardware.

  • La página de hardware de Debian Wiki

3.3.2. Encontrar fuentes de información de hardware

En muchos casos, el instalador será capaz de detectar automáticamente su
hardware. Pero esté preparado, le recomendamos que se familiarice con su
hardware antes de la instalación.

Puede obtener información de su hardware desde:

  • Los manuales que vienen con cada pieza de hardware.

  • Las pantallas de configuración de la BIOS del ordenador. Puede ver estas
    pantallas cuando lo arranca y presiona una combinación de teclas. Consulte
    su manual para saber la combinación. Habitualmente, es la tecla Suprimir o 
    F2, pero algunos fabricantes utilizan otras teclas o combinaciones de
    teclado. Generalmente, durante el arranque se muestra un mensaje que indica
    la tecla que pulsar para acceder a la pantalla de configuración.

  • Las cajas y cubiertas de cada pieza de hardware.

  • La ventana del sistema en el panel de control de Windows.

  • Órdenes del sistema o herramientas de otros sistemas operativos, incluyendo
    las capturas de pantallas de los gestores de ficheros. Esta fuente de
    información es especialmente útil para obtener información sobre la memoria
    RAM y el espacio disponible en el disco duro.

  • Su administrador de sistemas o proveedor de servicio de Internet.
    Cualquiera de éstos puede decirle la configuración necesaria para
    configurar su red y su correo electrónico.

Tabla 3.1. Información de hardware útil para una instalación

┌─────────────────┬─────────────────────────────────────────────────────┐
│    Hardware     │          Información que podría necesitar           │
├─────────────────┼─────────────────────────────────────────────────────┤
│                 │El número de discos que tiene.                       │
│                 ├─────────────────────────────────────────────────────┤
│                 │Su orden en el sistema.                              │
│                 ├─────────────────────────────────────────────────────┤
│                 │Si es IDE (también conocido como PATA), SATA ó SCSI. │
│Discos duros     ├─────────────────────────────────────────────────────┤
│                 │Espacio libre disponible.                            │
│                 ├─────────────────────────────────────────────────────┤
│                 │Particiones.                                         │
│                 ├─────────────────────────────────────────────────────┤
│                 │Particiones con otros sistemas operativos instalados.│
├─────────────────┼─────────────────────────────────────────────────────┤
│Interfaces de red│Tipo/modelo de las interfaces de red disponibles.    │
├─────────────────┼─────────────────────────────────────────────────────┤
│Impresora        │Modelo y fabricante.                                 │
├─────────────────┼─────────────────────────────────────────────────────┤
│Tarjeta de vídeo │Tipo/modelo y fabricante.                            │
└─────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Compatibilidad de hardware

Los productos de muchas marcas funcionan sin problemas con Linux. Además, la
compatibilidad de hardware con Linux mejora continuamente. Sin embargo, Linux
todavía no funciona con tantos tipos de hardware como otros sistemas
operativos.

En la mayoría de los casos, los controladores en Linux no se escriben para un "
producto" o "marca" determinada de un fabricante específico, para un tipo de
hardware/chipset. Muchos productos/marcas aparentemente distintos se basan en
el mismo diseño de hardware; no es extraño que los fabricantes de chip
proporcionen los llamados "diseños de referencia" para productos basados en sus
chip, que se utilizan por varios fabricantes de dispositivo, y se comercializan
bajo distintos nombres de producto o marca.

Esto ofrece ventajas y desventajas. Una ventaja es que un controlador para un
chipset funciona para varios productos distintos de varios fabricantes, siempre
y cuando el producto esté basado en el mismo chipset. La desventaja es que no
siempre es sencillo ver el chipset real utilizado con un producto/marca
específica. Desafortunadamente, a veces los fabricantes de dispositivos
modifican la base de hardware de su producto sin cambiar el nombre del
producto, o al menos el número de versión, y en el caso de poseer dos artículos
con el mismo nombre de marca/producto adquiridos en distintos momentos, pueden
estar basados en dos chipset distintos, y por ello utilizar dos controladores
distintos, o puede que no exista un controlador para todas las variantes.

Para dispositivos USB y PCI/PCI-Express/ExpressCard, una buena manera de
averiguar el chipset en el que se basan es ver los ID de dispositivo. Todos los
dispositivos USB/PCI/PCI-Express/ExpressCard poseen los llamados ID
(identificador) de "proveedor" y "producto", y la combinación de ambos suele
ser el mismo para todos los productos basados en el mismo chipset.

En sistemas Linux, estos ID se pueden leer con la orden lsusb para dispositivos
USB, y con la orden lspci -nn para dispositivos PCI/PCI-Express/ExpressCard. El
ID de fabricante y producto se suele proporcionan en la forma de dos números
hexadecimales, separados por dos puntos, como por ejemplo "2d6b:0001".

Un ejemplo de la salida de lsusb: "Bus 001 Device 001: ID 1d6b:0002 Linux
Foundation 2.0 root hub", donde 1d6b es el ID del fabricante y 0002 es el ID
del producto.

Un ejemplo de la salida de lspci -nn para un tarjeta de Ethernet: "03:00.0
Ethernet controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI
Express Gigabit Ethernet controller [10ec:8168] (rev 06)". Los ID se
proporcionan dentro de los corchetes que se encuentran más hacia la derecha;
esto es, en este ejemplo, 10ec es el fabricante y 8168 es el ID del producto.

Como otro ejemplo, una tarjeta de vídeo puede proporcionar la siguiente salida:
"04:00.0 VGA compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI
RV710 [Radeon HD 4350] [1002:954f]".

En sistemas Windows, el ID de un dispositivo se puede averiguar mediante el
administrador de dispositivos de Windows en la pestaña "detalles", donde el ID
del fabricante tiene el prefijo VEN_, y el ID del producto tiene el prefijo
DEV_. En sistemas Windows 7, debe seleccionar la propiedad "ID de Hardware" en
la pestaña de detalles del administrador de dispositivos para ver los ID, ya
que no se muestran de forma predeterminada.

Una búsqueda por Internet con el ID del fabricante/producto, "Linux" y el "
controlador" como términos de búsqueda suele ofrecer resultados con información
pertinente al estado de compatibilidad del controlador para un chipset
particular. Si una búsqueda del ID de fabricante/producto no ofrece resultados
útiles, puede que ayude una búsqueda de los nombres código del chip, que
habitualmente también proporcionan lsusb y lspci ("RTL8111"/"RTL8168B" en el
ejemplo de la tarjeta de red, y "RV710" en el ejemplo de la tarjeta de vídeo).

3.3.3.1. Comprobación de la compatibilidad de hardware con un sistema Live

Debian GNU/Linux también está disponible como "live system" para ciertas
arquitecturas. Un sistema Live es un sistema preconfigurado listo para su uso
en un formato comprimido, que se puede arrancar y utilizar desde un dispositivo
solo de lectura como un CD o DVD. Su uso no crea ningún cambio en la máquina de
forma predeterminada. Puede modificar la configuración de usuario e instalar
programas adicionales desde el sistema Live, pero esto solo ocurre en la
memoria RAM de la máquina. Esto es, si apaga la máquina y arranca otra vez el
sistema Live, todo vuelve a sus valores predeterminados. Si quiere averiguar si
su hardware es compatible con Debian GNU/Linux, la forma más sencilla es
ejecutar un sistema Live de Debian y comprobarlo.

Hay algunas limitaciones al utilizar un sistema Live. La primera es que todos
los cambios que realiza en el sistema Live deben permanecer en la RAM de la
máquina, esto solo funciona para sistemas con suficiente RAM para ello, y por
ello la instalación de paquetes de software de gran tamaño adicionales puede
fallar por restricciones de memoria. Otra limitación relativa a la comprobación
de compatibilidad de hardware es que el sistema Live oficial de Debian GNU/
Linux solo contiene componentes libres, esto es, no incluye ficheros de
firmware no libres. Obviamente, los paquetes no libres se pueden instalar en el
sistema de forma manual, pero no hay una detección automática de los ficheros
de firmware necesarios como en debian-installer, y por ello la instalación de
componentes no libres se debe realizar manualmente si fuera necesario.

Para más información sobre las versiones disponibles de imágenes Live de Debian
consulte la página web Debian Live Images.

3.3.4. Configuración de la red

Debe solicitar esta información a su administrador de red si el sistema está
conectado a alguna red fija (por ejemplo, si utiliza una conexión Ethernet o
equivalente, pero no si tiene una conexión de acceso telefónico/PPP).

  • El nombre de su sistema (podría decidirlo usted mismo).

  • El nombre de su dominio.

  • La dirección IP de su ordenador.

  • La máscara de red a usar.

  • La dirección IP de la puerta de enlace predeterminada a través de la cual
    encaminar el tráfico, si su red tiene una puerta de enlace.

  • El sistema en su red que deberá usar como servidor de nombres o DNS.

Si la red a la que se conecta utiliza DHCP (Dynamic Host Configuration
Protocol) para la configuración de ajustes de red, no necesita esta información
debido a que el servidor DHCP la proveerá directamente a su sistema durante el
proceso de instalación.

Si tiene acceso a Internet a través de DSL o un cable de módem (esto es, a
través de una red de televisión por cable) y dispone de un router
(habitualmente preconfigurado por su proveedor de telefonía o televisión por
cable) que gestiona su conectividad de red, habitualemente DHCP está disponible
de forma predeterminada.

Como regla general; si ejecuta un sistema Windows en su red doméstica y no ha
realizado ningún ajuste de red de forma manual para obtener el acceso a
Internet, la conectividad de red de Debian GNU/Linux también se configurará de
forma automática.

Si utiliza una red WLAN/WiFi, también debe averiguar:

  • El ESSID ("nombre de la red") de su red inalámbrica.

  • La clave de seguridad WEP o WPA/WPA2 (si es pertinente).

3.4. Cumplir los requisitos mínimos de hardware

Una vez que haya reunido información sobre el hardware de su ordenador debe
verificar que su hardware le permita realizar el tipo de instalación que desea
efectuar.

Dependiendo de sus necesidades, podría arreglarse con menos del hardware
recomendado listado en la siguiente tabla. Sin embargo, la mayoría de usuarios
se arriesgan a terminar frustrados si ignoran estas sugerencias.

Se recomienda como mínimo un Pentium 4, a 1 GHz para un sistema de escritorio.

Tabla 3.2. Requisitos mínimos de sistema recomendados

┌───────────────────┬─────────────┬─────────────────┬───────────┐
│Tipo de instalación│RAM (mínimo) │RAM (recomendado)│Disco duro │
├───────────────────┼─────────────┼─────────────────┼───────────┤
│Sin escritorio     │256 Megabytes│512 Megabytes    │2 Gigabytes│
├───────────────────┼─────────────┼─────────────────┼───────────┤
│Con escritorio     │512 Megabytes│2 Gigabytes      │10 Gigabyte│
└───────────────────┴─────────────┴─────────────────┴───────────┘


The minimum value assumes that swap will be enabled.

The actual minimum memory requirements are a lot less than the numbers listed
in this table. With swap enabled, it is possible to install Debian with as
little as 170MB. The same goes for the disk space requirements, especially if
you pick and choose which applications to install; see Sección D.2, "Espacio en
disco requerido para las tareas" for additional information on disk space
requirements.

It is possible to run a graphical desktop environment on older or low-end
systems, but in that case it is recommended to install a window manager that is
less resource-hungry than those of the GNOME or KDE Plasma desktop
environments; alternatives include xfce4, icewm and wmaker, but there are
others to choose from.

Es prácticamente imposible dar requisitos generales de memoria y espacio en
disco para instalaciones de servidores ya que éstos dependerán en gran medida
de aquello para lo que se utilice el servidor.

Recuerde que estos tamaños no incluyen todos los otros materiales que se
encuentran habitualmente, como puedan ser los ficheros de usuarios, el correo y
otros datos. Siempre es mejor ser generoso cuando uno está pensando qué espacio
destinar a sus propios ficheros y datos.

Disk space required for the smooth operation of the Debian GNU/Linux system
itself is taken into account in these recommended system requirements. Notably,
the /var partition contains a lot of state information specific to Debian in
addition to its regular contents, like logfiles. The dpkg files (with
information on all installed packages) can easily consume 40MB. Also, apt puts
downloaded packages here before they are installed. You should usually allocate
at least 200MB for /var, and a lot more if you install a graphical desktop
environment.

3.5. Preparticionado para sistemas multiarranque

Particionar el disco duro se refiere simplemente al acto de dividir el disco en
secciones. De esta forma cada sección es independiente de las otras. Es como
colocar paredes dentro de una casa, si añade muebles a una habitación no afecta
a las otras.

Si ya tiene un sistema operativo en su sistema (Windows 9x, Windows NT/2000/XP/
2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...) que ocupa el disco completo,
y desea colocar Debian en el mismo disco, necesitará reparticionar el disco.
Debian requiere sus propias particiones de disco duro. No se puede instalar en
particiones de Windows o Mac OS X. Podría tener la posibilidad de compartir
algunas particiones con otros sistemas Unix, pero este tema no se cubre en este
manual. Al menos necesitará una partición dedicada para el sistema de ficheros
raíz de Debian.

Puede encontrar información del estado actual de sus particiones mediante una
herramienta de particionado para su sistema operativo actual , como el
administrador de disco integrado en Windows o fdisk en DOS . Las herramientas
de particionado siempre disponen de una opción en la que se pueden mostrar las
particiones existentes sin realizar cambios.

En general, cambiar una partición con un sistema de ficheros existente
destruirá cualquier información que contenga. Por lo tanto, siempre deberá
efectuar copias de seguridad antes de hacer un reparticionado. Usando la
analogía de la casa, probablemente querría mover todos los muebles antes de
mover una pared, en caso contrario se arriesga a destruirlos.

Muchos sistemas operativos modernos ofrecen la función de desplazar y
redimensionar ciertas particiones presentes sin destruir su contenido. Esto
permite la creación de espacio para particiones adicionales sin perder los
datos presentes. Aunque habitualmente esto ofrece buen resultado, realizar
cambios al particionado de un disco es una acción inherentemente peligrosa, y
solo se debe realizar tras crear una copia de seguridad de todos los datos. 
Para particiones FAT/FAT32 y NTFS como se usan por sistemas DOS y Windows, la
función de desplazar y redimensionar la ofrecen tanto debian-installer así como
el administrador de disco integrado de Windows 7.

Para redimensionar una partición presente FAT o NTFS desde debian-installer sin
pérdida de datos, vaya al paso de particionado, seleccione la opción de
particionado manual, seleccione la partición que redimensionar, y sencillamente
especifique su tamaño nuevo.

La creación y eliminación de particiones se puede realizar desde
debian-installer así como desde un sistema operativo existente. Como regla
general, el sistema que se va a utilizar debería crear la particiones que
utilizará, esto es, las particiones que va a utilizar Debian GNU/Linux se
deberían crear desde debian-installer, y las particiones que utilizará otro
sistema operativo se debería crear desde el mismo. debian-installer es capaz de
crear particiones distintas a Linux, y las particiones creadas de esta forma
funcionan habitualmente sin problemas cuando son usados por otros sistemas
operativos, pero hay algunos casos excepcionales donde esto puede provocar
problemas. Por ello , se desea estar seguro, utilice las herramientas nativas
de particionado para la creación de particiones para su uso por otros sistemas
operativos.

Si va a instalar más de un sistema operativo en la misma máquina, debe instalar
todos los sistemas operativos antes de proceder con la instalación de Debian.
Las instalaciones de Windows y otros sistemas operativos pueden destruir su
capacidad de arrancar Debian o animarle a formatear de nuevo particiones que no
sean nativas.

Puede recuperarse de estas acciones o evitarlas, pero evitará estos problemas
si instala primero el sistema nativo.

3.6. Preinstalación de hardware y configuración del sistema operativo

Esta sección le guiará a través de la preinstalación y configuración de
hardware, en caso de ser necesaria, previa a la instalación de Debian.
Generalmente, involucra comprobar y posiblemente cambiar la configuración de la
BIOS/firmware del sistema para su sistema. La "BIOS" o el "firmware del sistema
" es el software base usado por el hardware, y es fundamental durante el
proceso de arranque (después del encendido).

3.6.1. Utilización del menú de configuración de la BIOS

La BIOS provee las funcionalidades básicas necesarias para arrancar su máquina
y permitir al sistema operativo acceder a su hardware. Su sistema ofrece un
menú de configuración de la BIOS, usado para configurarla. Para acceder al menú
de configuración de la BIOS, debe pulsar un tecla o combinación de teclas
después de arrancar el sistema. Habitualmente, es la tecla Supr o la tecla F2,
pero algunos fabricantes utilizan otras. Generalmente, al arrancar el sistema
se muestra un mensaje que indica la tecla que pulsar para acceder a la pantalla
de configuración.

3.6.2. Selección de dispositivo de arranque

En el menú de configuración de la BIOS, puede seleccionar los dispositivos que
comprobar, así como su orden, en busca de un sistema operativo arrancable. Las
selecciones posibles incluyen los discos duros, internos, la unidad de CD/
DVD-ROM, y dispositivos de almacenamiento USB como dispositivos USB o discos
duros externos USB. Los sistemas modernos también existe la posibilidad de
activar el arranque por red mediante PXE.

Según el medio de instalación (CD/DVD ROM, dispositivo USB, arranque por red)
que ha seleccionado, debe activar los dispositivos de arranque pertinentes si
aún no están activados.

La mayoría de las variantes de BIOS permiten invocar un menú de arranque
durante el arranque del sistema, que permite seleccionar el dispositivo desde
el que debe arrancar el sistema para la sesión actual. Si esta opción está
disponible, habitualmente la BIOS muestra un mensaje breve como "pulse F12 para
el menú de arranque" durante el arranque del sistema. La tecla que se utiliza
para acceder a este menú varía según el sistema; teclas comúnmente utilizados
son F12, F11 and F8. Si se selecciona un dispositivo de este menú no se
modifica el orden de arranque predeterminado de la BIOS; esto es, puede
realizar el arranque una vez desde un dispositivo USB mientras que el disco
duro interno está configurado como el dispositivo de arranque principal
predeterminado.

Si la BIOS no proporciona un menú de arranque para realizar selecciones
específicas del dispositivo de arranque actual, debe modificar la configuración
de la BIOS para que el dispositivo desde el que arranca debian-installer sea el
dispositivo de arranque principal.

Unfortunately some computers contain buggy BIOS versions. Booting
debian-installer from a USB stick might not work even if there is an
appropriate option in the BIOS setup menu and the stick is selected as the
primary boot device. On some of these systems using a USB stick as boot medium
is impossible; others can be tricked into booting from the stick by changing
the device type in the BIOS setup from the default "USB harddisk" or "USB stick
" to "USB ZIP" or "USB CDROM". In particular if you use an isohybrid CD/DVD
image on a USB stick (see Sección 4.3.1, "Preparación de una memoria USB
utilizando una imagen de CD o DVD híbrida"), changing the device type to "USB
CDROM" helps on some BIOSes which will not boot from a USB stick in USB
harddisk mode. You may need to configure your BIOS to enable "USB legacy
support".

Si no puede modificar la BIOS para que arranque de forma directa desde un
dispositivo USB, queda la opción de utilizar una ISO copiada al dispositivo.
Arranque debian-installer mediante Sección 4.4, "Preparación de los ficheros
para arranque desde el disco duro" y, después de analizar los discos duros para
detectar una imagen ISO de instalador, seleccione el dispositivo USB y una
imagen de instalación.

3.6.3. Systems with UEFI firmware

UEFI ("Unified Extensible Firmware Interface") is a new kind of system firmware
that is used on many modern systems and is - among other uses - intended to
replace the classic PC BIOS.

Currently most PC systems that use UEFI also have a so-called "Compatibility
Support Module" (CSM) in the firmware, which provides exactly the same
interfaces to an operating system as a classic PC BIOS, so that software
written for the classic PC BIOS can be used unchanged. Nonetheless UEFI is
intended to one day completely replace the old PC BIOS without being fully
backwards-compatible and there are already a lot of systems with UEFI but
without CSM.

On systems with UEFI there are a few things to take into consideration when
installing an operating system. The way the firmware loads an operating system
is fundamentally different between the classic BIOS (or UEFI in CSM mode) and
native UEFI. One major difference is the way the harddisk partitions are
recorded on the harddisk. While the classic BIOS and UEFI in CSM mode use a DOS
partition table, native UEFI uses a different partitioning scheme called "GUID
Partition Table" (GPT). On a single disk, for all practical purposes only one
of the two can be used and in case of a multi-boot setup with different
operating systems on one disk, all of them must therefore use the same type of
partition table. Booting from a disk with GPT is only possible in native UEFI
mode, but using GPT becomes more and more common as hard disk sizes grow,
because the classic DOS partition table cannot address disks larger than about
2 Terabytes while GPT allows for far larger disks. The other major difference
between BIOS (or UEFI in CSM mode) and native UEFI is the location where boot
code is stored and in which format it has to be. This means that different
bootloaders are needed for each system.

The latter becomes important when booting debian-installer on a UEFI system
with CSM because debian-installer checks whether it was started on a BIOS- or
on a native UEFI system and installs the corresponding bootloader. Normally
this simply works but there can be a problem in multi-boot environments. On
some UEFI systems with CSM the default boot mode for removable devices can be
different from what is actually used when booting from hard disk, so when
booting the installer from a USB stick in a different mode from what is used
when booting another already installed operating system from the hard disk, the
wrong bootloader might be installed and the system might be unbootable after
finishing the installation. When choosing the boot device from a firmware boot
menu, some systems offer two seperate choices for each device, so that the user
can select whether booting shall happen in CSM or in native UEFI mode.

Another UEFI-related topic is the so-called "secure boot" mechanism. Secure
boot means a function of UEFI implementations that allows the firmware to only
load and execute code that is cryptographically signed with certain keys and
thereby blocking any (potentially malicious) boot code that is unsigned or
signed with unknown keys. In practice the only key accepted by default on most
UEFI systems with secure boot is a key from Microsoft used for signing the
Windows bootloader. As the boot code used by debian-installer is not signed by
Microsoft, booting the installer requires prior deactivation of secure boot in
case it is enabled. Secure boot is often enabled by default on systems that
come preinstalled with a 64-bit version of Windows 8 and there is unfortunately
no standard way to disable it in the UEFI setup. On some systems, the option to
disable secure boot is only made visible when a BIOS password has been set by
the user, so if you have a system with secure boot enabled, but cannot find an
option to disable it, try setting a BIOS password, powercycle the machine and
look again for an appropriate option.

3.6.4. Disabling the Windows 8 "fast boot" feature

Windows 8 offers a feature called "fast boot" to cut down system startup time.
Technically, when this feature is enabled, Windows 8 does not do a real
shutdown and a real cold boot afterwards when ordered to shut down, but instead
does something resembling a partial suspend to disk to reduce the "boot" time.
As long as Windows 8 is the only operating system on the machine, this is
unproblematic, but it can result in problems and data loss when you have a dual
boot setup in which another operating system accesses the same filesystems as
Windows 8 does. In that case the real state of the filesystem can be different
from what Windows 8 believes it to be after the "boot" and this could cause
filesystem corruption upon further write accesses to the filesystem. Therefore
in a dual boot setup, to avoid filesystem corruption the "fast boot" feature
has to be disabled within Windows.

It may also be necessary to disable "fast boot" to even allow access to UEFI
setup to choose to boot another operating system or debian-installer. On some
UEFI systems, the firmware will reduce "boot" time by not initialising the
keyboard controller or USB hardware; in these cases, it is necessary to boot
into Windows and disable this feature to allow for a change of boot order.

3.6.5. Problemas de hardware a tener en cuenta

Compatibilidad de USB en la BIOS y teclados USB. Si no tiene teclados de estilo
PS/2 sino solamente un modelo USB, puede que para sistemas muy antiguos
necesite habilitar la emulación de compatibilidad de teclado para versiones
antiguas en la configuración de la BIOS para poder utilizar el teclado en el
menú del gestor de arranque, aunque esto no es un problema en sistemas
modernos. Si su teclado no funciona en el menú del gestor de arranque, consulte
el manual de su placa base y busque las opciones "Emulación de compatibilidad
de teclado" o "Compatibilidad de teclado USB".

Capítulo 4. Obtener el medio de instalación del sistema

Tabla de contenidos

4.1. Juegos oficiales de CD/DVD-ROM de Debian GNU/Linux
4.2. Descarga de ficheros desde réplicas de Debian

    4.2.1. Dónde encontrar las imágenes de instalación

4.3. Preparación de ficheros para el arranque desde un dispositivo de memoria
    USB

    4.3.1. Preparación de una memoria USB utilizando una imagen de CD o DVD
        híbrida
    4.3.2. Copia manual de los ficheros a la memoria USB
    4.3.3. Copia manual de los ficheros a la memoria USB -- la forma flexible

4.4. Preparación de los ficheros para arranque desde el disco duro

    4.4.1. Arranque del instalador desde el disco duro con Linux utilizando 
        LILO o GRUB
    4.4.2. Arranque del instalador desde el disco duro con DOS usando loadlin

4.5. Preparación de los ficheros para el arranque a través de red usando TFTP

    4.5.1. Configuración del servidor DHCP
    4.5.2. Configuración del servidor BOOTP
    4.5.3. Habilitar el servidor TFTP
    4.5.4. Mover las imágenes TFTP a su ubicación

4.6. Instalación automática

    4.6.1. Utilizar el instalador de Debian para realizar una instalación
        automática

4.1. Juegos oficiales de CD/DVD-ROM de Debian GNU/Linux

Por muchas razones la forma más simple es instalar Debian GNU/Linux desde un
juego oficial de CD/DVD-ROM. Puede comprar un juego a algún proveedor (vea la
página de vendedores de CD). También podría descargar las imágenes de CD/
DVD-ROM desde una réplica de Debian y hacer su propio juego, si tiene una
conexión de red rápida y una grabadora de CD/DVD (para instrucciones detalladas
vea la página de CD de Debian y la página de PUF de CD de Debian). Si tiene un
juego de CD/DVD de Debian y su máquina es capaz de arrancar desde un CD/DVD,
que es el caso en todos los PC modernos,puede pasar al Capítulo 5, Arranque del
sistema de instalación. Se ha invertido un gran esfuerzo para garantizar que
los ficheros que necesita la mayoría de personas estén en los primeros CD o
DVD, para poder realizar una instalación básica de escritorio solo con el
primer DVD o, de forma limitada, incluso solo con el primer CD.

Debido a que los CD tienen una capacidad limitada para los estándares actuales,
no todos los entornos gráficos de escritorio se pueden instalar solo con el
primer CD; la instalación de algunos entornos de escritorio mediante CD
requiere bien la conectividad de red durante la instalación para descargar los
ficheros restantes, o bien CD adicionales.

Also, keep in mind: if the CDs/DVDs you are using don't contain some packages
you need, you can always install those packages afterwards from your running
new Debian system (after the installation has finished). If you need to know on
which CD/DVD to find a specific package, visit https://
cdimage-search.debian.org/.

If your machine doesn't support CD booting (only relevant on very old PC
systems), but you do have a CD set, you can use an alternative strategy such as
hard disk, usb stick, net boot, or manually loading the kernel from the CD to
initially boot the system installer. The files you need for booting by another
means are also on the CD; the Debian network archive and CD folder organization
are identical. So when archive file paths are given below for particular files
you need for booting, look for those files in the same directories and
subdirectories on your CD.

Una vez que el instalador haya arrancado, éste podrá obtener el resto de los
ficheros necesarios desde el CD.

If you don't have a CD set, then you will need to download the installer system
files and place them on the hard disk or usb stick or a connected computer so
they can be used to boot the installer.

4.2. Descarga de ficheros desde réplicas de Debian

Para encontrar la réplica más cercana (y probablemente la más rápida), vea la
lista de réplicas de Debian.

4.2.1. Dónde encontrar las imágenes de instalación

Las imágenes de instalación están ubicadas en cada réplica de Debian en el
directorio debian/dists/buster/main/installer-amd64/current/images/ -- el
fichero MANIFEST contiene una lista con cada imagen y su propósito.

4.3. Preparación de ficheros para el arranque desde un dispositivo de memoria
USB

Para preparar una memoria USB, necesitará un sistema en el cual ya esté
corriendo GNU/Linux y con compatibilidad con USB. En los sistemas GNU/Linux
actuales la memoria USB debería reconocerse automáticamente cuando la inserta.
Si no es así, compruebe que el módulo del núcleo usb-storage esté cargado.
Cuando se inserta una memoria USB, se mapeará a un dispositivo llamado /dev/
sdX, en el que "X" es una letra entre la a y la z. Al ejecutar la orden dmesg
debería poder visualizar a qué dispositivo se mapea la memoria USB al
insertarla. Para escribir en la memoria, es posible que deba quitar el seguro
de protección contra escritura.

Aviso

¡Los procedimientos descritos en esta sección destruirán todo el contenido del
dispositivo! Asegúrese de elegir correctamente el nombre del dispositivo para
su memoria USB. Si usa el dispositivo incorrecto podría terminar perdiendo toda
la información de, por ejemplo, un disco duro.

4.3.1. Preparación de una memoria USB utilizando una imagen de CD o DVD híbrida

Debian CD and DVD images can now be written directly to a USB stick, which is a
very easy way to make a bootable USB stick. Simply choose a CD or DVD image
(such as the netinst, CD-1, DVD-1, or netboot) that will fit on your USB stick.
See Sección 4.1, "Juegos oficiales de CD/DVD-ROM de Debian GNU/Linux" to get a
CD or DVD image.

Opcionalmente, para memorias USB de poca capacidad, puede descargar la imagen
mini.iso desde el directorio netboot (en la ubicación mencionada en
Sección 4.2.1, "Dónde encontrar las imágenes de instalación").

The CD or DVD image you choose should be written directly to the USB stick,
overwriting its current contents. For example, when using an existing GNU/Linux
system, the CD or DVD image file can be written to a USB stick as follows,
after having made sure that the stick is unmounted:

# cp debian.iso /dev/sdX
# sync

Information about how to do this on other operating systems can be found in the
Debian CD FAQ.

Importante

The image must be written to the whole-disk device and not a partition, e.g. /
dev/sdb and not /dev/sdb1. Do not use tools like unetbootin which alter the
image.

Importante

La escritura de una imagen de CD o DVD a un USB debe funcionar de forma
adecuada para la mayoría de usuarios. Las otras opciones a continuación son más
complejos, generalmente para personas con necesidades especiales.

La imagen híbrido en el dispositivo no ocupa todo el espacio de almacenamiento,
con lo que considere utilizar el espacio libre para almacenar ficheros de
firmware, paquetes o cualquier tipo de fichero que quiera. Puede ser útil si
solo se dispone de un dispositivo o simplemente desea almacenar todo en un
único dispositivo.

Cree una segunda partición FAT en el dispositivo, monte la partición y copie o
desempaquete el firmware en él. Por ejemplo:

# mount /dev/sdX2 /mnt
# cd /mnt
# tar zxvf /path/to/firmware.tar.gz
# cd /
# umount /mnt

Puede que haya escrito el fichero mini.iso en el dispositivo USB. En este caso,
la creación de la segunda partición no es necesaria, ya que está presente.
Desconectar y reconectar el dispositivo USB debería hacer visibles las dos
particiones.

4.3.2. Copia manual de los ficheros a la memoria USB

Una forma alternativa de configurar el dispositivo USB es copiar manualmente
los ficheros del instalador así como la imagen del CD. Tenga en cuenta que el
dispositivo USB debe tener como mínimo una capacidad de 1 GB (se pueden
realizar configuraciones con menos capacidad, tal como se indica en
Sección 4.3.3, "Copia manual de los ficheros a la memoria USB -- la forma
flexible").

Existe un fichero «todo en uno» hd-media/boot.img.gz que contiene todos los
ficheros del instalador (incluyendo el núcleo) al igual que syslinux y su
fichero de configuración .

Tenga en cuenta que, aunque es conveniente, este método tiene una gran
desventaja: el tamaño lógico del dispositivo se limitará a 1 GB, incluso si la
capacidad de la memoria USB es mayor. Si quiere contar con la capacidad
completa de la memoria posteriormente para un uso diferente, tendrá que
reparticionarla y crear un nuevo sistema de ficheros

Para usar esta imagen sencillamente extráigala directamente en la memoria USB:

# zcat boot.img.gz >/dev/sdX

Después de esto, monte la memoria USB (mount /dev/sdX /mnt), que ahora tendrá
un sistema de ficheros FAT en ella, y copie una imagen ISO de Debian («netinst»
o CD completo) a la memoria USB. Desmonte el dispositivo USB (umount /mnt) y
habrá terminado.

4.3.3. Copia manual de los ficheros a la memoria USB -- la forma flexible

If you like more flexibility or just want to know what's going on, you should
use the following method to put the files on your stick. One advantage of using
this method is that -- if the capacity of your USB stick is large enough -- you
have the option of copying any ISO image, even a DVD image, to it.

4.3.3.1. Particionado de las memorias USB

Le mostraremos como configurar una memoria USB para usar la primera partición
en lugar de todo el dispositivo.

Nota

Puesto que la mayoría de memorias USB vienen con una sola partición FAT16 ya
configurada, probablemente no tendrá que reparticionar o reformatear el
dispositivo. Si aún así tiene que hacerlo, utilice cfdisk o cualquier otra
herramienta de particionado para crear la partición FAT16^[3], e instale un MBR
utilizando:

# install-mbr /dev/sdX

La orden install-mbr se encuentra en el paquete de Debian mbr. A continuación
cree el sistema de ficheros utilizando:

# mkdosfs /dev/sdX1

Tenga cuidado de usar el nombre de dispositivo correcto para su memoria USB. La
orden mkdosfs se encuentra en el paquete de Debian dosfstools.

Para iniciar el núcleo después de arrancar desde el dispositivo USB,
necesitaremos colocar un gestor de arranque en él. Aunque cualquier gestor de
arranque (como lilo) debería funcionar, es conveniente usar syslinux, puesto
que usa una partición FAT16 y puede reconfigurarse con sólo editar un fichero
de texto. Puede usar cualquier sistema operativo compatible con el sistema de
ficheros FAT para hacer cambios a la configuración del gestor de arranque.

Para ubicar syslinux en la partición FAT16 de su memoria USB, instale los
paquetes syslinux y mtools en su sistema, y ejecute

# syslinux /dev/sdX1

Nuevamente, tenga cuidado de usar el nombre de dispositivo correcto. La
partición no debe estar montada cuando ejecute syslinux. Este procedimiento
escribe un sector de arranque en la partición y crea el fichero ldlinux.sys que
contiene el código del gestor de arranque.

4.3.3.2. Añadir la imagen del instalador

Mount the partition (mount /dev/sdX1 /mnt) and copy the following installer
image files to the stick:

  • vmlinuz or linux (kernel binary)

  • initrd.gz (initial ramdisk image)

You can choose between either the text-based or the graphical version of the
installer. The latter can be found in the gtk subdirectory. If you want to
rename the files, please note that syslinux can only process DOS (8.3) file
names.

Next you should create a syslinux.cfg configuration file, which at a bare
minimum should contain the following line (change the name of the kernel binary
to "linux" if you used a netboot image):

default vmlinuz initrd=initrd.gz

For the graphical installer you should add vga=788 to the line. Other
parameters can be appended as desired.

Para activar la solicitud en el arranque para permitir la suma de más
parámetros, añada la línea prompt 1.

Si se ha utilizado una imagen hd-media, debe copiar ahora el fichero ISO de una
imagen ISO de Debian^[4] en la memoria. Cuando haya finalizado, desmonte la
memoria USB, (umount /mnt).

4.4. Preparación de los ficheros para arranque desde el disco duro

El instalador puede arrancarse usando ficheros de arranque colocados en una
partición existente del disco duro, ya sea cargándolos desde otro sistema
operativo o ejecutando directamente un gestor de arranque desde la BIOS.

Se puede conseguir una instalación "completamente a través de la red" usando
esta técnica. Esto evita todas las molestias de los medios extraíbles, como
encontrar y quemar las imágenes de CD o batallar con muchos, y poco fiables,
disquetes.

4.4.1. Arranque del instalador desde el disco duro con Linux utilizando LILO o 
GRUB

Esta sección explica como añadir o incluso reemplazar una instalación de Linux
existente usando LILO o GRUB.

En el momento de arranque, ambos gestores permiten la carga en memoria no
solamente el núcleo, sino también de una imagen de disco. El núcleo puede usar
este disco RAM como sistema de ficheros raíz.

Copie los siguientes ficheros desde los archivos de Debian a una ubicación
conveniente en su disco duro (tenga en cuenta que LILO no puede arrancar desde
ficheros en un sistema de ficheros NTFS), por ejemplo a /boot/newinstall/.

  • vmlinuz (binario del núcleo)

  • initrd.gz (imagen de disco RAM)

Finalmente, para configurar el gestor de arranque continúe en Sección 5.1.5,
"Arranque desde Linux utilizando LILO o GRUB".

4.4.2. Arranque del instalador desde el disco duro con DOS usando loadlin

Esta sección explica como preparar su disco duro para arrancar el instalador
desde DOS usando loadlin.

Copie los siguientes directorios de una imagen de CD de Debian a c:\.

  • /install.amd (núcleo binario e imagen de disco RAM)

  • /tools (herramienta loadlin)

4.5. Preparación de los ficheros para el arranque a través de red usando TFTP

Si su máquina está conectada a una red de área local, podría tener la
posibilidad de arrancarla a través de la red desde otra máquina, usando TFTP.
Si pretende arrancar el sistema de instalación desde otra máquina, debe ubicar
los ficheros de arranque necesarios en lugares específicos en esa máquina, y
debe configurarla para permitir el arranque desde ella.

Necesita configurar un servidor TFTP, y, en caso de que tenga muchas máquinas,
un servidor DHCP , o un servidor BOOTP.

BOOTP es un protocolo IP que informa al ordenador de su dirección IP y desde
dónde puede obtener una imagen de arranque en la red. DHCP («Dynamic Host
Configuration Protocol», o protocolo de configuración dinámica de equipos) es
una extensión de BOOTP compatible con éste, pero más flexible. Algunos sistemas
solamente se pueden configurar a través de DHCP.

El protocolo de transferencia trivial de ficheros (TFTP) se usa para servir la
imagen de arranque al cliente. Teóricamente, se puede usar cualquier servidor,
en cualquier plataforma, que implemente este protocolo. En los ejemplos de esta
sección, mostraremos órdenes para SunOS 4.x, SunOS 5.x (conocido también como
Solaris) y GNU/Linux.

Nota

Recomendamos usar tftpd-hpa para un servidor Debian GNU/Linux. Está escrito por
el mismo autor del gestor de arranque syslinux, y por ello menos proclive a
generar problemas. Una buena alternativa es atftpd.

4.5.1. Configuración del servidor DHCP

Un servidor DHCP de software libre es el dhcpd de ISC. Se recomienda el uso del
paquete isc-dhcp-server en Debian GNU/Linux. A continuación se muestra una
configuración de ejemplo para él (consulte /etc/dhcpd3/dhcpd.conf):

option domain-name "ejemplo.com";
option domain-name-servers ns1.ejemplo.com;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "nombre-de-servidor";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host nombredecliente {
  filename "/tftpboot.img";
  server-name "nombre-de-servidor";
  next-server nombre-de-servidor;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

En este ejemplo, hay un servidor nombre-de-servidor que hace el trabajo de
DCHP, servidor, servidor TFTP y puerta de enlace de la red. Probablemente
necesite cambiar las opciones de nombre de dominio, así como la dirección
hardware del servidor y del cliente. La opción filename debe ser el nombre del
fichero que se recuperará a través de TFTP.

Después de editar el fichero de configuración de dhcpd, reinícielo con /etc/
init.d/isc-dhcp-server restart.

4.5.1.1. Habilitar el arranque PXE en la configuración DHCP

Aquí hay otro ejemplo para un dhcp.conf usando el método de Entorno de
ejecución de pre-arranque (PXE) de TFTP.

option domain-name "ejemplo.com";

default-lease-time 6048;
max-lease-time 604800;

allow booting;
allow bootp;

# El siguiente párrafo debe modificarse para adaptarlo a su caso
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# la dirección de la puerta de enlace puede ser diferente
# (por ejemplo, acceso a Internet)
  option routers 192.168.1.1;
# indique el dns que desea usar
  option domain-name-servers 192.168.1.3;
}

group {
  next-server 192.168.1.3;
  host tftpclient {
# dirección hardware del cliente tftp
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Note que para el arranque PXE, el fichero del cliente pxelinux.0 es un gestor
de arranque, no una imagen de núcleo (vea Sección 4.5.4, "Mover las imágenes
TFTP a su ubicación" a continuación).

If your machine uses UEFI to boot, you will have to specify a boot loader
appropriate for UEFI machines, for example

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Configuración del servidor BOOTP

Existen dos servidores BOOTP disponibles para GNU/Linux, el bootpd de CMU. El
otro que en realidad es un servidor DHCP, el dhcpd de ISC. En Debian GNU/Linux
se pueden encontrar en los paquetes bootp y isc-dhcp-server respectivamente.

Para usar el bootpd de CMU, primero debe comentar (o añadir) la línea relevante
en /etc/inetd.conf. En Debian GNU/Linux, puede ejecutar update-inetd --enable
bootps, y luego /etc/init.d/inetd reload para hacerlo. En caso de que su
servidor de BOOTP no se esté ejecutando en un sistema Debian GNU/Linux, la
línea en cuestión deberá ser como sigue:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Ahora, debe crear el fichero /etc/bootptab. Tiene el mismo tipo de formato
familiar y críptico que los ficheros antiguos de BSD printcap, termcap, y
disktab. Vea la página de manual de bootptab para más información. Para el 
bootpd de CMU, necesitará conocer la dirección de hardware (MAC) del cliente.
Este es un /etc/bootptab de ejemplo:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Necesitará cambiar por lo menos la opción "ha", que especifica la dirección
hardware del cliente. La opción "bf" especifica el fichero que el cliente debe
recuperar a través de TFTP; para más detalles vea Sección 4.5.4, "Mover las
imágenes TFTP a su ubicación".

En contraste, configurar BOOTP con dhcpd de ISC es realmente fácil, porque
trata los clientes BOOTP como casos moderadamente especiales de clientes DHCP.
Algunas arquitecturas necesitan una configuración compleja para arrancar
clientes a través de BOOTP. Si la suya es una de estas, lea la sección
Sección 4.5.1, "Configuración del servidor DHCP". De otro modo, probablemente
pueda continuar con sólo añadir la directiva allow bootp al bloque de
configuración para la sub-red donde se ubique el cliente en /etc/dhcp/
dhcpd.conf, y reiniciar dhcpd con /etc/init.d/isc-dhcp-server restart.

4.5.3. Habilitar el servidor TFTP

Para tener listo el servidor TFTP, primero deberá asegurarse de que la orden 
tftpd está instalada.

Existen dos formas de ejecutar el servicio de tftpd-hpa. Puede iniciarlo desde
el demonio del sistema inetd, o lo puede configurar para que se inicie como un
demonio independiente. El método a usar se selecciona durante la instalación
del paquete, y se puede modificar reconfigurando el paquete.

Nota

Los servidores de TFTP utilizan /tftpboot como directorio del que servir las
imágenes por motivos históricos. Sin embargo, algunos paquetes Debian GNU/Linux
puede utilizar otros directorios para cumplir con el estándar de jerarquía de
sistemas de ficheros. Por ejemplo, tftpd-hpa utiliza, por omisión, /srv/tftp.
Puede tener que ajustar los ejemplos de configuración en esta sección si la
ubicación varía.

Todas las alternativas de in.tftpd en Debian deberían almacenar las solicitudes
TFTP en la registro del sistema de forma predeterminada. Algunas de ellas
cuentan con el argumento -v para ofrecer más información. Se recomienda revisar
todos los mensajes del registro en caso de problemas al arrancar puesto que son
un buen punto de partida para diagnosticar la causa de los errores.

4.5.4. Mover las imágenes TFTP a su ubicación

Seguidamente, ubique la imagen TFTP de arranque que necesita, como se describe
en la Sección 4.2.1, "Dónde encontrar las imágenes de instalación", en el
directorio de imagen de arranque de tftpd. Tendrá que hacer un enlace desde
este fichero hacia el fichero que usará tftpd para arrancar un cliente en
específico. Desafortunadamente, el nombre del fichero es determinado por el
cliente TFTP, y no existe un estándar definido.

For PXE booting, everything you should need is set up in the netboot/
netboot.tar.gz tarball. Simply extract this tarball into the tftpd boot image
directory. Make sure your dhcp server is configured to pass pxelinux.0 to tftpd
as the filename to boot. For UEFI machines, you will need to pass an
appropriate EFI boot image name (such as /debian-installer/amd64/
bootnetx64.efi).

4.6. Instalación automática

Es posible efectuar instalaciones totalmente automáticas para instalaciones en
múltiples ordenadores. Los paquetes de Debian disponibles para este propósito
son: fai-quickstart (que usa un servidor de instalación), y el mismo instalador
de Debian. Para más información visite la página oficial de FAI

4.6.1. Utilizar el instalador de Debian para realizar una instalación
automática

El instalador de Debian permite instalaciones automatizadas a través de
ficheros de preconfiguración. Puede cargar un fichero de preconfiguración bien
utilizando la red o bien utilizando medios extraíbles y hacer uso de éste para
responder a las preguntas que se formulan durante el proceso de instalación.

Puede encontrar la documentación completa sobre la configuración de semillas de
preconfiguración y un ejemplo que puede editar para trabajar en Apéndice B, 
Instalar automáticamente utilizando preconfiguración.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] No olvide de definir la marca de "arranque".

^[4] Puede usar netinst o una imagen completa de CD (consulte Sección 4.1,
"Juegos oficiales de CD/DVD-ROM de Debian GNU/Linux"). Asegúrese de elegir una
que quepa. Tenga en cuenta que la imagen "mini.iso netboot" no sirve para este
propósito.

Capítulo 5. Arranque del sistema de instalación

Tabla de contenidos

5.1. Arranque del instalador en 64-bit PC

    5.1.1. Arranque desde un dispositivo de memoria USB
    5.1.2. Arranque desde un CD-ROM
    5.1.3. Arranque desde Windows
    5.1.4. Arranque desde DOS utilizando loadlin
    5.1.5. Arranque desde Linux utilizando LILO o GRUB
    5.1.6. Arranque con TFTP
    5.1.7. La pantalla de arranque
    5.1.8. The Graphical Installer

5.2. Accesibilidad

    5.2.1. Installer front-end
    5.2.2. Dispositivos Braille USB
    5.2.3. Dispositivos Braille Seriales
    5.2.4. Software de Síntesis de Voz
    5.2.5. Dispositivos de Síntesis de Voz
    5.2.6. Dispositivos de Tarjeta
    5.2.7. Temas de Alto contraste
    5.2.8. Zoom
    5.2.9. Expert install, rescue mode, automated install
    5.2.10. Accesibilidad del sistema instalado

5.3. Parámetros de arranque

    5.3.1. Consola de arranque
    5.3.2. Parámetros del instalador de Debian
    5.3.3. Utilizar parámetros de arranque para responder a preguntas
    5.3.4. Pasar parámetros a módulos del núcleo
    5.3.5. Poner módulos del núcleo en una lista negra

5.4. Resolución de problemas en el proceso de instalación

    5.4.1. Fiabilidad de la unidad de CD-ROM
    5.4.2. Configuración del arranque
    5.4.3. Software de Síntesis de Voz
    5.4.4. Problemas comunes durante la instalación en 64-bit PC
    5.4.5. Interpretar los mensajes de inicio del núcleo
    5.4.6. Informar de fallos
    5.4.7. Enviar los informes de la instalación

5.1. Arranque del instalador en 64-bit PC

Aviso

Debería asegurarse de que ha apagado otros sistemas operativos antes de
arrancar el instalador si desea poder mantener estos sistemas (configuración de
arranque dual). La instalación de un sistema operativo mientras otro está
hibernado (o se ha suspendido a disco) podría resultar en daños o la pérdida
del estado del sistema operativo suspendido. Esto, a su vez, podría causar
problemas cuando se vuelva a arrancar.

Nota

Consulte Sección 5.1.8, "The Graphical Installer" si desea más información
sobre el arranque del instalador gráfico.

5.1.1. Arranque desde un dispositivo de memoria USB

If your computer will boot from USB, this will probably be the easiest route
for installation. Assuming you have prepared everything from Sección 3.6.2,
"Selección de dispositivo de arranque" and Sección 4.3, "Preparación de
ficheros para el arranque desde un dispositivo de memoria USB", just plug your
USB stick into some free USB connector and reboot the computer. The system
should boot up, and unless you have used the flexible way to build the stick
and not enabled it, you should be presented with a graphical boot menu (on
hardware that supports it). Here you can select various installer options, or
just hit Enter.

5.1.2. Arranque desde un CD-ROM

Si tiene un juego de CDs y su máquina puede arrancar directamente desde el CD,
¡excelente!. Simplemente configure su sistema para arrancar desde un CD como se
describe en la Sección 3.6.2, "Selección de dispositivo de arranque", inserte
su CD, reinicie y proceda con el próximo capítulo.

Note que algunas unidades de CD podrían necesitar controladores especiales, por
consiguiente podrían estar inaccesibles en las etapas iniciales de la
instalación. Si el arranque desde CD no funciona en su hardware, vuelva a este
capítulo y lea sobre los núcleos y métodos de instalación alternativos que
podrían funcionar en su caso.

Even if you cannot boot from CD-ROM, you can probably install the Debian system
components and any packages you want from CD-ROM. Simply boot using a different
medium and when it's time to install the operating system, base system, and any
additional packages, point the installation system at the CD-ROM drive.

Si tiene problemas arrancando, vea la Sección 5.4, "Resolución de problemas en
el proceso de instalación".

5.1.3. Arranque desde Windows

Para iniciar el instalador desde Windows, puede

  • obtener primero un medio de instalación en CD-ROM/DVD-ROM o una memoria USB
    como se describe en Sección 4.1, "Juegos oficiales de CD/DVD-ROM de Debian
    GNU/Linux" y Sección 4.3, "Preparación de ficheros para el arranque desde
    un dispositivo de memoria USB", o bien

  • descargar un archivo independiente ejecutable de Windows, que se encuentra
    en tools/win32-loader/stable/win32-loader.exe en los servidores de réplica
    de Debian.

Si usa un CD o DVD de instalación, se lanzará un programa de pre-instalación
automáticamente cuando inserte el disco. En caso de que Windows no lo ejecute
automáticamente, o si está usando una memoria USB, puede ejecutarlo manualmente
accediendo al dispositivo y ejecutando setup.exe.

Después de haber iniciado el programa, se le hará una serie de preguntas
preliminares y el sistema estará preparado para iniciar el instalador de Debian
GNU/Linux.

5.1.4. Arranque desde DOS utilizando loadlin

Arranque DOS (no Windows). Para ello puede, por ejemplo, arrancar desde un
disco de restauración o diagnóstico.

Si puede acceder al CD de instalación, cambie el disco actual al disco en el
lector de discos ópticos, por ejemplo:

d:

. o compruebe que primero ha preparado el disco duro como se explica en
Sección 4.4.2, "Arranque del instalador desde el disco duro con DOS usando 
loadlin", y cambie el disco actual si es necesario.

Entre en el subdirectorio de la variante que ha seleccionado, por ejemplo,

cd \install.amd

Si prefiere usar el instalador gráfico entre en el subdirectorio gtk.

cd gtk

A continuación, ejecute install.bat. El núcleo se cargará y arrancará el
sistema del instalador.

5.1.5. Arranque desde Linux utilizando LILO o GRUB

Para arrancar el instalador desde el disco duro, primero deberá descargar los
ficheros necesarios como se describe en Sección 4.4, "Preparación de los
ficheros para arranque desde el disco duro".

Si intenta usar el disco duro solamente para arrancar y descargar todo a través
de la red, deberá descargar el fichero netboot/debian-installer/amd64/initrd.gz
y su núcleo correspondiente netboot/debian-installer/amd64/linux. Esto le
permite reparticionar el disco duro desde donde arranque el instalador, aunque
debe hacerlo con cuidado.

Alternativamente, si desea mantener una partición existente en el disco duro
sin modificarla durante la instalación, debe descargar el fichero hd-media/
initrd.gz y su núcleo correspondiente, así como copiar una ISO de CD (o DVD) en
el disco duro (asegúrese de que el nombre del fichero termine en .iso).
Entonces el instalador puede arrancar desde el disco duro e instalar desde la
imagen de CD/DVD, sin necesitar la red.

Para LILO, deberá configurar dos cosas esenciales en /etc/lilo.conf:

  • para cargar initrd.gz del instalador al momento del arranque;

  • y hacer que el núcleo vmlinuz use este disco RAM como su partición raíz.

Este es un ejemplo de /etc/lilo.conf:

image=/boot/newinstall/vmlinuz
       label=newinstall
       initrd=/boot/newinstall/initrd.gz

Para más detalles, vea las páginas de manual de initrd(4) y lilo.conf(5). Ahora
ejecute lilo y reinicie.

El procedimiento para GRUB1 es bastante similar. Localice su menu.lst en el
directorio /boot/grub/ (algunas veces está en /boot/boot/grub/) y añada la
siguiente entrada para el instalador, por ejemplo (suponiendo que /boot está en
la primera partición del primer disco en el sistema):

title  Nueva instalación
root   (hd0,0)
kernel /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz

El procedimiento para GRUB2 es muy parecido. El archivo se llama grub.cfg en
lugar de menu.lst. La entrada para el instalador podría ser, por ejemplo:

menuentry 'Nueva instalación' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/nuevainstalacion/vmlinuz
initrd /boot/nuevainstalacion/initrd.gz
}

Desde este momento en adelante, no habrá diferencia entre GRUB o LILO.

5.1.6. Arranque con TFTP

Booting from the network requires that you have a network connection and a TFTP
network boot server (and probably also a DHCP, RARP, or BOOTP server for
automatic network configuration).

The server-side setup to support network booting is described in Sección 4.5,
"Preparación de los ficheros para el arranque a través de red usando TFTP".

Existen varias formas de realizar un arranque con TFTP en i386.

5.1.6.1. Tarjetas de red o placas base que aceptan PXE

Podría ser que su tarjeta de red o placa base provea la funcionalidad de
arranque PXE. Lo que es una reimplementación de Intel (tm) del arranque TFTP.
De ser su caso podría tener la posibilidad de configurar su BIOS para arrancar
desde la red.

5.1.6.2. Tarjeta de red con bootROM

Podría ser que su tarjeta de red (NIC) provea la funcionalidad de arranque
usando TFTP.

5.1.6.3. Etherboot

El proyecto etherboot provee disquetes de arranque e incluso "bootroms" que
efectúan un arranque usando TFTP.

5.1.7. La pantalla de arranque

When the installer boots, you should be presented with a friendly graphical
screen showing the Debian logo and a menu:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options             >
Help
Install with speech synthesis

Nota

This graphical screen will look very slightly different depending on how your
computer has booted (BIOS or UEFI), but the same options will be shown.

Depending on the installation method you are using, the "Graphical install"
option may not be available. Bi-arch images additionally have a 64 bit variant
for each install option, right below it, thus almost doubling the number of
options.

For a normal installation, select either the "Graphical install" or the "
Install" entry -- using either the arrow keys on your keyboard or by typing the
first (highlighted) letter -- and press Enter to boot the installer. The "
Graphical install" entry is already selected by default.

La opción "Advanced options" da acceso a un segundo menú que permite arrancar
el instalador en modos experto, rescate y para instalaciones automatizadas.

If you wish or need to add any boot parameters for either the installer or the
kernel, press Tab (BIOS boot), or e then down arrow three times then end (UEFI
boot). This will bring the boot command for the selected menu entry and allow
you to edit it to suit your needs. Note that the keyboard layout at this point
is still QWERTY. The help screens (see below) list some common possible
options. Press Enter (BIOS boot) or F10 (UEFI boot) to boot the installer with
your options; pressing Esc will return you to the boot menu and undo any
changes you made.

Al elegir la opción "Help" se muestra la primera pantalla de ayuda, que ofrece
una vista general de las pantallas de ayuda disponibles. Para volver al menú de
arranque después de mostrar las pantallas de ayuda, teclee «menu» en el símbolo
de arranque y pulse Enter. Todas las pantallas de ayuda tienen un símbolo de
arranque en el que se puede teclear la orden de arranque:

Press F1 for the help index, or ENTER to boot:

En este símbolo de arranque puede pulsar Enter para arrancar el instalador con
las opciones predeterminadas o incluir una orden de arranque específica y
opcionalmente parámetros de arranque. En las pantallas de ayuda puede encontrar
una gran número de parámetros de arranque que pueden ser de utilidad. Si añade
cualquier parámetro a la línea de órdenes de arranque, asegúrese de introducir
en primer lugar el método de arranque (el predeterminado es install) y un
espacio antes del primer parámetro (p.ej., install fb=false).

Nota

En este punto se asume que el teclado tiene como disposición Inglés Americano
predeterminada. Esto significa que si su teclado tiene una disposición distinta
(específica de su idioma), los caracteres que aparecen en la pantalla pueden
diferir de los que usted esperaría que aparecieran cuando teclea los
parámetros. Wikipedia tiene un esquema de la disposición de un teclado US que
puede usar como referencia para encontrar las teclas correctas a usar.

Nota

Si está usando un sistema que tiene la BIOS configurada para usar la consola
serial, es posible que no vea la pantalla gráfica inicial al arrancar el
instalador; puede incluso no ver el menú de arranque. Lo mismo puede suceder si
está instalando el sistema vía un dispositivo de administración remota que
provee una interfaz de texto a la consola VGA. Algunos ejemplos de estos
dispositivos incluyen la consola de texto de Compaq "integrated Lights Out"
(iLO) y la de HP "Integrated Remote Assistant" (IRA).

Para saltar la pantalla gráfica de arranque puede presionar sin mirar Esc para
obtener un símbolo de sistema de texto o (también sin mirar) presionar "H"
seguido de Enter para seleccionar la opción "Help" descrita anteriormente.
Después de haber tecleado deberá poder verlo en el símbolo. Para evitar que el
instalador use el framebuffer para el resto de la instalación, puede añadir
también vga=normal fb=false al símbolo de arranque, como se describe en el
texto de ayuda.

5.1.8. The Graphical Installer

The graphical version of the installer is only available for a limited number
of architectures, including 64-bit PC . The functionality of the graphical
installer is essentially the same as that of the text-based installer as it
basically uses the same programs, but with a different frontend.

Although the functionality is identical, the graphical installer still has a
few significant advantages. The main advantage is that it supports more
languages, namely those that use a character set that cannot be displayed with
the text-based "newt" frontend. It also has a few usability advantages such as
the option to use a mouse, and in some cases several questions can be displayed
on a single screen.

The graphical installer is available with all CD images and with the hd-media
installation method. To boot the graphical installer simply select the relevant
option from the boot menu. Expert and rescue mode for the graphical installer
can be selected from the "Advanced options" menu. The previously used boot
methods installgui, expertgui and rescuegui can still be used from the boot
prompt which is shown after selecting the "Help" option in the boot menu.

There is also a graphical installer image that can be netbooted. And there is a
special "mini" ISO image^[5], which is mainly useful for testing.

Just as with the text-based installer it is possible to add boot parameters
when starting the graphical installer.

Nota

The graphical installer requires significantly more memory to run than the
text-based installer: 800MB. If insufficient memory is available, it will
automatically fall back to the text-based "newt" frontend.

If the amount of memory in your system is below 550MB, the graphical installer
may fail to boot at all while booting the text-based installer would still
work. Using the text-based installer is recommended for systems with little
available memory.

5.2. Accesibilidad

Some users may need specific support because of e.g. some visual impairment. 
USB braille displays are detected automatically (not serial displays connected
via a serial-to-USB converter), but most other accessibility features have to
be enabled manually. On machines that support it, the boot menu emits beeps
when it is ready to receive keystrokes. It beeps once on BIOS systems, and
beeps twice on UEFI systems. Some boot parameters can then be appended to
enable accessibility features (see also Sección 5.1.7, "La pantalla de
arranque"). Note that on most architectures the boot loader interprets your
keyboard as a QWERTY keyboard.

5.2.1. Installer front-end

The Debian installer supports several front-ends for asking questions, with
varying convenience for accessibility: notably, text uses plain text while newt
uses text-based dialog boxes. The choice can be made at the boot prompt, see
the documentation for DEBIAN_FRONTEND in Sección 5.3.2, "Parámetros del
instalador de Debian".

5.2.2. Dispositivos Braille USB

Los dispositivos braille USB se deberían detectar automáticamente. Se escogerá
automáticamente una versión en texto del instalador, y se instalará
automáticamente la funcionalidad para usar braille en el sistema a instalar.
Sólo tiene que presionar Enter en el menú de arranque. Una vez que arranca
brltty, puede elegir una tabla braille usando el menú de preferencias. La
documentación de los atajos de teclado para los dispositivos braille se
encuentra en el sitio web de brltty.

5.2.3. Dispositivos Braille Seriales

Serial braille displays cannot safely be automatically detected (since that may
damage some of them). You thus need to append the brltty=driver,port boot
parameter to tell brltty which driver and port it should use. driver should be
replaced by the two-letter driver code for your terminal (see the BRLTTY manual
). port should be replaced by the name of the serial port the display is
connected to, ttyS0 is the default, ttyUSB0 can be typically used when using a
serial-to-USB converter. A third parameter can be provided, to choose the name
of the braille table to be used (see the BRLTTY manual); the English table is
the default. Note that the table can be changed later by entering the
preference menu. A fourth parameter can be provided to pass parameters to the
braille driver, such as protocol=foo which is needed for some rare models.
Documentation on key bindings for braille devices is available on the brltty
website.

5.2.4. Software de Síntesis de Voz

La compatibilidad con dispositivos de síntesis de voz está disponible para
todas las imágenes del instalador que cuentan con el instalador gráfico; esto
es, todas las imágenes netinst, CD y DVD y la versión netbook gtk. Se puede
activar seleccionándolo en el menú de arranque tecleando s Enter. A
continuación, se selecciona de forma automática la versión de texto del
instalador, y se instala el software de compatibilidad de síntesis de voz en el
sistema destino.

If several sound cards are detected, you will be prompted to press Enter when
you hear speech from the desired sound card.

La primera pregunta (el idioma) se habla en inglés, y el resto de la
instalación continúa con el idioma seleccionado (si está disponible en espeak).

The default speech rate is quite slow. To make it faster, press CapsLock+6. To
make it slower, press CapsLock+5. The default volume should be medium. To make
it louder, press CapsLock+2. To make it quieter, press CapsLock+1. To get more
details on the browsing shortcuts, see the Speakup guide. To just accept the
default answer for a question, simply press Enter at the prompt. To provide an
empty answer for a question, type ! at the prompt. To get back to the previous
question, type < at the prompt.

5.2.5. Dispositivos de Síntesis de Voz

La compatibilidad con dispositivos de hardware de síntesis de voz está
disponible para todas las imágenes del instalador que cuentan con el instalador
gráfico; esto es, todas las imágenes netinst, imágenes de CD y DVD, y la
versión netbook gtk. Por ello, debe seleccionar la opción "Instalación Gráfica"
en el menú de arranque.

Los dispositivos de síntesis de voz no se detectan automáticamente. Por lo que
debe añadir speakup.synth=controlador como parámetro de arranque para indicarle
a speakup qué controlador debería usar. Se debe reemplazarcontrolador por el
código de controlador de su dispositivo (vea la lista de códigos de los
controladores). Entonces, se seleccionará automáticamente la versión de texto
del instalador, y la compatibilidad con el dispositivo de síntesis de voz se
instalará automáticamente en el sistema destino.

5.2.6. Dispositivos de Tarjeta

Algunos dispositivos de accesibilidad se presentan como tarjetas que se
insertan dentro de la máquina y que leen el texto directamente de la memoria de
vídeo. Para hacer uso de ellas se debe deshabilitar el uso de «framebuffer» con
el parámetro de arranque vga=normal fb=false. Sin embargo, esto reduce el
número de idiomas disponibles.

Si lo desea, puede activar una versión de texto del cargador de arranque antes
de añadir el parámetro de arranque pulsando h Enter.

5.2.7. Temas de Alto contraste

For users with low vision, the installer can use a high-contrast color theme
that makes it more readable. To enable it, you can use the "Accessible high
contrast" entry from the boot screen with the c shortcut, or append the theme=
dark boot parameter.

5.2.8. Zoom

For users with low vision, the graphical installer has a very basic zoom
support: the Control++ and Control+- shortcuts increase and decrease the font
size.

5.2.9. Expert install, rescue mode, automated install

Expert, Rescue, and Automated installation choices are also available with
accessibility support. To access them, one has to first enter the "Advanced
options" submenu from the boot menu by typing a. When using a BIOS system (the
boot menu will have beeped only once), this has to be followed by Enter ; for
UEFI systems (the boot menu will have beeped twice) that must not be done.
Then, to enable speech synthesis, s can optionally be pressed (followed again
by Enter on BIOS systems but not on UEFI systems). From there, various
shortcuts can be used: x for expert installation, r for rescue mode, or a for
automated installation. Again these need to be followed by Enter when using a
BIOS system.

The automated install choice allows to install Debian completely automatically
by using preseeding, whose source can be entered after accessibility features
get started. Preseeding itself is documented in Apéndice B, Instalar
automáticamente utilizando preconfiguración.

5.2.10. Accesibilidad del sistema instalado

La documentación sobre accesibilidad del sistema instalado está disponible en
la página wiki de accesibilidad de Debian.

5.3. Parámetros de arranque

Los "parámetros de arranque" son los parámetros del núcleo de Linux que
generalmente se utilizan para asegurar la correcta gestión de los periféricos.
En la mayoría de los casos el núcleo puede auto-detectar toda la información
necesaria sobre sus periféricos pero deberá ayudar un poco a su núcleo en
algunos casos.

Si ésta es la primera vez que arranca su sistema lo recomendable es utilizar
los parámetros de arranque predeterminados. Es decir, no defina ningún
parámetro adicional. Observe si su sistema arranca correctamente de esta
manera, lo más probable es que sea así. Si no lo hace, podrá reiniciar más
adelante después de buscar qué parámetros específicos necesita utilizar para
informar a su sistema del hardware del que dispone.

Puede encontrar información sobre muchos de los parámetros de arranque en el
CÓMO de BootPrompt, que incluye también consejos útiles para hardware poco
común. Esta sección solamente contiene un resumen de los parámetros más
importantes. Podrá consultar también algunas precauciones comunes más adelante
en la Sección 5.4, "Resolución de problemas en el proceso de instalación".

5.3.1. Consola de arranque

Si arranca desde una consola serial , habitualmente el núcleo la detectará de
forma automática. Si desea arrancar por consola serial un ordenador que ya
tiene instalados una tarjeta de vídeo (framebuffer) y un teclado, deberá
indicárselo al núcleo con el parámetro console=dispositivo, donde dispositivo
es su dispositivo serie, y será generalmente parecido a ttyS0.

You may need to specify parameters for the serial port, such as speed and
parity, for instance console=ttyS0,9600n8; other typical speeds may be 57600 or
115200. Be sure to specify this option after "---", so that it is copied into
the bootloader configuration for the installed system (if supported by the
installer for the bootloader).

In order to ensure the terminal type used by the installer matches your
terminal emulator, the parameter TERM=type can be added. Note that the
installer only supports the following terminal types: linux, bterm, ansi, vt102
and dumb. The default for serial console in debian-installer is vt102. If you
are using an IPMI console, or a virtualization tool which does not provide
conversion into such terminals types itself, e.g. QEMU/KVM, you can start it
inside a screen session. That will indeed perform translation into the screen
terminal type, which is very close to vt102.

5.3.2. Parámetros del instalador de Debian

The installation system recognizes a few additional boot parameters^[6] which
may be useful.

Algunos parámetros tienen una "forma abreviada" que permite evitar las
limitaciones de las opciones de línea de órdenes en el núcleo y hace más fácil
la introducción de parámetros. Las formas abreviadas de los parámetros se
mostrarán entre paréntesis tras la forma (normal) extendida. Los ejemplos en
este manual generalmente utilizan la forma simplificada.

debconf/priority (priority)

    El valor de este parámetro define la prioridad de los mensajes que se
    mostrarán durante la instalación. No se mostrará ningún mensaje de menor
    prioridad a la aquí definida.

    La instalación utiliza priority=high como valor predeterminado. Esto
    significa que se mostrarán los mensajes de prioridades alta y crítica, pero
    no así los mensajes con prioridades media y baja. El instalador, sin
    embargo, ajustará esta prioridad si se produce algún error.

    Si utiliza como parámetro de arranque priority=medium, se le mostrará el
    menú del instalador y tendrá un mayor control sobre la instalación. Si usa
    priority=low, se mostrarán todos los mensajes (esto es equivalente al
    método de arranque experto). Si utiliza priority=critical, el sistema de
    instalación mostrará solamente los mensajes críticos e intentará hacer lo
    correcto sin formular muchas preguntas.

DEBIAN_FRONTEND

    Este parámetro de arranque controla el tipo de interfaz de usuario que
    utilizará el instalador. A continuación se muestran los posibles valores
    que puede tomar este parámetro:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    La interfaz predeterminada es DEBIAN_FRONTEND=newt. Si va a realizar una
    instalación a través de una consola serial puede que sea mejor utilizar
    DEBIAN_FRONTEND=text. Algunos dispositivos especializados de instalación
    solo ofrecen una selección limitada de interfaces, pero las interfaces newt
    y text están disponibles en la mayoría de medios de instalación. El
    instalador gráfico utiliza la interfaz gtk en las arquitecturas en las que
    es compatible.

BOOT_DEBUG

    Si establece este parámetro a dos conseguirá que el proceso de arranque del
    instalador genere registros más detallados. Si lo establece a tres obtendrá
    un intérprete de línea de órdenes en puntos estratégico del proceso de
    arranque (salga del intérprete para continuar con el proceso de arranque).

    BOOT_DEBUG=0

        Este es el valor predeterminado.

    BOOT_DEBUG=1

        Más detallado de lo habitual.

    BOOT_DEBUG=2

        Incluye mucha información de depuración.

    BOOT_DEBUG=3

        Se ejecutan intérpretes de órdenes en diversos puntos en el proceso de
        arranque para permitir una depuración detallada. Salga del intérprete
        de órdenes para proseguir con el arranque.

INSTALL_MEDIA_DEV

    Mediante este parámetro se indica la ruta al dispositivo desde dónde cargar
    el instalador de Debian. Por ejemplo, INSTALL_MEDIA_DEV=/dev/floppy/0

    El disquete de arranque generalmente analiza todos las unidades de disquete
    en busca del disquete raíz. Puede modificar este comportamiento a través de
    este parámetro para que busque sólo en un dispositivo concreto.

log_host, log_port

    Hace que el instalador envíe mensajes de registro a un syslog remoto en el
    servidor y puerto definido, así como a un fichero local. Si no se define,
    el valor predeterminado para syslog es su valor estándar de puerto, 514.

lowmem

    Se puede usar para forzar al instalador a un nivel lowmem más alto que el
    predeterminado por el instalador de acuerdo a la memoria disponible. Los
    valores posibles son 1 y 2, consulte Sección 6.3.1.1, "Comprobación de la
    memoria disponible / modo de baja memoria".

noshell

    Evita que el instalador ofrezca intérpretes de órdenes interactivos en las
    terminales tty2 y tty3. Útil para instalaciones sin supervisión en las que
    la seguridad física es limitada.

debian-installer/framebuffer (fb)

    En algunas arquitecturas se utiliza el framebuffer del núcleo para ofrecer
    la opción a realizar la instalación en un número diverso de idiomas. Si el
    uso de este dispositivo origina problemas en su sistema puede deshabilitar
    esta característica con el parámetro vga=normal fb=false. Algunos síntomas
    de este problema son mensajes que traten sobre "bterm" o "bogl", la
    aparición de una pantalla en blanco o que el sistema se quede congelado
    algunos minutos después de iniciarse la instalación.

debian-installer/theme (theme)

    Un tema determina cómo se muestra la interfaz de usuario del instalador
    (colores, iconos, etc.). Los temas disponibles dependen de la interfaz.
    Actualmente las interfaces newt y gtk sólo tienen un tema denominado "dark"
    (oscuro, n. del t.) que se ha diseñado para aquellas personas con problemas
    visuales. Puede fijar este tema arrancando el instalador con theme=dark.

netcfg/disable_autoconfig

    Por omisión, el debian-installer configura automáticamente la conexión de
    red a través de autoconfiguración IPv6 y DHCP. No podrá revisar ni cambiar
    los valores obtenidos de esta forma, si la prueba tiene éxito. Sin embargo,
    podrá realizar la configuración de forma manual en el caso de que falle la
    configuración automática.

    Puede usar el parámetro netcfg/disable_autoconfig=true para que no se lleve
    a cabo la configuración de red de forma automática, entonces tendrá que
    introducir la información manualmente. Esto puede ser útil si tiene un
    encaminador IPv6 o un servidor DHCP en su red local pero no quiere
    utilizarlo porque, por ejemplo, no proporciona valores correctos.

hw-detect/start_pcmcia

    Si quiere evitar que se ejecuten los servicios PCMCIA deberá definir este
    parámetro a false. Algunos ordenadores portátiles son conocidos por tener
    problemas en estos casos, y puede ser recomendable deshabilitarlo.

disk-detect/dmraid/enable (dmraid)

    Establezca a verdadero para habilitar el uso de discos RAID Serial ATA
    (también llamado ATA RAID, BIOS RAID o RAID falso) en el instalador. Tenga
    en cuenta que esta funcionalidad es actualmente experimental. Puede
    encontrar más información en el Wiki del Instalador de Debian.

preseed/url (url)

    Este valor especifica la ruta de un fichero de preconfiguración que se
    descargará y utilizará para automatizar la instalación. Vea Sección 4.6,
    "Instalación automática".

preseed/file (file)

    Este valor especifica la url de un fichero de preconfiguración que se
    cargará en la instalación automática. Consulte Sección 4.6, "Instalación
    automática".

preseed/interactive

    Si se define como a true (verdadero), se mostrarán las preguntas aunque ya
    hayan sido preconfiguradas. Esta opción puede ser útil para probar o
    depurar un fichero de preconfiguración. Tenga en cuenta que este valor no
    tiene ningún efecto sobre los parámetros que se introducen como parámetros
    de arranque, pero puede utilizar una sintaxis especial para éstos. Para más
    información consulte Sección B.5.2, "Utilizar la preconfiguración para
    cambiar valores por omisión".

auto-install/enable (auto)

    Demora las preguntas que se realizan normalmente antes de la
    preconfiguración hasta después de configurar la red. Consulte
    Sección B.2.3, "Modo «auto»" para más información de cómo utilizar esto
    para realizar instalaciones automatizadas.

finish-install/keep-consoles

    Durante las instalaciones desde una consola serial o de administración,
    normalmente se deshabilitan las consolas virtuales(VT1 a VT6) en /etc/
    inittab. Establezca a true para evitarlo.

cdrom-detect/eject

    Antes de reiniciar el sistema, debian-installer expulsa automáticamente el
    medio óptico utilizado durante la instalación por omisión. Esto puede no
    ser necesario si el sistema no arranca de forma automática del CD. En
    algunos casos puede incluso no ser deseable, por ejemplo, si la unidad
    óptica no puede volver a insertar el medio y el usuario no está allí para
    hacerlo manualmente. Muchas unidades de distinto tipo («slot loading»,
    «slim-line» y «caddty style») no pueden recargar el medio automáticamente.

    Fije este valor a false para deshabilitar el expulsado automático, pero
    tenga en cuenta que debe asegurarse que el sistema no arranca de forma
    automática de la unidad óptica tras la instalación inicial.

base-installer/install-recommends (recommends)

    Si define esta opción como false, el sistema de gestión de paquetes se
    configurará para no instalar automáticamente los paquetes recomendados ("
    Recommends"), bien durante la instalación y también en el sistema
    instalado. Consulte Sección 6.3.5, "Instalar el sistema base".

    Tenga en cuenta que esta opción permite tener un sistema más ligero, pero
    también puede resultar en la perdida de funcionalidades que habitualmente
    el usuario espera que se ofrezcan. Puede que tenga instalar algunos de los
    paquetes recomendados para obtener toda la funcionalidad que espera. Por
    ello, sólo los usuarios muy experimentados deberían usar esta opción.

debian-installer/allow_unauthenticated

    Por omisión, el instalador obliga a que los repositorios estén autenticados
    con una clave gpg conocida. Si se fija esta opción a true, se deshabilitará
    esta autenciación. Aviso: inseguro, no recomendado.

rescue/enable

    Fije este valor a true si desea entrar en el modo de rescate en lugar de
    hacer una instalación normal. Si desea más información consulte
    Sección 8.6, "Recuperar un sistema roto".

5.3.3. Utilizar parámetros de arranque para responder a preguntas

Se puede fijar un valor durante el indicador de arranque para cualquier
pregunta que se realiza durante la instalación, con algunas excepciones.
Realmente esto es sólo útil para algunos casos concretos. Puede encontrar
instrucciones generales que describen como hacer esto en Sección B.2.2, "Usar
parámetros de arranque para preconfigurar preguntas". A continuación se listan
algunos ejemplos.

debian-installer/language (language), debian-installer/country (country), 
    debian-installer/locale (locale)

    Existen dos formas de definir el idioma, país y locale a usar por el
    proceso de instalación y en el sistema instalado.

    La primera y más sencilla consiste en simplemente introducir el parámetro
    locale. De su valor se derivarán el idioma y el país. Puede, por ejemplo,
    usar locale=de_CH para seleccionar el alemán como idioma y Suiza como país
    (se definirá de_CH.UTF-8 como la locale predeterminada para el sistema
    instalado). Este método no permite todas las combinaciones posibles de
    idioma, país y locale.

    La segunda opción, más flexible, es definir language (idioma) y country
    (país) de forma separada. En este caso, puede añadir locale para
    especificar una locale predeterminada para el sistema instalador. Ejemplo:
    language=en country=DE locale=en_GB.UTF-8.

anna/choose_modules (modules)

    Puede utilizarse para cargar automáticamente componentes del instalador que
    no se cargan por omisión. Algunos ejemplos de componentes opcionales que
    pueden ser útiles son openssh-client-udeb (para poder utilizar el programa 
    scp durante la instalación)) y ppp-udeb (que permite la configuración
    PPPoE).

netcfg/disable_autoconfig

    Puede fijar este valor a true si quiere deshabilitar la autoconfiguración
    IPv6 y DHCP y, en su lugar, forzar la configuración estática de la red.

mirror/protocol (protocol)

    El instalador utilizará el protocolo HTTP para descargar ficheros de las
    réplicas de Debian y no es posible cambiar a FTP en instalaciones que se
    realizan con prioridad normal. Puede forzar al instalador a utilizar el
    protocolo FTP si fija este parámetro a ftp. Tenga en cuenta que no podrá
    seleccionar una réplica ftp de una lista, tendrá que introducir el nombre
    del sistema donde está la réplica manualmente.

tasksel:tasksel/first (tasks)

    Puede utilizarse para seleccionar tareas que no están disponibles en la
    lista interactiva de tareas, como pueda ser la tarea kde-desktop. Para más
    información consulte Sección 6.3.6.2, "Elegir e instalar programas".

5.3.4. Pasar parámetros a módulos del núcleo

Puede pasar parámetros a los módulos del núcleo como se describe en la
documentación del núcleo si los controladores están compilados dentro de éste.
Sin embargo, no es posible pasar parámetros a los módulos como haría
normalmente en el caso de controladores compilados como módulos, debido a que
los módulos del núcleo se carga de una forma un poco distinta en la instalación
a como se hace en un sistema ya instalado. Tiene que utilizar una sintaxis
especial que reconoce el instalador. Si la utiliza, el instalador se asegurará
que los parámetros se guarden en el fichero de configuración apropiado y se
utilicen cuando se carguen los módulos. Los parámetros que utilice también se
propagan de forma automática a la configuración utilizada en el sistema
instalado.

Tenga en cuenta que ahora es raro pasar parámetros a los módulos. En la mayor
parte de las situaciones el núcleo podrá analizar el hardware disponible en un
sistema y fijar valores por omisión correctos de esta forma. Existen algunas
situaciones, sin embargo, en las que será necesario pasar parámetros
manualmente.

Debe utilizar la siguiente sintaxis para fijar parámetros para los módulos:

nombre_módulo.nombre_parámetro=valor

Si necesita pasar múltiples parámetros al mismo módulo o a distintos módulos
sólo tiene que repetir este formato. Por ejemplo, para indicar a una tarjeta de
red 3Com antigua que utilice el conector BNC (coaxial) y la interrupción (IRQ)
10 debería utiliza:

3c509.xcvr=3 3c509.irq=10

5.3.5. Poner módulos del núcleo en una lista negra

Algunas veces es necesario poner un módulo en una lista negra para que ni el
núcleo ni «udev» lo carguen automáticamente. Una razón para hacer esto es
cuando un módulo concreto causa problemas en su hardware. El núcleo también
puede algunas veces listar dos controladores distintos para el mismo
dispositivo. Esto puede hacer que el dispositivo no funcione correctamente si
los controladores entran en conflicto o si se carga el controlador erróneo
primero.

Puede poner un módulo en la lista negra con la siguiente sintaxis:
nombre_módulo.blacklist=yes. Esto hará que el módulo se ponga en la lista negra
en /etc/modprobe.d/blacklist.local tanto durante la instalación como en el
sistema instalado.

Tenga en cuenta que el sistema de instalación puede llegar a cargar el módulo
por sí sólo. Puede evitar esto ejecutando la instalación en modo experto y
deseleccionando el módulo de la lista de módulos que se muestra durante las
fases de detección de hardware.

5.4. Resolución de problemas en el proceso de instalación

5.4.1. Fiabilidad de la unidad de CD-ROM

Algunas veces, especialmente en el caso de las unidades antiguas de CD-ROM, el
instalador puede fallar y no poder arrancar del CD-ROM. El instalador puede que
(aún después de haber arrancado con éxito del CD-ROM) falle al reconocer el
CD-ROM o devuelva errores mientras lee de éste durante la instalación.

Hay muchas causas posibles para estos problemas. Aquí sólo se pueden listar
algunos problemas comunes y dar sugerencias generales de cómo tratarlos. Lo
demás depende de usted.

Hay dos cosas muy sencillas que debería intentar primero.

  • Si el CD-ROM no arranca, compruebe que se introdujo correctamente y que no
    está sucio.

  • Si el instalador no detecta el CD-ROM, intente simplemente ejecutar la
    opción Detectar y montar el CD-ROM otra vez. Es sabido que algunos
    problemas relacionados con DMA en unidades de CD-ROM antiguas se solucionan
    de esta forma.

Pruebe las sugerencias que se muestran en las subsecciones a continuación si no
funciona ninguna de estas opciones. Algunas, pero no todas, las opciones que
aquí se discuten son válidas tanto para las unidades de CD-ROM como las
unidades de DVD. Se utilizará sólo el término CD-ROM con el objetivo de
simplificar el texto.

En cualquier caso, intente cualquiera de los otros métodos de instalación
disponible si no consigue que la instalación funcione mediante CD-ROM.

5.4.1.1. Problemas habituales

  • Algunas unidades antiguas de CD-ROM no pueden leer discos que se grabaron a
    altas velocidades con grabadores de CD modernos.

  • Algunas unidades muy antiguas de CD-ROM no funcionan correctamente si se
    activa la función "direct memory access" (DMA).

5.4.1.2. Cómo investigar y, quizás, solucionar problemas

Si el CD-ROM no puede arrancar, intente las sugerencias descritas a
continuación.

  • Compruebe que su BIOS permita arrancar desde un CDROM (posiblemente, los
    sistemas antiguos no pueden) y que el arranque desde CD está activa en la
    BIOS.

  • Compruebe que la suma de control md5 de la imagen coincide con el valor
    listado en el fichero MD5SUMS si ha descargado la imagen ISO. Este fichero
    debería estar disponibles en la misma ubicación de la que descargo la
    imagen.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    A continuación, compruebe que la suma md5 del CD-ROM grabado también
    coincide. La orden mostrada a continuación debería ser suficiente para
    poder hacer esto. Utiliza el tamaño de la imagen para leer el número de
    bytes correcto del CD-ROM.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 records in
    262668+0 records out
    134486016 bytes (134 MB) copied, 97.474 seconds, 1.4 MB/s

Puede volver a intentar la instalación si no se detecta el CD-ROM después de
que el instalador haya arrancado con éxito, ya que esto algunas veces resuelve
el problema. Intente cambiar el CD-ROM a la otra unidad si tiene más de una
unidad de CD-ROM. Intente algunas de las sugerencias mostradas a continuación
si no funciona ninguna de éstas o si se dan errores cuando se intenta leer de
éste. Para llevarlas a cabo es necesario tener algunos conocimientos básicos de
Linux. Debe cambiar primero a la segunda consola virtual (VT2) y activar el
intérprete de órdenes para ejecutar cualquiera de estas órdenes.

  • Cambie al terminal virtual VT4 o consulte los contenidos de /var/log/syslog
    (utilice nano como editor) para comprobar si hay algún mensaje de error
    específico. Una vez lo haya hecho, compruebe también la salida de ejecutar 
    dmesg.

  • Puede ver si se ha reconocido su unidad de CD-ROM comprobando la salida de 
    dmesg. Debería ver algo como esto (las líneas no tienen por qué ser
    consecutivas):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Es posible que su unidad de CD-ROM esté conectada pero no se haya
    reconocido, o que no sea compatible, si no ve ninguna de estas líneas. Si
    sabe qué controlador es necesario para su controladora puede intentar
    cargarla de forma manual ejecutando la orden modprobe.

  • Compruebe que hay un nodo de dispositivo para su unidad de CD-ROM en /dev/.
    En el ejemplo anterior, el nodo se llamaría /dev/sr0. También debería
    existir /dev/cdrom.

  • Utilice la orden mount para comprobar si el CD-ROM está ya montado. Si no
    lo está puede intentar montarlo manualmente con:

    $ mount /dev/hdc /cdrom

    Compruebe si se produce algún mensaje de error después de ejecutar esta
    orden.

  • Compruebe si está activo la función de DMA:

    $ cd /proc/ide/hdc
    $ grep using_dma settings
    using_dma      1       0       1       rw

    Un valor de "1" en la primera columna después de using_dma significa que
    está activa. Si lo está, intente desactivarla:

    $ echo -n "using_dma:0" >settings

    Asegúrese que está en el directorio del dispositivo que corresponde a su
    unidad de CD-ROM.

  • Intente comprobar la integridad del CD-ROM con la opción que encontrará al
    final del menú principal del instalador si se producen problemas durante la
    instalación. Esta opción puede utilizarse como una prueba general para
    determinar si el CD-ROM se puede leer con fiabilidad.

5.4.2. Configuración del arranque

En caso de que tenga problemas, el núcleo se bloquee durante el proceso de
arranque, no reconozca los dispositivos que tiene o no se reconozcan
correctamente las unidades, lo primero que debe verificar son los parámetros de
arranque, como se explica en Sección 5.3, "Parámetros de arranque".

En algunos casos, pueden aparecer errores de funcionamiento por un firmware de
dispositivo faltante (consulte Sección 2.2, "Dispositivos que requieren
Firmware" y Sección 6.4, "Carga de Firmware adicional").

5.4.3. Software de Síntesis de Voz

Si el software de síntesis de voz no funciona, lo más probable es que exista un
problema con su tarjeta de sonido, habitualmente porque el controlador no se
incluye en el instalador, o porque tiene unos nombres de nivel del mezclador no
habituales, y que se silencian por omisión. Si es así, envíe un informe de
fallo que incluya la salida de las siguientes órdenes, ejecutados en la misma
máquina pero desde un sistema de Linux sin problemas de sonido (por ejemplo,
desde un Live CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Problemas comunes durante la instalación en 64-bit PC

Hay algunos problemas comunes que se producen en la instalación y que pueden
resolverse o evitarse pasando ciertos parámetros de arranque al instalador.

Si su pantalla empieza a mostrar una imagen rara cuando arranca el núcleo, como
pudiera ser mostrarse todo en blanco, o todo en negro, o con algunos pixels
coloreados al azar mal, puede que tenga una tarjeta de vídeo problemática que
no es capaz de cambiar al modo "framebuffer" correctamente. Puede utilizar el
parámetro del arranque fb=false para deshabilitar el framebuffer en consola. Si
hace esto, sólo podrá ver la instalación en un conjunto reducido de idiomas
debido a las funcionalidades limitadas de la consola. Si quiere los detalles,
consulte Sección 5.3, "Parámetros de arranque".

5.4.4.1. Parada del sistema durante la fase de configuración de PCMCIA

Es sabido que algunos modelos de portátil de Dell muy antiguos fallan cuando la
detección de dispositivos PCMCIA intenta acceder a algunas direcciones
hardware. Es posible que otros ordenadores portátiles sufran problemas
parecidos. Si tiene este problema y no necesita el uso de PCMCIA durante la
instalación puede deshabilitar PCMCIA con el parámetro de arranque hw-detect/
start_pcmcia=false. Podrá configurar PCMCIA una vez termine la instalación y
excluir el rango de recursos que causa el problema.

También puede intentar arrancar el instalador en modo experto. Si lo hace, se
le preguntará las opciones del rango de recursos para sus necesidades hardware.
Por ejemplo, si tiene alguno de los ordenadores portátiles Dell mencionados
anteriormente podría introducir aquí exclude port 0x800-0x8ff. Encontrará un
listado de opciones de configuración de recursos habituales en System resource
settings section of the PCMCIA HOWTO. Tenga en cuenta que ha de omitir
cualquier coma, si la hay, cuando introduzca este valor en el instalador.

5.4.5. Interpretar los mensajes de inicio del núcleo

Durante la secuencia de arranque podría ver muchos mensajes de la forma can't
find algo, o algo not present, can't initialize algo, o incluso this driver
release depends on algo . Muchos de estos mensajes son inocuos. Los ve porque
el sistema de instalación está programado para ejecutarse en ordenadores con
diversos dispositivos. Obviamente, ningún ordenador tendrá todos y cada uno de
los posibles dispositivos, de modo que el sistema operativo emite algunos
mensajes de advertencia mientras intenta buscar dispositivos que usted no
tiene. También podría observar que el sistema se detiene durante algunos
momentos. Esto ocurre cuando se está esperando que un dispositivo responda y
éste no está presente en su sistema. Podrá crear más adelante un núcleo a
medida (lea Sección 8.5, "Compilar un nuevo núcleo") si piensa que el tiempo
que tarda en arrancar el sistema es muy largo.

5.4.6. Informar de fallos

Podría serle útil la opción de informe de fallos del menú si ha pasado la fase
inicial de arranque pero no puede completar la instalación. Esta opción le
permite copiar los registros de fallos de sistema y la información de
configuración a un disquete, o descargarlas con un navegador web. Esta
información puede darle pistas sobre lo que ha fallado y cómo solucionarlo.
Podría también querer adjuntar esta información si va a enviar un informe de
fallos.

Puede encontrar otros mensajes de instalación pertinentes en /var/log/ durante
la instalación, y en /var/log/installer/ después de que el ordenador ha sido
arrancado con el sistema instalado.

5.4.7. Enviar los informes de la instalación

Por favor, envíe un informe de su instalación si tiene problemas. Le animamos a
hacerlo incluso si la instalación tiene éxito, de esta forma podremos obtener
la mayor información posible sobre la mayor cantidad de configuraciones de
hardware.

Tenga en cuenta que el informe de instalación se publicará en el sistema de
seguimiento de fallos de Debian y que se reenviará a una lista de correo
pública. Asegúrese que utiliza una dirección de correo electrónico que no le
importa que se haga público.

If you have a working Debian system, the easiest way to send an installation
report is to install the installation-report and reportbug packages (apt
install installation-report reportbug), configure reportbug as explained in
Sección 8.4.2, "Enviar correo electrónico fuera del sistema", and run the
command reportbug installation-reports.

Haga uso de la plantilla mostrada a continuación cuando haga un informe de
instalación, y envíelo (en inglés) como un informe de fallo para el pseudo
paquete installation-reports a la dirección <submit@bugs.debian.org>.

Package: installation-reports

Boot method: <Cómo arrancó la instalación? ¿Con un CD? ¿Con un disquete? ¿Desde la red?>
Image version: <Escriba la fecha y desde donde obtuvo la imagen>
Date: <Fecha y hora de la instalación>

Machine: <Descripción de la máquina (p. ej., IBM Thinkpad R32)>
Processor: <Tipo de procesador>
Memory: <Cantidad de memoria RAM>
Partitions: <Basta con la salida de «df -Tl», es preferible la tabla de particiones sin editar>

Output of lspci -knn (o lspci -nn): <Salida de la orden «lspci -knn» (o «lspci -nn»)>

Base System Installation Checklist: <Marque según sea su caso: Escriba «O»
     si dicha fase funcionó, «E» si presentó algún fallo y déjela en blanco si
     no intentó o no usó esta opción.>
[O] = OK, [E] = Error (descríbalo a continuación), [ ] = didn't try it

Initial boot:           [ ] <¿Funcionó el arranque inicial?>
Detect network card:    [ ] <¿Se configuró el hardware de red?>
Configure network:      [ ] <¿Se configuró la red?>
Detect CD:              [ ] <¿Se detectó la unidad de CD?>
Load installer modules: [ ] <¿Se cargaron los módulos del instalador?>
Detect hard drives:     [ ] <¿Se detectaron los discos duros?>
Partition hard drives:  [ ] <¿Se particionó el disco duro?>
Install base system:    [ ] <¿Se instaló el sistema base?>
Clock/timezone setup:   [ ] <¿Se configuró bien la zona horaria?>
User/password setup:    [ ] <¿Se configuró correctamente el usuario?>
Install tasks:          [ ] <¿Se instalaron bien las tareas?>
Install boot loader:    [ ] <¿Se instaló el gestor de arranque?>
Overall install:        [ ] <¿Reinició correctamente?>

Comments/Problems:

<Describa la instalación en detalle, e incluya cualquier idea o
comentario que tuvo durante la instalación.>

En el informe de fallo describa cuál es el problema, incluya los últimos
mensajes visibles del núcleo en el caso de que éste se bloquee. Describa los
pasos que llevó a cabo y que condujeron al sistema a la situación del fallo.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[5] The mini ISO image can be downloaded from a Debian mirror as described in
Sección 4.2, "Descarga de ficheros desde réplicas de Debian". Look for netboot/
gtk/mini.iso.

^[6] With current kernels (2.6.9 or newer) you can use 32 command line options
and 32 environment options. If these numbers are exceeded, the kernel will
panic. Also there is a limit of 255 characters for the whole kernel command
line, everything above this limit may be silently truncated.

Capítulo 6. Usar el instalador de Debian

Tabla de contenidos

6.1. Funcionamiento del instalador

    6.1.1. Using the graphical installer

6.2. Introducción a los componentes
6.3. Uso de componentes individuales

    6.3.1. Configurar el instalador de Debian y configuración de hardware
    6.3.2. Configurar usuarios y contraseñas
    6.3.3. Configuración del reloj y zona horaria
    6.3.4. Particionado y elección de punto de montaje
    6.3.5. Instalar el sistema base
    6.3.6. Instalar programas adicionales
    6.3.7. Hacer su sistema arrancable
    6.3.8. Finalizar la instalación
    6.3.9. Resolución de problemas
    6.3.10. Instalación a través de la red

6.4. Carga de Firmware adicional

    6.4.1. Preparación del medio
    6.4.2. Firmware y el Sistema Instalado

6.1. Funcionamiento del instalador

El instalador de Debian está compuesto por un conjunto de componentes de
propósito específico para realizar cada tarea de la instalación. Cada
componente realiza una tarea, formulando al usuario las preguntas que sean
necesarias para realizar su trabajo. Se asignan prioridades a cada una de las
preguntas, definiendo al arrancar el instalador la prioridad de las preguntas a
mostrar.

Cuando se realiza una instalación estándar, solamente se formularán las
preguntas esenciales (prioridad alta). Esto tiene como consecuencia un proceso
de instalación altamente automatizado y con poca interacción del usuario. Los
componentes son ejecutados automáticamente en una secuencia predeterminada. Los
componentes a ejecutar dependerán del método de instalación que use y de su
hardware. El instalador usará los valores predeterminados para las preguntas
que no son formuladas.

Cuando exista un problema, el usuario verá el error en pantalla, y es posible
que se muestre el menú del instalador para que elija de éste alguna acción
alternativa. El usuario no verá el menú del instalador si no se produce ningún
problema, simplemente tendrá que responder las preguntas formuladas por cada
componente en cada paso. Se fija prioridad crítica ("critical") para cualquier
notificación de un error serio, por lo que el usuario siempre será notificado
de estos.

Algunos de los valores predeterminados que usa el instalador pueden ser
modificados mediante la introducción de argumentos de arranque en el inicio del
debian-installer. Si, por ejemplo, desea forzar la configuración de red
estática (se usa autoconfiguración IPv6 y DHCP como opción predeterminada si
este protocolo está disponible), puede utilizar el parámetro de arranque netcfg
/disable_autoconfig=true. Puede consultar todas las opciones disponibles en
Sección 5.3.2, "Parámetros del instalador de Debian".

Es posible que los usuarios avanzados estén más cómodos si utilizan la interfaz
basada en menú, donde el control de cada paso lo tiene el usuario en lugar de
que éstos se ejecuten de forma automática en una secuencia predeterminada por
el instalador. Para usar el instalador en el modo manual, gestionado a través
de un menú, añada el argumento de arranque priority=medium.

Deberá iniciar el instalador en modo "expert" si para hacer funcionar o
detectar su hardware es necesario que indique opciones para los módulos del
núcleo conforme se instalen. Esto puede realizarse ya sea usando la orden 
expert al iniciar el instalador o bien añadiendo el argumento de arranque
priority=low. El modo experto le da control total del debian-installer.

El ratón no se puede utilizar en la interfaz basada en caracteres. A
continuación se indican algunas teclas que puede usar para moverse en los
diversos diálogos. El Tabulador o la tecla con la flecha derecha realizan
desplazamientos "hacia adelante", la combinación de teclas Shift+Tabulador y la
tecla con la flecha izquierda le desplaza "hacia atrás" entre los botones y las
opciones. Las teclas con la flecha arriba y abajo se mueven entre los distintos
elementos disponibles en una lista desplazable, y también desplazan a la lista
en sí (cuando se llega al final de la pantalla, N. del t.). Además, en listas
largas, usted puede escribir una letra para hacer que la lista se desplace
directamente a la sección con elementos que se inicien con la letra que ha
escrito y usar las teclas Re-Pág (Retroceso de página) y Av-Pág (Avance de
página) para desplazarse entre la lista por secciones. La barra de espacio
marca un elemento, como en el caso de una casilla. Pulse Enter para activar las
opciones elegidas.

Puede que algunos diálogos ofrezcan información de ayuda adicional. Si se
ofrece ayuda, se indicará en la parte inferior de la pantalla mostrando que
puede acceder a la información de ayuda pulsando la tecla F1.

Los mensajes de error y de registro se redireccionan a la cuarta consola. Puede
acceder a ésta pulsando Alt Izq+F4 (mantenga presionada la tecla Alt mientras
presiona la tecla de función F4). Para volver al proceso de instalación
principal pulse Alt Izq+F1.

También puede encontrar los mensajes de error en /var/log/syslog. Este registro
se copia a /var/log/installer/syslog en su nuevo sistema una vez finalizada la
instalación. Durante el proceso de instalación puede encontrar otros mensajes
en /var/log/, y en /var/log/installer/ después de que el ordenador haya sido
iniciado con el sistema instalado.

6.1.1. Using the graphical installer

The graphical installer basically works the same as the text-based installer
and thus the rest of this manual can be used to guide you through the
installation process.

If you prefer using the keyboard over the mouse, there are two things you need
to know. To expand a collapsed list (used for example for the selection of
countries within continents), you can use the + and - keys. For questions where
more than one item can be selected (e.g. task selection), you first need to tab
to the Continue button after making your selections; hitting enter will toggle
a selection, not activate Continue.

If a dialog offers additional help information, a Help button will be
displayed. The help information can be accessed either by activating the button
or by pressing the F1 key.

To switch to another console, you will also need to use the Ctrl key, just as
with the X Window System. For example, to switch to VT2 (the first debug shell)
you would use: Ctrl+Left Alt+F2. The graphical installer itself runs on VT5, so
you can use Left Alt+F5 to switch back.

6.2. Introducción a los componentes

A continuación se muestra una lista de los componentes del instalador con una
breve descripción del propósito de cada uno. Puede encontrar los detalles que
necesite conocer de un determinado componente en la Sección 6.3, "Uso de
componentes individuales".

main-menu

    Muestra al usuario la lista de componentes durante el trabajo del
    instalador, e inicia un componente cuando se selecciona. Las preguntas de "
    main-menu" tienen prioridad media ("medium"), de modo que no verá el menú
    si define su prioridad a valores alto ("high") o crítico ("critical"). El
    valor predeterminado es alto. Por otro lado, se reducirá temporalmente la
    prioridad de alguna pregunta si se produce un error que haga necesaria su
    intervención de forma que pueda resolver el problema. En este caso es
    posible que aparezca el menú.

    Puede volver al menú principal pulsando repetidamente el botón Go Back
    hasta salir del componente que está ejecutando.

localechooser

    Permite que el usuario seleccione las opciones de localización tanto para
    la instalación como para el sistema a instalar. Estas opciones incluyen
    idioma, país y valores de localización. El instalador mostrará los mensajes
    en el idioma seleccionado a menos que la traducción para ese idioma no esté
    completa, en cuyo caso podrán mostrarse algunos mensajes en inglés.

console-setup

    Muestra una lista de teclados, de la cual el usuario elije el modelo que
    corresponda al suyo.

hw-detect

    Detecta automáticamente la mayoría del hardware del sistema, incluyendo
    tarjetas de red, discos duros y PCMCIA.

cdrom-detect

    Busca y monta un CD de instalación de Debian.

netcfg

    Configura las conexiones de red del ordenador de modo que éste pueda
    comunicarse a través de Internet.

iso-scan

    Busca imágenes ISO (ficheros .iso) en el disco duro.

choose-mirror

    Presenta una lista de los servidores de réplica del archivo de Debian. El
    usuario puede elegir la fuente que se utilizará para sus paquetes de
    instalación.

cdrom-checker

    Verifica la integridad de un CD-ROM. De esta forma el usuario puede
    asegurarse por sí mismo que el CD-ROM de instalación no está dañado.

lowmem

    Lowmem intenta detectar sistemas con poca memoria y entonces realiza varios
    trucos para eliminar partes innecesarias del debian-installer en la memoria
    (a costa de algunas características).

anna

    "Anna's Not Nearly APT" (Anna casi no es APT, N. del t.). Instala paquetes
    que han sido obtenidos del servidor de réplica escogido o del CD-ROM.

user-setup

    Configura la contraseña del usuario «root» (administrador) y añade un
    usuario no-administrador.

clock-setup

    Actualiza el reloj del sistema y determina si el reloj está fijado como UTC
    o no.

tzsetup

    Selecciona la zona horaria, basada en el lugar seleccionado previamente.

partman

    Permite al usuario particionar los discos conectados al sistema, crear
    sistemas de ficheros en las particiones seleccionadas y añadirlos a los
    puntos de montaje. Incluye algunas características interesantes como son un
    modo totalmente automático de particionado o el uso de volúmenes lógicos
    (LVM). Es la herramienta de particionado recomendada para Debian.

partitioner

    Permite al usuario particionar los discos conectados al sistema. Se elige
    un programa de particionado apropiado para la arquitectura de su ordenador.

partconf

    Muestra una lista de particiones y crea sistemas de ficheros en las
    particiones seleccionadas de acuerdo a las instrucciones del usuario.

lvmcfg

    Ayuda al usuario con la configuración del gestor de volúmenes lógicos
    (Logical Volume Manager ó LVM, N. del t.).

mdcfg

    Permite al usuario configurar sistemas RAID ("Redundant Array of
    Inexpensive Disks") por software. Este RAID por software habitualmente es
    mejor que los controladores baratos RAID IDE (pseudo hardware) que puede
    encontrar en placas base nuevas.

base-installer

    Instala el conjunto de paquetes más básico que permitirá que el ordenador
    opere con Debian GNU/Linux cuando se reinicie.

apt-setup

    Configura apt, casi todo automáticamente, basándose en el medio desde el
    que se está ejecutando el instalador.

pkgsel

    Utiliza tasksel para seleccionar e instalar programas adicionales.

os-prober

    Detecta los sistemas operativos instalados actualmente en el ordenador y
    entrega esta información a "bootloader-installer". Éste le ofrecerá la
    posibilidad de añadir estos sistemas operativos al menú de inicio del
    gestor de arranque. De esta manera el usuario podría fácilmente elegir qué
    sistema operativo iniciar en el momento de arrancar su sistema.

bootloader-installer

    Los distintos instaladores del gestor de arranque instalan un programa de
    gestión de arranque en el disco duro. Éste es necesario para que el
    ordenador arranque usando Linux sin usar un disquete ó CD-ROM. Muchos
    gestores de arranque permiten al usuario elegir un sistema operativo
    alternativo cada vez que el ordenador se reinicia.

shell

    Permite al usuario ejecutar un intérprete de órdenes ya sea desde el menú o
    desde la segunda consola.

save-logs

    Ofrece una forma para que el usuario pueda guardar información en un
    disquete, red, disco duro, u otros dispositivos cuando se encuentre ante un
    problema. De esta forma puede informar después, adecuadamente, sobre los
    problemas que ha tenido con el programa del instalador a los
    desarrolladores de Debian.

6.3. Uso de componentes individuales

En esta sección describiremos en detalle cada componente del instalador. Los
componentes han sido agrupados en etapas que los usuarios podrán reconocer.
Éstos se presentan en el orden en el que aparecen durante la instalación. Note
que no se usarán todos los módulos en cada instalación; los módulos que se usan
realmente dependen del método de instalación que use y de su hardware.

6.3.1. Configurar el instalador de Debian y configuración de hardware

Asumamos que el instalador de Debian ha arrancado y está visualizando su
pantalla inicial. En este momento, las capacidades del debian-installer son
todavía algo limitadas. Éste no conoce mucho sobre su hardware, idioma
preferido, o incluso la tarea que deberá realizar. No se preocupe. Porque
debian-installer es bastante intuitivo, puede automáticamente explorar su
hardware, localizar el resto de sus componentes y actualizarse automáticamente
a un sistema de instalación capacitado. Sin embargo, todavía deberá ayudar al
debian-installer suministrando la información que no puede determinar
automáticamente (como elegir su idioma preferido, el mapa del teclado o el
servidor de réplica deseado).

Notará que debian-installer realiza la detección de hardware varias veces
durante esta etapa. La primera vez se enfoca específicamente en el hardware
requerido para cargar los componentes del instalador (como su CD-ROM o tarjeta
de red). En vista de que no todos los controladores podrían estar disponibles
en esta primera ejecución, la detección de hardware necesita repetirse después,
durante el proceso.

Durante la detección de hardware debian-installer detecta si cualquiera de los
controladores para los dispositivos hardware su sistema necesitan que se cargue
un «firmware». Si es necesario un «firmware» pero no está disponible se
mostrará un diálogo que le permite cargar el fichero de un medio extraíble.
Para más información consulte Sección 6.4, "Carga de Firmware adicional".

6.3.1.1. Comprobación de la memoria disponible / modo de baja memoria

Una de las primeras cosas que realiza debian-installer, es comprobar la memoria
disponible. Si esta es reducida, este componente realizará algunos cambios en
el sistema de instalación que, con un poco de suerte, le permitirán instalar
Debian GNU/Linux en su sistema.

La primera medida que se toma para reducir el consumo de memoria en el
instalador es deshabilitar las traducciones, lo que significa que la
instalación sólo la podrá hacer en inglés. Por supuesto, puede localizar el
sistema que haya instalado una vez haya terminado la instalación.

Si no es suficiente, el instalador intentará reducir el consumo de memoria
cargando solamente los componentes esenciales para completar una instalación
básica. Esto reduce la funcionalidad del sistema de instalación. Se le dará la
oportunidad de cargar componentes adicionales de forma manual pero debe tener
en cuenta que cada componente que cargue consumirá más memoria y podría hacer
que toda la instalación fallara.

Si el instalador se ejecuta en modo de baja memoria es recomendable crear una
partición de intercambio relativamente grande (64 a 128 MB). La partición de
swap se utilizará como memoria virtual y por tanto incrementa la cantidad de
memoria disponible al sistema. El instalador activará la partición de
intercambio lo antes posible en el proceso de instalación. Tenga en cuenta que
si se usa demasiado la zona de intercambio se degradará el rendimiento de su
sistema y puede tener como consecuencia una alta actividad en el disco.

A pesar de estas medidas, es posible que su sistema se congele, que se
produzcan errores inesperados o que el núcleo mate procesos porque el sistema
se quede sin memoria (si esto sucede aparecerán mensajes diciendo "Out of
memory", es decir, «Sin memoria» en VT4 y en el syslog).

Por ejemplo, se ha reportado que la creación de un sistema de ficheros ext3
grande falla en el modo de baja memoria cuando no hay suficiente espacio de
intercambio. Si el tener una partición de intercambio no ayuda, intente crear
el sistema de ficheros como si fuera ext2 (que es un componente esencial del
instalador). Puede cambiar una partición ext2 a ext3 después de la instalación.

Es posible forzar al instalador para que utilice un nivel superior de memoria
baja que el valor que se utilizaría basándose en la memoria disponible. Para
ello se puede utilizar el parámetro de arranque "lowmem" tal y como se describe
en Sección 5.3.2, "Parámetros del instalador de Debian".

6.3.1.2. Seleccionar las opciones de localización

En la mayoría de los casos las primeras preguntas que se le harán estarán
relacionadas con las opciones de localización que se van a utilizar tanto en la
instalación como en el sistema instalado. Las opciones de localización
consisten del idioma, el país y la ubicación geográfica.

El idioma que escoja se utilizará durante el resto del proceso de instalación,
siempre que exista una traducción para los distintos mensajes que se muestran.
Si no hay una traducción disponible para el idioma seleccionado el instalador
mostrará los mensajes en inglés.

La ubicación geográfica seleccionada (habitualmente, un país) se utilizará más
adelante en el proceso de instalación para seleccionar la zona horaria correcta
y el servidor de réplica de Debian más apropiada en función de ese país. El
idioma y el país se utilizarán conjuntamente para ayudar a definir la locale
predeterminada del sistema y seleccionar la distribución del teclado adecuada.

Primero se le preguntará cuál es su idioma preferido. Los nombres de idioma se
muestran tanto en inglés (lado izquierdo) como en el propio idioma (lado
derecho). También se utiliza la tipografía apropiada para su idioma en el lado
derecho. La lista está ordenada alfabéticamente por el nombre en inglés. El
primer elemento de la lista es una opción adicional que le permite seleccionar
la locale "C" en lugar de un idioma concreto. Si escoge la locale "C" la
instalación procederá en inglés, y el sistema instalado no tendrá la
funcionalidad de localización ya que no se instalará el paquete locales.

A continuación se le pedirá que seleccione su ubicación geográfica si ha
seleccionado un idioma que es el idioma oficial de más de un país^[7], sólo se
le mostrará una lista de esos países. Para seleccionar un país que no esté en
la lista escoja la opción «otro», al final de la lista. Se le mostrará una
lista de continentes; si escoge un continente se le mostrarán los países
relevantes para este continente.

Si el idioma elegido tiene sólo un país asociado, se mostrará una lista de
países del continente o región al que pertenece, con tal país seleccionado de
forma predeterminada. Use la opción Retroceder para seleccionar países en un
continente distinto.

Nota

Es importante seleccionar dónde vive o su ubicación actual para determinar la
zona horaria que se configurará para el sistema instalado.

Si ha seleccionado una combinación del idioma y país para la cual no hay
definida ninguna locale, y si existen varias locales para ese idioma, el
instalador le permitirá seleccionar cuáles de esas configuraciones regionales
prefiere como la predeterminada del sistema instalado.^[8]. En todos los demás
casos, se seleccionará una locale basada en el idioma y país seleccionado.

Todas las locales definidas como se describe en el anterior párrafo usarán
UTF-8 para la codificación de caracteres.

Si está haciendo una instalación con prioridad baja, tendrá la opción de
seleccionar locales adicionales, incluyendo locales "legacy" (obsoletas)^[9],
para su generación para el sistema instalado; si hace esto, se le preguntará
cual de las locales seleccionadas debería ser la predeterminada del sistema
instalado.

6.3.1.3. Elección del teclado

Normalmente los teclados están sujetos a los caracteres usados en un
determinado idioma. Seleccione un teclado de acuerdo al modelo que use, o
seleccione algo parecido a éste si no encuentra su modelo de teclado. Una vez
que la instalación haya finalizado, podrá seleccionar un modelo de teclado de
entre un rango más amplio de opciones (ejecute «dpkg-reconfigure
keyboard-configuration» como superusuario cuando haya completado la
instalación).

Mueva el cursor hacia la selección de teclado que desee y presione Enter.
Utilice las teclas de direccionado para mover el cursor -- están en el mismo
lugar en todos los modelos nacionales de teclado, así que son independientes de
la configuración de teclado.

6.3.1.4. Búsqueda de la imagen ISO del instalador de Debian

Al instalar usando el método hd-media, habrá un momento en el que se requiera
localizar y montar la imagen ISO del Instalador de Debian para obtener el resto
de los ficheros de instalación. El componente iso-scan hace exactamente esto.

At first, iso-scan automatically mounts all block devices (e.g. partitions and
logical volumes) which have some known filesystem on them and sequentially
searches for filenames ending with .iso (or .ISO for that matter). Beware that
the first attempt scans only files in the root directory and in the first level
of subdirectories (i.e. it finds /whatever.iso, /data/whatever.iso, but not /
data/tmp/whatever.iso). After an iso image has been found, iso-scan checks its
content to determine if the image is a valid Debian iso image or not. In the
former case we are done, in the latter iso-scan seeks for another image.

En caso de que falle el intento anterior de encontrar la imagen ISO del
instalador, iso-scan le preguntará si quiere realizar una búsqueda más
exhaustiva. Este paso no sólo buscará en los directorios de primer nivel sino
en todo el sistema de ficheros.

En el caso de que iso-scan no sea capaz de encontrar la imagen ISO del
instalador, deberá reiniciar, arrancar su sistema operativo original y
comprobar que el nombre de la imagen es correcto (verifique que termina en
.iso), se encuentra en un lugar reconocible por debian-installer, y no es una
imagen defectuosa (verifique la suma de control). Los usuarios de Unix más
expertos pueden hacer esto sin reiniciar, utilizando para ello la segunda
consola.

Note that the partition (or disk) hosting the ISO image can't be reused during
the installation process as it will be in use by the installer. To work-around
this, and provided that you have enough system memory, the installer can copy
the ISO image into RAM before mounting it. This is controlled by the low
priority iso-scan/copy_iso_to_ram debconf question (it is only asked if the
memory requirement is met).

6.3.1.5. Configuración de la red

En este paso, si el sistema detecta que tiene más de un dispositivo de red, se
le pedirá que elija cual quiere usar como interfaz de red primaria, esto es, la
que quiera usar para la instalación. El resto de las interfaces no se
configurarán en este momento. Podrá configurar las demás interfaces una vez se
haya terminado la instalación; lea la página de manual interfaces(5).

6.3.1.5.1. Configuración de red automática

Por omisión, debian-installer intenta configurar la red de su ordenador de
forma automática en la medida de lo posible. Si falla la configuración
automática, puede ser por varios factores, desde un cable sin conexión a la red
a un infraestructura insuficiente para la configuración automática. Para una
explicación detallada en caso de error, compruebe los mensajes de error en el
ucarto intérprete de órdenes. En cualquier caso, se le solicitará decidir si
desea reintentar el proceso o realizar una configuración manual. A veces, los
servicios de red empleados para la configuración automática pueden tener una
respuesta lenta, así que si está seguro de que todo es correcto, simplemente
vuelva a iniciar el intento de configuración automática. Si la configuración
automática falla varias veces, puede seleccionar la configuración manual de la
red.

6.3.1.5.2. Configuración de red manual

La configuración de red manual pregunta sucesivamente datos acerca de la red,
principalmente: dirección IP, máscara de red, pasarela, direcciones de los
servidores de nombres, y el nombre de la máquina. Además, si tiene una interfaz
de red inalámbrica, se le pedirá que proporcione el ESSID inalámbrico ("nombre
de red inalámbrica") y la clave WEP o la clave WPA/WPA2 passphrase. Rellene las
respuestas con la información de Sección 3.3, "Información que necesitará".

Nota

A continuación se indican algunos detalles técnicos que posiblemente encuentre
útiles (o no): el programa asume que la dirección IP de la red es el resultado
de aplicar la operación «AND» a nivel de bit a la dirección IP de su sistema y
a su máscara de red. Obtendrá la dirección de difusión («broadcast», N. del T.)
por omisión a través de una operación «OR» a nivel de bit de la dirección IP de
su sistema con el valor negado a nivel de bit de la máscara de red. También
intentará adivinar su pasarela. Debería utilizar los valores sugeridos por el
programa si no sabe las respuestas a algunas de las preguntas que se le
presenten. Si fuera necesario, podrá cambiar estos valores editando el fichero
/etc/network/interfaces una vez el sistema esté instalado.

6.3.1.5.3. IPv4 y IPv6

A partir de la versión Debian GNU/Linux 7.0 ("Wheezy"), debian-installer
permite IPv6 así como el "clásico" IPv4. Todas las combinación de IPv4 y IPv6
(soloIPv4, solo IPv6 y configuraciones de pila dual) son compatibles.

La configuración automática de IPv4 se realiza mediante DHCP (Dynamic Host
Configuration Protocol). La configuración automática de IPv6 permite una
configuración automática sin estado mediante NDP (Neighbor Discovery Protocol,
incluyendo una asignación de servidor recursivo DNS (RDNSS)), configuración con
estado mediante DHCPv6, y la configuración automática mixta con estado/sin
estado (configuración de dirección mediante NDP, parámetros adicionales
mediante DHCPv6).

6.3.2. Configurar usuarios y contraseñas

El instalador le permitirá configurar la cuenta del usuario "root"
(superusuario, o usuario administrador, N. del T.) y/o una cuenta para el
primer usuario después de configurar la hora. Puede crear otras cuentas de
usuario una vez haya terminado el proceso de instalación.

6.3.2.1. Configurar la contraseña de root

La cuenta de root también se la conoce como la cuenta de super-usuario. Se
trata de una cuenta que puede saltarse todas las protecciones de seguridad del
sistema. Es una cuenta que sólo debería utilizarse para realizar la
administración del sistema y sólo durante un tiempo tan corto como sea posible.

Cualquier contraseña para esta cuenta debería tener al menos seis caracteres y
debería tener tanto caracteres en mayúsculas como en minúsculas así como
caracteres de puntuación. Tenga mucho cuidado cuando configure la contraseña de
root ya que es una cuenta con muchos privilegios. Evite el uso de palabras de
diccionario o utilizar información personal que se podría averiguar fácilmente.

Si alguien le pregunta alguna vez que necesita su contraseña de root sea
extremadamente cuidadoso. Nunca debería entregar su contraseña de root, a no
ser que haya más de una persona haciendo tareas de administración del equipo.

In case you do not specify a password for the "root" user here, this account
will be disabled but the sudo package will be installed later to enable
administrative tasks to be carried out on the new system. By default, the first
user created on the system will be allowed to use the sudo command to become
root.

6.3.2.2. Crear un usuario normal

El sistema le preguntará si desea o no crear una cuenta de usuario normal. Esta
cuenta debería utilizarse como su cuenta personal para acceder al sistema. No
debe utilizar la cuenta de root como su cuenta personal o de uso diario.

¿Por qué no debe hacer esto? Una razón es que el uso de los privilegios de root
hace muy fácil que pueda causar daños irreparables al sistema. Otra razón es
que alguien le podría intentar engañar y hacer que entre en funcionamiento un 
caballo de Troya (un programa que parece inocuo pero que toma control de la
seguridad de su sistema sin que vd. lo sepa gracias a los privilegios de root).
Cualquier buen libro de administración de sistemas Unix cubre este tema en más
detalle, le recomendamos que lea alguno si este tema es nuevo para vd.

Primero se le preguntará el nombre completo del usuario. Después se le pedirá
un nombre para la cuenta de usuario. Habitualmente se utiliza su nombre o algo
parecido y, de hecho, éste será el valor por omisión. A continuación se le
pedirá una contraseña para esta cuenta.

Si quiere crear otra cuenta de usuario después de la instalación, puede
utilizar la orden adduser.

6.3.3. Configuración del reloj y zona horaria

El instalador intentará conectar a un servidor de tiempos en Internet
(utilizando el protocolo NTP) para poder fijar correctamente la hora del
sistema. Si esta operación no tiene éxito, el instalador asumirá que la fecha y
hora obtenida del reloj del sistema cuando el sistema de instalación arrancó es
la hora correcta. No es posible fijar la hora del sistema manualmente durante
el proceso de instalación.

De acuerdo con el lugar seleccionado con anterioridad en el proceso de
instalación, se le mostrará una lista de zonas horarias apropiadas. No se le
hará ninguna pregunta si su ubicación tiene sólo una zona horaria ya que el
sistema supondrá que está en esa zona.

En modo experto o al realizar una instalación con prioridad media, tendrá la
opción adicional de seleccionar el "Tiempo universal coordinado" (UTC) como
zona horaria.

Si por alguna razón desea establecer una zona horaria que no corresponde con la
ubicación para el sistema instalado elegida, hay dos opciones:

 1. La opción más sencilla implica elegir una zona horaria distinta después de
    terminada la instalación y haber reiniciado al nuevo sistema. La orden para
    lograrlo sería:

    # dpkg-reconfigure tzdata

 2. Por otra parte, la zona horaria puede establecerse justo al comienzo de la
    instalación utilizando el parámetro time/zone=value cuando arranca el
    sistema de instalación. El valor tiene que ser una zona horaria válida, por
    ejemplo Europe/London o UTC.

En el caso de instalaciones automatizadas puede definir la zona horaria con
cualquier valor usando la preconfiguración.

6.3.4. Particionado y elección de punto de montaje

En este momento, después de que ha sido ejecutada la detección de hardware por
última vez, debian-installer deberá estar en su total capacidad, adaptado para
las necesidades del usuario y listo para realizar el verdadero trabajo. Como lo
indica el título de esta sección, la tarea principal de los próximos
componentes radica en particionar sus discos, crear sistemas de ficheros,
asignar puntos de montaje y opcionalmente configurar opciones estrechamente
relacionadas como LVM o dispositivos RAID.

Si no se siente a gusto particionando, o simplemente quiere conocer más
detalles, lea el Apéndice C, Particionado en Debian.

Primero se le dará la oportunidad de particionar automáticamente todo el disco
o el espacio libre disponible en el disco. A esto también se le llama
particionado "guiado". Si no quiere autoparticionar, elija Manual en el menú.

6.3.4.1. Opciones de particionado aceptados

El particionador usado en debian-installer is muy versátil. Permite crear
muchos esquemas de particionado, usar distintas tablas de partición, sistemas
de fichero y dispositivos de bloque avanzado.

Exactamente qué opciones están disponibles depende principalmente de la
arquitectura, aunque también hay otros factores. Por ejemplo, puede que no
todas las opciones estén disponibles en sistemas con una memoria interna
limitada. Los valores predefinidos también pueden variar. El tipo de tabla de
particionado usado por omisión puede ser muy distinto con discos duros de gran
capacidad que el usado con discos duros más pequeños. Algunas opciones sólo se
pueden cambiar al instalar con una prioridad debconf media o baja; se usarán
valores predefinidos adecuados con prioridades más altas.

El instalador permite varias formas de particionado avanzado y el uso de
dispositivos de almacenamiento, que en la mayoría de los casos se pueden usar
en combinación.

  • Gestor de Volúmenes Lógicos (LVM)

  • Software RAID

    Se aceptan los niveles de RAID 0, 1, 4, 5, 6 y 10.

  • Cifrado

  • Serial ATA RAID (usando dmraid)

    También llamado "fake RAID" (falso) o "BIOS RAID". En la actualidad, Serial
    ATA RAID sólo está disponible al arrancar el instalador. Para más
    información consulte nuestra wiki.

  • Multipath (experimental)

    Para más información consulte our Wiki. La compatibilidad con «multipath»
    sólo está disponible si se activa al arrancar el instalador.

Se permiten los siguientes sistemas de fichero.

  • ext2, ext3, ext4

    El sistema de ficheros por omisión seleccionado en la mayoría de los casos
    es ext4; por omisión, se seleccionará ext2 para particiones /boot si se usa
    el particionado guiado.

  • jfs (no disponible para todas las arquitecturas)

  • xfs (no disponible para todas las arquitecturas)

  • reiserfs (opcional; no disponible para todas las arquitecturas)

    El uso del sistema de ficheros Reiser no está disponible por omisión. Puede
    activarlo cuando el instalador se ejecuta con una prioridad de debconf
    media o baja seleccionando el componente partman-reiserfs. Sólo se permite
    la versión 3 del sistema de ficheros.

  • qnx4

    Se reconocerán las particiones existentes, y es posible asignar a éstos
    puntos de montaje. No es posible crear particiones qnx4 nuevas.

  • FAT16, FAT32

  • NTFS (sólo lectura)

    Se pueden redimensionar particiones NTFS, y es posible asignar a estos
    puntos de montaje. No es posible crear particiones NTFS nuevas.

6.3.4.2. Particionado guiado

Si elije el particionado guiado, puede tener tres opciones: crear las
particiones directamente en el disco duro (el método clásico), utilizar el
Gestor de Volúmenes Lógicos («Logical Volumen Manager», LVM), o crearlas
utilizando un LVM cifrado^[10].

Nota

La opción de usar LVM (cifrado) puede no estar disponible en todas las
arquitecturas.

Cuando utilice LVM o LVM cifrado el instalador creará la mayoría de las
particiones dentro de una partición si escoge la segunda opción, la ventaja de
este método es que las particiones dentro de una partición más grande pueden
cambiarse de tamaño más adelante relativamente fácil. En el caso de LVM cifrado
la partición más grande no será legible sin el conocimiento de una contraseña
especial, lo que da un seguridad adicional en su datos (personales).

El instalador borra automáticamente el disco escribiendo datos aleatorios en él
antes de utilizar LVM cifrado. Esto mejora la seguridad (ya que hace imposible
determinar qué partes del disco se están utilizando y también se asegura de que
cualquier traza de instalación previa se borra). Sin embargo, esto puede llevar
un tiempo dependiendo del tamaño de su disco.

Nota

Si elige el particionado guiado con LVM o LVM cifrado, es posible que algunos
cambios tengan que escribirse en el disco seleccionado mientras se termina la
configuración de LVM. Estos cambios borran de forma permanente todos los datos
que existan en el disco que haya seleccionado y no podrán deshacerse más
adelante. El instalador, sin embargo, le pedirá que confirme estos cambios
antes de escribirlos en disco.

Una vez haya elegido el particionado guiado, tanto en el caso del método
clásico como en el caso de LVM, se le pedirá primero que seleccione el disco
que quiere utilizar. Compruebe que todos sus discos están en la lista y, si
tiene más de un disco, asegúrese de escoger el disco correcto. Tenga en cuenta
que el orden en el que están listados los discos puede ser distinto del que
está acostumbrado. El tamaño de los discos puede ayudarle a identificarlos.

Se borrará cualquier dato en el disco que haya seleccionado, pero siempre se le
pedirá que confirme los cambios antes de escribirlos en el disco. Si ha
seleccionado el método clásico de particionado podrá deshacer los cambios hasta
el final. Esto no es posible cuando utiliza LVM (cifrado).

Posteriormente podrá escoger de algunos de los esquemas listados en la tabla
mostrada a continuación. Todos los esquemas tienen sus pros y sus contras,
algunos de éstos se discuten en Apéndice C, Particionado en Debian. Si no está
seguro, escoja el primero. Tenga en mente, que el particionado guiado necesita
un cierto espacio libre mínimo para operar. Si no le asigna al menos un 1 GB de
espacio (depende del esquema seleccionado), el particionado guiado fallará.

┌───────────────────────────────────┬────────────┬────────────────────────────┐
│      Esquema de particionado      │  Espacio   │    Particiones creadas     │
│                                   │   mínimo   │                            │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Todos los ficheros en una partición│600 MB      │/, intercambio              │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Partición /home separada           │500 MB      │/, /home, intercambio       │
├───────────────────────────────────┼────────────┼────────────────────────────┤
│Particiones /home, /var y /tmp     │1GB         │/, /home, /var, /tmp,       │
│separadas                          │            │intercambio                 │
└───────────────────────────────────┴────────────┴────────────────────────────┘

El instalador creará una partición separada para /boot si escoge el guiado
particionado con LVM (cifrado). Todas las demás particiones, incluyendo la
partición de intercambio, se crearán dentro de la partición LVM.

If you have booted in EFI mode then within the guided partitioning setup there
will be an additional partition, formatted as a FAT32 bootable filesystem, for
the EFI boot loader. This partition is known as an EFI System Partition (ESP).
There is also an additional menu item in the formatting menu to manually set up
a partition as an ESP.

Después de seleccionar un esquema, la siguiente pantalla le mostrará la nueva
tabla de particiones, incluyendo a qué particiones se dará formato, cómo, y
dónde se montarán.

La lista de particiones podría ser como la siguiente:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB  B f ext2       /boot
        #2 primary  551.0 MB      swap       swap
        #3 primary    5.8 GB      ntfs
           pri/log    8.2 MB      ESPACIO LIBRE

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB      ext3
        #2 primary  996.0 MB      fat16
        #3 primary    3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logical    1.0 GB    f ext3       /var
        #7 logical  498.8 GB      ext3

Este ejemplo muestra dos discos duros divididos en varias particiones, el
primer disco tiene algo de espacio libre. Cada línea de partición está
conformada por el número de partición, su tipo, tamaño, banderas opcionales,
sistema de ficheros y punto de montaje (si fuese el caso). Nota: esta
configuración particular no puede crearse con el particionado guiado pero sí
muestra una variación que puede conseguirse utilizando el particionado manual.

Esto finaliza con el particionado guiado. Si está satisfecho con la tabla de
particiones generada, puede elegir Finalizar el particionado y escribir los
cambios en el disco desde el menú para implementar la nueva tabla de
particiones (como se describe al final de esta sección). Si no le gusta, puede
elegir Deshacer los cambios realizados a las particiones, para ejecutar
nuevamente el particionado guiado o modificar los cambios propuestos de forma
manual tal y como se describe a continuación.

6.3.4.3. Particionado manual

Una pantalla similar a la mostrada anteriormente aparecerá si elige particionar
manualmente excepto que se mostrará su partición actual sin los puntos de
montaje. Al final de esta sección se explica cómo configurar manualmente sus
particiones y el uso de éstas en su sistema Debian nuevo.

Si elige un disco nuevo que no tiene ni particiones o espacio libre en él, se
le podría ofrecer la creación de una nueva tabla de particiones (esto es
necesario para que pueda crear nuevas particiones). Después de esto una nueva
línea titulada "ESPACIO LIBRE" deberá aparecer bajo el disco seleccionado.

Si elije el espacio libre, tendrá la oportunidad de crear una nueva partición.
Tendrá que responder un conjunto de preguntas cortas sobre su tamaño, tipo
(primaria o lógica) y ubicación (al inicio o final del espacio libre). Después
de esto, se le presentará un resumen detallado sobre su nueva partición. El
valor principal es Utilizar como:, que determina si la partición tendrá un
sistema de ficheros o se utilizará como intercambio, RAID por software, LVM, un
sistema de ficheros cifrado, o no se utilizará. Otras opciones incluyen el
punto de montaje, opciones de montaje y marca de arranque. Las opciones que se
muestren dependen de cómo se va a utilizar la partición. Si no le gustan las
opciones predeterminadas, no dude en cambiarlas a su gusto. Por ejemplo, si
selecciona la opción Usar como:, puede elegir un sistema de ficheros distinto
para esta partición, incluyendo opciones para usar la partición como
intercambio, RAID por software, LVM, o simplemente no usarla. Cuando esté
satisfecho con su nueva partición, elija Se ha terminado de definir la
partición y regresará a la pantalla principal de partman.

Si decide que desea cambiar algo en su partición, simplemente elija la
partición, lo cual le conducirá al menú de configuración de la partición. Esta
es la misma pantalla que cuando crea la partición, así que puede cambiar el
mismo conjunto de opciones. Algo que podría no ser muy obvio a primera vista,
es que puede redimensionar el tamaño de la partición seleccionando el elemento
que muestra el tamaño de ésta. Los sistemas de ficheros que se conoce que
funcionan con esta opción son por lo menos fat16, fat32, ext2, ext3 y «swap».
Este menú también le permite eliminar una partición.

Asegúrese de crear al menos dos particiones: una para el sistema de ficheros 
raíz (que debe montarse en /) y otra para el espacio de intercambio. Si olvida
montar el sistema de ficheros raíz, partman no le dejará continuar hasta que
corrija esto.

If you boot in EFI mode but forget to select and format an EFI System
Partition, partman will detect this and will not let you continue until you
allocate one.

Se pueden extender las capacidades de partman con módulos para el instalador,
pero dependen de la arquitectura de su sistema. Así que si no están disponibles
todas las funcionalidades que esperaba, compruebe que ha cargado todos los
módulos necesarios (p. ej. partman-ext3, partman-xfs, o partman-lvm).

Cuando esté satisfecho con el particionado, seleccione Finalizar el
particionado y escribir los cambios en el disco del menú de particionado. Se le
presentará un resumen de los cambios realizados en los discos y se le pedirá
confirmación para crear los sistemas de ficheros solicitados.

6.3.4.4. Configuración de dispositivos multidisco (RAID)

Si tiene más de un disco duro^[11] en su ordenador, con mdcfg puede configurar
sus discos para un mayor rendimiento y/o una mayor seguridad de los datos. El
resultado se denomina Dispositivo multidisco (o como su variante más conocida
RAID).

Básicamente el metadispositivo es un grupo de particiones de distintos discos
combinadas para formar un dispositivo lógico. Este dispositivo puede usarse
como una partición ordinaria (p.ej. puede darle formato con partman, asignarle
un punto de montaje, etc.).

Los beneficios obtenidos dependen del tipo de MD creado. Actualmente los tipos
compatibles son:

RAID 0

    Su principal objetivo es el rendimiento. RAID 0 divide todos los datos de
    entrada en franjas y los distribuye igualmente por cada disco en el sistema
    RAID. Esto puede aumentar la velocidad de las operaciones de lectura/
    escritura, pero cuando falle un disco, perderá todo (parte de la
    información todavía está en el disco o discos que funcionan, la otra parte 
    estaba en el disco que falló).

    El uso típico de RAID 0 en una partición para edición de vídeo.

RAID 1

    Es adecuado para los casos en los que la fiabilidad sea lo primordial.
    Consiste en varias (normalmente dos) particiones del mismo tamaño donde
    cada partición contiene exactamente los mismos datos. Esto significa tres
    cosas. Primero, si un disco falla, todavía tiene una copia de los datos en
    los discos restantes. Segundo, sólo puede usar una fracción de la capacidad
    disponible (con más precisión, el tamaño de la partición más pequeña del
    sistema RAID). Tercero, la carga producida por la lectura de ficheros se
    reparte entre los discos, lo que puede ampliar el rendimiento de algunos
    servidores, como los servidores de ficheros, que tienden a tener más carga
    de lecturas que escrituras.

    Opcionalmente puede tener un disco de reserva en el sistema que tomará el
    lugar del disco defectuoso en caso de fallo.

RAID 5

    Es una buena elección entre velocidad, confiabilidad y redundancia de
    datos. RAID 5 divide todos los datos de entrada en franjas y los distribuye
    igualmente en todos los discos (similar a RAID 0), a excepción de uno. A
    diferencia de RAID 0, RAID 5 también calcula la información de paridad, la
    cual se escribe en el disco restante. El disco de paridad no es estático
    (esto sería RAID 4), sino que cambia periódicamente, de modo que la
    información de paridad se distribuye entre todos los discos. Cuando falla
    uno de los discos, la parte faltante de la información puede reconstruirse
    desde la información existente y su paridad. Debe utilizar al menos tres
    particiones activas para un sistema RAID 5. Opcionalmente, puede tener un
    disco de reserva, el cual se utilizará en lugar del primer disco que falle
    dentro del array.

    Como puede ver, RAID 5 tiene un grado similar de confiabilidad a RAID 1
    logrando menos redundancia. Por otro lado, podría ser un poco más lento en
    operaciones de escritura que RAID 0 debido al cálculo de la información de
    paridad.

RAID 6

    Es parecido al RAID 5 pero usa dos dispositivos de paridad en lugar de uno
    solo.

    Un arreglo RAID 6 puede sobrevivir a un daño de hasta dos discos.

RAID 10

    Un arreglo RAID 10 combina divisiones (como en RAID 0) y espejo (como en
    RAID 1). Crea n copias de los datos y los distribuye transversalmente en
    las particiones de forma tal que ninguna de las copias de datos estén en el
    mismo dispositivo. El valor predeterminado para n es 2, pero puede
    establecerse a otro en el modo experto. La cantidad de particiones usadas
    debe ser de por lo menos n. El RAID 10 tiene diferentes disposiciones para
    distribuir las copias. En principio se usa copias cercanas. Las copias
    cercanas tienen todas las copias casi con el mismo corrimiento en todos los
    discos. Las copias lejanas tienen las copias en corrimientos distintos en
    los discos. Los corrimientos de las copias copian las franjas y no las
    copias individuales.

    Los RAID 10 buscan alcanzar la confiabilidad y redundancia evitando el
    cálculo de paridad, que aveces es visto como un inconveniente.

Resumiendo:

┌────┬────────────┬───────────┬────────────┬──────────────────────────────────┐
│    │Dispositivos│Dispositivo│ ¿Sobrevive │                                  │
│Tipo│  mínimos   │de reserva │al fallo de │        Espacio disponible        │
│    │            │           │ un disco?  │                                  │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la menor partición      │
│0   │2           │no         │no          │multiplicado por el número de     │
│    │            │           │            │dispositivos en el sistema RAID.  │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│2           │opcional   │sí          │Tamaño de la menor partición en el│
│1   │            │           │            │sistema RAID.                     │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la partición más pequeña│
│5   │3           │opcional   │sí          │multiplicada por el número de     │
│    │            │           │            │dispositivos en RAID menos uno.   │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Tamaño de la partición más pequeña│
│6   │4           │opcional   │sí          │multiplicado por (el número de    │
│    │            │           │            │dispositivos RAID menos dos)      │
├────┼────────────┼───────────┼────────────┼──────────────────────────────────┤
│RAID│            │           │            │Total de todas las particiones    │
│10  │2           │opcional   │sí          │dividido en el número de porciones│
│    │            │           │            │de copias (predeterminado a 2)    │
└────┴────────────┴───────────┴────────────┴──────────────────────────────────┘

Si quiere saber más acerca de RAID, consulte el CÓMO de RAID.

Para crear un dispositivo MD necesita marcar todas las particiones que desea
utilizar para su uso con RAID (puede hacerlo con partman en el menú 
Configuración de la partición donde debería seleccionar Utilizar como: → 
volumen físico para RAID).

Nota

Asegúrese de que el sistema puede arrancar con el esquema de particiones que ha
planeado. Usualmente será necesario crear un sistema de ficheros separado para
/boot cuando se usa RAID para el sistema de ficheros raíz (/). La mayoría de
cargadores de arranque (incluyendo a lilo y grub) permiten usar RAID 1 en
espejo (¡sin franjas!), por lo tanto es posible usar RAID 5 para / y RAID 1
para /boot.

A continuación, debe elegir Configurar RAID software desde el menú principal de
partman. (El menú sólo aparecerá una vez haya marcado al menos una partición
para que se use como volumen físico para RAID.) En la primera pantalla de mdcfg
simplemente seleccione Crear un dispositivo MD. Se le presentará una lista de
tipos de MD aceptados, de los que debe elegir uno (p. ej. RAID 1). Los
siguientes pasos dependen del tipo de MD seleccionado.

  • RAID 0 es simple -- se le presentará una lista de particiones RAID
    disponibles y únicamente tendrá que seleccionar las particiones que
    formarán el MD.

  • RAID 1 es un poco más complejo. Primero, se le preguntará el número de
    dispositivos activos y el número de dispositivos de reserva que formarán el
    MD. A continuación, necesita seleccionar de la lista de particiones RAID
    disponibles las que estarán activas y las que quedarán en reserva. El total
    de las particiones seleccionadas debe ser igual al que se dio
    anteriormente. No se preocupe. Si comete algún error y selecciona un número
    distinto de particiones, debian-installer no le dejará continuar hasta que
    solucione el problema.

  • RAID 5 tiene un procedimiento de configuración similar al de RAID 1, con la
    excepción que necesita usar por lo menos tres particiones activas.

  • RAID 6 también tiene un procedimiento de configuración parecido a RAID 1
    excepto que se necesita por lo menos four particiones activas.

  • RAID 10 también tiene un procedimiento de configuración parecido a RAID1
    excepto en el modo experto. En modo experto, el debian-installer le
    preguntará por la disposición. La disposición consta de dos partes. La
    primera parte es el tipo de disposición. Puede ser n (para copias
    cercanas), f (para copias lejanas), u o (para copias con corrimientos). La
    segunda parte es el número de copias que se desea hacer de los datos. Debe
    haber por lo menos tantos dispositivos activos como copias estarían
    distribuidas en diferentes discos.

Es perfectamente posible tener varios tipos de MD a la vez. Por ejemplo, si
tiene tres discos duros de 200 GB dedicados para el MD, cada uno con dos
particiones de 100 GB, puede combinar la primera partición de los tres discos
en un RAID 0 (una partición rápida de 300 GB para edición de vídeo) y usar las
otras tres (2 activas, 1 de reserva) en un RAID 1 (una partición bastante
segura de 100 GB para /home).

Después de configurar los MD a su gusto, elija Terminar en mdcfg para volver a 
partman y crear los sistemas de ficheros en sus nuevos MD y asignarles los
atributos habituales, como los puntos de montaje.

6.3.4.5. Configuración del gestor de volúmenes lógicos (LVM)

Si trabaja con ordenadores como administrador del sistema o usuario "avanzado",
seguro que se ha visto en alguna situación en la que alguna partición del disco
(normalmente la más importante) tenía poco espacio, mientras que otras
particiones tenían mucho espacio libre malgastado, y ha tenido que solucionarlo
moviendo cosas de un lado para otro, realizando enlaces simbólicos, etc.

Para evitar ésta situación puede usar el gestor de volúmenes lógicos («Logical
Volume Manager» ó LVM , N. del T.). Una descripción sencilla de LVM es que con
él puede combinar sus particiones (volúmenes físicos en jerga LVM) para formar
un disco virtual (llamado grupo de volúmenes), que puede dividirse en
particiones virtuales (volúmenes lógicos). Los volúmenes lógicos (y por
supuesto, los grupos de volúmenes que hay debajo) pueden extenderse a lo largo
de varios discos.

En esta situación, cuando detecte que necesita más espacio para su vieja
partición /home de 160 GB, simplemente puede añadir un nuevo disco de 300 GB al
ordenador, unirlo al grupo de volúmenes existente, y entonces redimensionar el
volumen lógico que sostiene su sistema de ficheros /home y ¡eureka!, sus
usuarios vuelven a tener espacio en su nueva partición de 460 GB. Por supuesto,
este ejemplo está muy simplificado. Si aún no lo ha leído, debería consultar el
CÓMO LVM.

La configuración LVM con el debian-installer es bastante sencilla y está
totalmente permitida usando partman. Primero, tiene que marcar las particiones
que va a usar con volúmenes físicos para el LVM. Esto se hace en el menú 
Configuración de la partición: donde puede seleccionar Utilizar como: → volumen
físico para LVM.

Aviso

Be aware: the new LVM setup will destroy all data on all partitions marked with
an LVM type code. So, if you already have an LVM on some of your disks, and
want to install Debian additionally to that machine, the old (already existing)
LVM will be wiped out! The same counts for partitions, which are (for any
reason) misleadingly marked with an LVM type code, but contain something
different (like an encrypted volume). You need to remove such disks from the
system, before performing a new LVM setup!

Cuando vuelva a la pantalla principal de partman verá una nueva opción: 
Configurar el Gestor de Volúmenes Lógicos (LVM). Si lo selecciona se le pedirá
que confirme las modificaciones que están pendientes en la tabla de particiones
(si es que hay alguna) y después de esto se le mostrará el menú de
configuración de LVM. Se le muestra la configuración de LVM resumida encima del
menú. El menú es sensible al contexto y sólo le mostrará las acciones que sean
válidas en cada momento. Las acciones posibles son:

  • Mostrar los detalles de la configuración: muestra la estructura del
    dispositivo LVM, y los nombres y tamaños de los volúmenes lógicos junto con
    otra información.

  • Crear grupo de volúmenes

  • Crear volúmenes lógicos

  • Borrar el grupo de volúmenes

  • Borrar volúmenes lógicos

  • Extender los grupos de volúmenes

  • Reducir los grupos de volúmenes

  • Terminar: vuelve a la pantalla principal de partman.

Utilice las opciones en este menú para crear el grupo de volúmenes por primera
vez y después cree dentro de éste sus volúmenes lógicos.

Después de volver a la pantalla principal de partman, verá los volúmenes
lógicos como si fuesen particiones ordinarias (y debe tratarlas como tales).

6.3.4.6. Configurar volúmenes cifrados

debian-installer permite la configuración de particiones cifradas. Cualquier
fichero que se guarde en una partición de estas características se guardará al
dispositivo cifrado. El acceso a los datos sólo se puede conseguir una vez haya
introducido la clave utilizada para crear originalmente la partición cifrada.
Esta función es útil para proteger datos sensibles en caso de que alguien robe
su portátil o disco duro. El ladrón podrá lograr acceder al disco duro pero los
datos en el disco parecerán ser caracteres aleatorios y no podrá acceder a los
mismos si no sabe la clave correcta.

Las particiones más importantes a cifrar son: la partición «home» que es donde
se guardan sus datos privados y la partición de intercambio («swap») ya que
pueden guardarse datos sensibles en ésta durante la operación del sistema. Por
supuesto, nada impide que cifre otras particiones que podrían ser de interés.
Por ejemplo /var, que es donde se guardan los datos de los sistemas de base de
datos, servidores de correo o servidores de impresora, o /tmp, que lo utilizan
algunos programas para almacenar algunos datos temporales que pudieran ser de
interés. Algunos usuarios pueden querer incluso cifrar todo su sistema. La
única excepción es que la partición /boot debe permanecer sin cifrar ya que de
momento no hay ninguna forma de cargar un núcleo de una partición cifrada.

Nota

Tenga en cuenta que el rendimiento de las particiones cifradas será peor que el
de las particiones sin cifrar porque se tienen que descifrar o cifrar los datos
en cada acceso de lectura o escritura. El impacto en el rendimiento dependen de
la velocidad de su CPU, y del cifrado y longitud de clave escogidos.

Debe crear una nueva partición en el menú de particionado seleccionando espacio
libre si quiere utilizar el cifrado. Otra opción es utilizar una partición
existente (p.ej. una partición normal, o un volumen lógico LVM o RAID). Tiene
que seleccionar volumen físico para cifrado en el menú Configuración de la
partición en la opción Utilizar como:. El menú cambiará para mostrar distintas
opciones criptográficas para la partición.

The encryption method supported by debian-installer is dm-crypt (included in
newer Linux kernels, able to host LVM physical volumes).

Let's have a look at the options available when you select encryption via
Device-mapper (dm-crypt). As always: when in doubt, use the defaults, because
they have been carefully chosen with security in mind.

Cifrado: aes

    Esta opción le permite seleccionar el algoritmo de cifrado (cifra) que se
    utiliza para cifrar los datos en la partición. Actualmente debian-installer
    permite el uso de los siguientes cifrados de bloque: aes, blowfish, serpent
    , y twofish. La discusión de la calidad de los distintos algoritmos de
    cifrado queda fuera del alcance de este documento. Sin embargo, puede
    ayudarle a tomar una decisión el hecho de que en el año 2000 el Instituto
    Nacional de Estándares y Tecnología Norteamericano («American National
    Institute of Standards and Technology», NIST) escogió AES como el algoritmo
    de cifrado estándar para proteger información sensible en el siglo XXI.

Longitud de clave: 256

    En este punto puede especificar la longitud de la clave de cifrado. El
    cifrado es mejor cuanto mayor sea la longitud de cifrado. Pero, por otro
    lado, un incremento en el tamaño de la clave de cifrado tiene un impacto
    negativo en el rendimiento. En función del cifrado utilizado dispondrá de
    distintos tamaños de longitud de clave.

Algoritmo de VI: xts-plain64

    El algoritmo del Vector de Inicialización o VI (IV en inglés) se utiliza en
    criptografía para asegurar que la aplicación del cifrado en los mismos
    datos de texto en claro con la misma clave generan siempre un texto cifrado
    único. El objetivo es impedir que un atacante pueda deducir información
    basándose en patrones repetidos en los datos cifrados.

    De las alternativas disponibles el valor por omisión xts-plain64 es
    actualmente el menos vulnerable a ataques conocidos. Utilice las otras
    alternativas sólo si tiene que asegurar compatibilidad con algunos sistemas
    instalados previamente que no sean capaces de utilizar los nuevos
    algoritmos.

Clave de cifrado: Frase de contraseña

    Aquí puede introducir el tipo de clave de cifrado para esta partición.

    Frase de contraseña

        La clave de cifrado se computará^[12] basándose en la contraseña que
        podrá introducir en el proceso más adelante.

    Clave aleatoria

        Se generará una nueva clave de cifrado con valores aleatorios cada vez
        que se arranque la partición cifrada. En otras palabras: cada vez que
        se reinicie el sistema el contenido de la partición se perderá al
        borrarse la clave de la memoria. Por supuesto, podría intentar adivinar
        la contraseña a través de un ataque de fuerza bruta pero, a no ser que
        haya una debilidad desconocida en el algoritmo de cifrado, no es algo
        realizable en un tiempo razonable.

        Las claves aleatorias son útiles para las particiones de intercambio
        porque no es deseable acordarse de una frase de contraseña ni es
        recomendable borrar la información sensible de dicha partición antes de
        apagar su sistema. Sin embargo esto también significa que no podrá
        utilizar la funcionalidad "suspend-to-disk" (suspensión a disco, N. del
        T.) ofrecida por los nuevos núcleos ya que será imposible (en el
        rearranque posterior del sistema) recuperar los datos de la suspensión
        del sistema guardados en la partición de intercambio.

Borrar los datos: sí

    Indica si debería borrarse el contenido de la partición con datos
    aleatorios antes de configurar el cifrado. Se recomienda hacer esto porque
    en caso contrario un posible atacante podría determinar qué partes de la
    partición se están utilizando y cuáles no. Además, esto hará más difícil la
    recuperación de datos que permanecieran en la partición asociados a
    instalaciones previas^[13].

Una vez ha seleccionado los parámetros para su partición cifrada debe volver al
menú de particionado principal. Aquí debería encontrar un nuevo elemento del
menú llamado Configurar los volúmenes cifrados. Una vez lo seleccione se le
pedirá confirmación para borrar los datos de las particiones marcadas para ser
borradas así como otras opciones como, por ejemplo, la escritura de la tabla de
particiones en disco. Estas tareas tardarán un tiempo si está trabajando con
particiones grandes.

A continuación se le pedirá que introduzca una frase de contraseña para las
particiones que haya configurado para que la utilicen. Una buena frase de
contraseña tendrá más de ocho caracteres, será una mezcla de letras, números y
otros caracteres que no se pueden encontrar en palabras comunes del diccionario
y que no estén relacionadas con información que pueda asociarse a vd. con
facilidad (como son fecha de nacimiento, aficiones, nombre de mascotas, nombres
de miembros de la familia, etc.).

Aviso

Antes de introducir cualquier frase de contraseña debería asegurarse de que su
teclado está configurado adecuadamente y genera los caracteres que vd. supone.
Si no está seguro debería cambiar a la segunda consola virtual y escribir algún
texto en el indicador. Esto asegura que no vaya a sorprenderse más adelante,
por ejemplo, si introduce su frase de contraseña en un teclado configurado como
QWERTY cuando en realidad ha utilizado una configuración de teclado AZERTY
durante la instalación. Esta situación puede provocarse por varias situaciones:
quizás cambio de configuración de teclado durante la instalación, o la
configuración de teclado que ha elegido no está disponible cuando vaya a
introducir la frase de contraseña para el sistema de ficheros raíz.

Si ha seleccionado para generar las claves de cifrado métodos distintos de la
frase de contraseña se generarán ahora. El proceso puede tomar mucho tiempo
dado que el núcleo puede no haber sido capaz de obtener suficiente información
de entropía en este punto de la instalación. Puede ayudar a acelerar este
proceso si genera entropía, por ejemplo: si pulsa teclas al azar o si cambia a
la segunda consola virtual y genera tráfico de red o de disco (como pueda ser
una descarga de algunos ficheros o enviar ficheros muy grandes a /dev/null,
etc.). Este paso se repetirá para cada partición a cifrar.

After returning to the main partitioning menu, you will see all encrypted
volumes as additional partitions which can be configured in the same way as
ordinary partitions. The following example shows a volume encrypted via
dm-crypt.

Encrypted volume (sda2_crypt) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Now is the time to assign mount points to the volumes and optionally change the
file system types if the defaults do not suit you.

Pay attention to the identifiers in parentheses (sda2_crypt in this case) and
the mount points you assigned to each encrypted volume. You will need this
information later when booting the new system. The differences between the
ordinary boot process and the boot process with encryption involved will be
covered later in Sección 7.2, "Montaje de volúmenes cifrados".

Continúe con la instalación cuando esté satisfecho con el esquema de
particionado.

6.3.5. Instalar el sistema base

Aunque esta etapa es la menos problemática, consume una gran parte del tiempo
de instalación debido a que descarga, verifica y desempaqueta el sistema base
completo. Si tiene un ordenador o conexión de red lentos, esto podría tomar
algún tiempo.

Durante la instalación del sistema base, los mensajes de desempaquetado y
configuración de los paquetes se redirigen a tty4. Puede acceder a esta
terminal pulsando Alt izquierdo+F4; y volver al proceso principal del
instalador con Alt izquierdo+F1.

Los mensajes de desempaquetado y configuración generados durante esta fase se
guardan en /var/log/syslog. Puede verlos ahí en caso de que la instalación se
realice a través de una consola serie.

Se instalará un núcleo Linux como parte de la instalación. En la prioridad
predeterminada, el instalador elegirá por usted el que mejor se adapte a su
hardware. En los modos de menor prioridad, podrá elegir uno entre una lista de
núcleos disponibles.

Cuando los paquetes se instalan mediante el sistema de gestión de software,
también se instalarán de forma predeterminada los paquetes recomendados por
esos paquetes. Los paquetes recomendados no son estrictamente necesarios para
la funcionalidad básica de los programas seleccionados, pero mejoran esos
programas y deberían, dependiendo de los responsables de los paquetes, ser
instalados junto con esos programas.

Nota

Por razones técnicas, los paquetes instalados durante la instalación del
sistema base se instalan sin sus paquetes recomendados ("Recommends"). La regla
descrita anteriormente sólo tiene efecto después de este punto del proceso de
instalación.

6.3.6. Instalar programas adicionales

A partir de este punto tendrá un sistema usable pero limitado. La mayoría de
los usuarios querrán instalar programas adicionales en el sistema para
ajustarlo a sus necesidades, y el instalador le permite hacer esto. Este paso
puede tardar más tiempo que la instalación del sistema base si tiene un
ordenador lento o su conexión de red es lenta.

6.3.6.1. Configurar apt

One of the tools used to install packages on a Debian GNU/Linux system is the
program apt, from the apt package^[14]. Other front-ends for package
management, like aptitude and synaptic, are also in use. These front-ends are
recommended for new users, since they integrate some additional features
(package searching and status checks) in a nice user interface.

Debe configurar apt para que sepa de dónde descargar paquetes. Los resultados
de la configuración realizada se guardan en el fichero /etc/apt/sources.list.
Podrá examinar y editar este fichero a su gusto una vez haya terminado la
instalación.

Si está instalando con la prioridad predeterminada, basado en el método de
instalación que esté usando y posiblemente usando las elecciones previas en la
instalación, el instalador se encargará en gran medida de la configuración de
forma automática. La mayor parte de ocasiones el instalador añadirá
automáticamente una réplica de seguridad, y si está instalando una distribución
estable, una réplica para el servicio de actualización "stable-updates".

Tendrá oportunidad de tomar muchas más decisiones por su cuenta si está usando
en la instalación una prioridad menor (p.e. modo experto). Puede elegir usar o
no los servicios securidad y/o stable-updates, y puede elegir añadir paquetes
de las secciones del archivo "contrib" y "non-free".

6.3.6.1.1. Instalar desde uno o más CDs o DVDs

Si instala desde un CD o un DVD que hace parte de un conjunto más grande, el
instalador le preguntará si desea explorar CDs o DVDs adicionales. Si tiene CDs
o DVDs adicionales, probablemente deseará hacerlo, de forma que el instalador
pueda usar los paquetes incluídos en ellos.

Si no tiene CDs o DVDs adicionales, no hay problema: no son indispensables. Si
tampoco usa una réplica de red(como se explica en la sección siguiente), podría
darse que no todos los paquetes pertenecientes a las tareas que seleccione en
el siguiente paso de la instalación puedan instalarse.

Nota

Los paquetes se incluyen en los CDs (y DVDs) de acuerdo con su popularidad.
Esto significa que en la mayoría de casos, solamente se necesita el primer CD
de un conjunto y que muy poca gente realmente usa cualesquiera de los paquetes
incluidos en el último CD de un conjunto.

También significa que comprar o descargar y quemar el conjunto completo de CDs
es un desperdicio de dinero, debido a que usted no usará la mayoría de ellos.
En general, es mejor obtener solamente entre los primeros 3 y 8 CDs y usar una
réplica de red por Internet para instalar cualquier paquete adicional. De igual
forma sucede con los conjuntos de DVDs: el primer DVD, o el primer y segundo
DVD suplirían la mayoría de necesidades.

Si usted explora varios CDs o DVDs, el instalador le solicitará insertarlos uno
a uno cuando necesite paquetes de otro CD/DVD que no estén en el que esté en la
unidad. Tenga en cuenta que debería explorar únicamente CDs o DVDs que
pertenezcan al mismo conjunto. El orden en el que se exploren no interesa, pero
explorarlos en orden ascendente reducirá posibles equivocaciones.

6.3.6.1.2. Usar una réplica en red

Una pregunta que se hará durante la mayoría de instalaciones es si se desea o
no usar una réplica en red como fuente de paquetes. En la mayoría de
oportunidades, la respuesta predeterminada es la adecuada, pero hay
excepciones.

Si no está instalando desde un CD o DVD commpleto o usando una imagen completa
de CD/DVD, debería querer usar una réplica en red, puesto que de otra manera
terminaría con un sistema muy mínimo. Pero, si tiene una conexión a Internet
limitada, es mejor not seleccionar la tarea desktop en el paso siguiente de la
instalación.

Si instala desde un solo CD completo o con una imagen completa de CD, no es
necesaria una réplica en red, pero es muy recomendado emplearla porque un solo
CD contiene solamente una cantidad limitada de paquetes. Si tiene una conexión
a Internet limitada, podría ser mejor no seleccionar una réplica en red en este
momento y más bien culminar la instalación usando únicamente lo que está en el
CD e instalar selectivamente paquetes adicionales después de la instalación
(esto es, después de haber reiniciado en el nuevo sistema).

Si instala desde un DVD o una imagen de DVD, cualquier paquete que necesite
druante la instalación debería estar presente en el primer DVD. De la misma
forma si ha explorado varios CDs como se explicó en la sección anterior. El uso
de una réplica en red es opcional.

Una ventaja de añadir una réplica en red es que las actualizaciones que hayan
ocurrido desde el momento en que el conjunto de CDs/DVDs fue creado y hecho
público, estarán disponibles para instalarse, extendiendo de esta manera la
vida de su conjunto de CDs/DVDs sin comprometer la seguridad o estabilidad del
sistema instalado.

En Resumen: el seleccionar una réplica en red en general es una buena idea,
excepto si no tiene una conexión a Internet buena. Si la versión actual de un
paquete está disponible en un CD/DVD, el instalador siempre lo usará. La
cantidad de datos que se descargará si usted ha seleccionado una réplica en red
dependerá de:

 1. las tareas que seleccione en el paso siguiente de esta instalación,

 2. los paquetes que se requieran para esas tareas,

 3. cuales de esos paquetes estén presentes en los CDs o DVDs que haya
    explorado, y

 4. si hay versiones actualizadas en las réplicas en red de los paquetes
    incluídos en los CDs o DVDs(bien sea para una réplica en red de paquetes o
    una réplica de seguridad o actualizaciones stable-updates).

Observe que el último punto significa que, incluso si usted no ha seleccionado
una réplica en red, algunos paquetes pueden descargarse de Internet si hay
actualizaciones de seguridad o stable-updates para aquellos servicios que se
hayan configurado.

6.3.6.1.3. Seleccionar una réplica de red

Si ha seleccionado utilizar un réplica de red durante la instalación (opcional
para instalaciones con CD/DVD, obligatoria con imágenes netboot), se le
mostrará una lista de réplicas de red geográficamente cercanas (y por ello,
posiblemente rápidas), en base a la selección de país realizada previamente
durante el proceso de instalación. Habitualmente, seleccionar la opción
predefinida es correcto.

También puede especificar una réplica manualmente escogiendo "introducir
información manualmente". Podrá entonces especificar el nombre de un servidor
réplica y opcionalmente un número de puerto. En Wheezy, esto tiene que ser una
URL base, es decir, cuando se especifique una dirección IPv6, se tienen que
añadir corchetes alrededor de ésta, como por ejemplo "[2001:db8::1]".

Si su máquina se conecta a una red solo IPv6 (posiblemente no es el caso para
la mayoría de usuarios), puede que conectarse a la réplica predefinida en su
país no funcione. Todas las réplicas en la lista son accesibles mediante IPv4,
pero solo unos pocos mediante IPv6. Debido a que la conectividad de réplicas
específicas puede variar con el tiempo, la información no está disponible para
el instalador. Si la réplica predefinida para su país no ofrece conectividad
IPv6, puede intentar otras réplicas ofrecidas, o seleccionar la opción de "
entrada manual de información". Entonces, puede especificar "
ftp.ipv6.debian.org" como el nombre de réplica, que es una alias para una
réplica disponible mediante IPv6, aunque probablemente no sea la más rápida.

Otra opción al seleccionar la réplica manualmente es utilizar "http.debian.net"
como su réplica. "httpredir.debian.org" no es una réplica física, sino un
servicio de redirección de réplica; esto es; dirige su sistema de forma
automática a una réplica real cercana en términos de topología de red. Toma en
cuenta el protocolo de conexión que utiliza; esto es, si utiliza IPv6, le
dirigirá a una réplica compatible con IPv6 cercana a su ubicación.

6.3.6.2. Elegir e instalar programas

Se le da la oportunidad durante el proceso de instalación de seleccionar e
instalar programas adicionales. Esta fase de la instalación está enfocada en la
selección e instalación de conjuntos predefinidos de programas para preparar su
sistema para realizar distintas tareas, en lugar de elegir programas de
paquetes individuales de entre los 85212 paquetes disponibles.

Estas tareas representan un conjunto de tareas o cosas que querrá realizar con
su sistema. Ejemplo de estas tareas son: "Entorno de escritorio", "Servidor web
" o "Servidor de impresión"^[15]. Puede encontrar una lista de los requisitos
de espacio de las tareas disponibles en Sección D.2, "Espacio en disco
requerido para las tareas".

Algunas de las tareas estarán preseleccionadas basándose en las características
del sistema que está instalando. Deseleccione estas tareas si no está de
acuerdo con esta selección. También puede elegir no instalar ninguna tarea en
este punto.

Sugerencia

Puede usar la barra de espacio para marcar la selección de una tarea en la
interfaz de usuario estándar del instalador.

Nota

The "Desktop environment" task will install a graphical desktop environment.

By default, debian-installer installs the Gnome desktop environment. It is
possible to interactively select a different desktop environment during the
installation. It is also possible to install multiple desktops, but some
combinations of desktop may not be co-installable.

Note that this will only work if the packages needed for the desired desktop
environment are actually available. If you are installing using a single full
CD image, they will possibly need to be downloaded from a network mirror as
some of the needed packages for your choice might only be included on later
CDs. Installing any of the available desktop environments this way should work
fine if you are using a DVD image or any other installation method.

The various server tasks will install software roughly as follows. Web server:
apache2; Print server: cups; SSH server: openssh.

La tarea "Sistema estándar" instalará todos los paquetes con una prioridad
«estándar» ("standard"). Incluye muchas de las herramientas comunes que
generalmente están disponibles en cualquier sistema Linux o Unix. Debería dejar
esta tarea seleccionada a menos que sepa lo que está haciendo y si desea un
sístema realmente básico.

Si ha seleccionado una configuración regional («locale») predefinido distinto
de "C" durante la selección de idioma, tasksel seleccionará cualquier tarea de
localización configurada para esa configuración regional e intentará instalar
de forma automática los paquetes de localización relevantes. Incluye, por
ejemplo, paquetes que contienen listas de palabras o tipos de letra específicos
a su idioma. Si se selecciona un entorno de escritorio, instalará los paquetes
de localización adecuados a él (si están disponibles).

Una vez ha seleccionado las tareas sólo tiene que seleccionar Continue. Una vez
hecho esto, el programa apt instalará los paquetes que están incluidos en las
tareas que ha seleccionado. Pueden realizarse preguntas durante este proceso si
alguno de los programas necesita información del usuario.

Debería tener en cuenta que la tarea de Escritorio es muy grande. El instalador
puede intentar descargar muchos paquetes de la red especialmente si instala de
un CD-ROM normal combinándolo con un servidor de réplica para aquellos paquetes
que no están en el CD-ROM. Si tiene una conexión a Internet relativamente lenta
esto puede tomar un tiempo. No hay ninguna opción para cancelar la instalación
de paquetes una vez haya comenzado.

El instalador puede que descargue paquetes de un servidor de réplica aún cuando
los paquetes estén en el CD-ROM si hay una versión disponible en la réplica que
es más reciente que la que se incluye en el CD-ROM. Si está instalando la
distribución estable esto puede suceder tras la publicación de una nueva
revisión de la distribución (una actualización de la versión original estable);
si está instalando la distribución en pruebas esto puede suceder si está
utilizando una imagen antigua en el CD-ROM.

6.3.7. Hacer su sistema arrancable

Si está instalando una estación de trabajo sin disco, obviamente, arrancar
desde el disco local no es una opción significativa, de modo que esta etapa se
saltará.

6.3.7.1. Detección de otros sistemas operativos

El instalador intentará encontrar otros sistemas operativos instalados en la
máquina antes de instalar un gestor de arranque. Se le informará al respecto en
el paso de la instalación del gestor de arranque si se encuentra un sistema
operativo aceptado por éste. También, se configurará al ordenador para que
arranque este sistema operativo además de Debian.

Tenga en cuenta que el arranque de más de un sistema operativo en la misma
máquina es aún una especie de magia negra. La funcionalidad automática de
detectar y configurar los gestores de arranque de forma que puedan arrancar
otros sistemas operativos varía con la arquitectura, e incluso con las
distintas variantes de la arquitectura. Si no funciona en su caso debería
consultar la documentación de su gestor de arranque para obtener más
información.

6.3.7.2. Instalación del gestor de arranque Grub en un disco duro

"Grub" es el principal gestor de arranque para amd64. Grub es un gestor de
arranque flexible y robusto y una buena opción predeterminada tanto para los
usuarios principiantes como para los veteranos.

De forma predeterminada, grub se instalará en el registro maestro de arranque
(MBR), donde tendrá todo el control del proceso de arranque. También puede
instalarlo en algún otro lugar si lo prefiere. Consulte el manual de grub para
más información.

Si no quiere instalar grub, use el botón Go Back para regresar al menú
principal, y desde ahí seleccione el gestor de arranque que quiere usar.

6.3.7.3. Instalación del gestor de arranque LILO en un disco duro

El segundo gestor de arranque para amd64 es "LILO". Es un programa antiguo y
complejo que ofrece muchas funcionalidades, incluyendo la gestión de arranque
de los sistemas operativos MS-DOS, NT y OS/2. Por favor, lea cuidadosamente las
instrucciones en el directorio /usr/share/doc/lilo/ si tiene necesidades
especiales. También debería consultar el Mini-CÓMO de LILO.

Nota

Actualmente la instalación de LILO sólo creará entradas en el menú para los
sistemas operativos que puedan arrancarse de forma encadenada (chainloaded).
Esto significa que puede necesitar añadir manualmente una entrada en el menú
para sistemas operativos como GNU/Linux y GNU/Hurd después de la instalación.

debian-installer le da a escoger entre tres opciones para instalar el gestor de
arranque LILO:

Registro maestro de arranque («Master Boot Record» o MBR, N. del t.)

    De este modo LILO tendrá todo el control del proceso de arranque.

Nueva partición de Debian

    Escoja esta opción si quiere usar otro gestor de arranque. Se instalará 
    LILO al principio de la nueva partición de Debian y hará las veces de
    gestor de arranque secundario.

Otra opción

    Esta opción es útil para usuarios avanzados que quieran instalar LILO en
    otro lugar. En ese caso se le preguntará el lugar deseado. Puede usar
    nombres tradicionales, como /dev/sda.

Si después de este paso no puede volver a arrancar Windows 9x (o DOS),
necesitará usar un disco de arranque de Windows 9x (MS-DOS) y usar la orden
fdisk /mbr para reinstalar el registro maestro de arranque. Esto significa, sin
embargo, ¡qué tendrá que usar otro método para volver a arrancar Debian!

6.3.7.4. Continuar sin gestor de arranque

Esta opción se usa para finalizar la instalación, incluso cuando no se instale
un gestor de arranque, bien porque la arquitectura o subarquitectura no
disponga de uno o bien porque no es necesario (p. ej. cuando vaya a usar un
gestor de arranque que ya exista en el sistema).

Si planea configurar manualmente su gestor de arranque, deberá verificar el
nombre del núcleo instalado en /target/boot. También deberá verificar la
presencia de un fichero initrd en este directorio; probablemente deba indicar
al gestor de arranque que lo utilice si existe. Necesitará también conocer,
como información adicional, el disco y partición que ha elegido para su sistema
de ficheros / (raíz) y también su sistema de ficheros /boot, si elige instalar
/boot en una partición separada.

6.3.8. Finalizar la instalación

Este es el último paso en el proceso de instalación de Debian durante el cual
el instalador realizará algunas tareas finales. En su mayoría consiste en
limpiar lo dejado por el debian-installer.

6.3.8.1. Configurar el reloj del sistema

El instalador puede preguntarle si el reloj del sistema está configurado con la
hora UTC (Coordinated Universal Time, o Tiempo Universal Coordinado, N. del
T.). Generalmente se intenta evitar esta pregunta y el instalador decide si el
reloj está configurado con el UTC o no basándose en cosas como, por ejemplo,
otros sistemas operativos que están instalados.

Siempre se le dejará elegir si el reloj está configurado con UTC o no en el
modo experto. Los sistemas que también pueden ejecutar Dos o Windows están
configurados con la hora local. Si desea poder cargar dos sistemas operativos
distintos debe elegir la hora local en lugar de la hora UTC.

En este punto el debian-installer tratará de definir la hora actual al reloj
del ordenador. Se haría en UTC o en hora local, de acuerdo con la selección que
se acaba de hacer.

6.3.8.2. Reiniciar el sistema

Se le pedirá que extraiga el medio de arranque (CD, disquete, etc.) que usó
para arrancar el instalador. Tras esto el sistema reiniciará cargando su nuevo
sistema Debian.

6.3.9. Resolución de problemas

Los componentes listados en esta sección usualmente no están involucrados en el
proceso de instalación, pero están esperando en el segundo plano para ayudar al
usuario en caso de que algo falle.

6.3.9.1. Guardado de los registros de instalación

Si la instalación es satisfactoria, los ficheros creados durante el proceso de
instalación se guardarán automáticamente en el directorio /var/log/installer/
de su nuevo sistema Debian.

Si escoge la opción Grabar logs de depuración en el menú principal podrá
guardar los registros en un disquete, red, disco duro u otro tipo de
dispositivo. Esto puede ser útil si se encuentra con problemas críticos durante
la instalación y quiere estudiar los registros en otro sistema, o adjuntarlos
en un informe de instalación.

6.3.9.2. Uso del intérprete de órdenes y consulta de registros

Hay distintos métodos para obtener un intérprete de órdenes mientras realiza
una instalación. En la mayoría de los sistemas, y en el caso de que no esté
instalando utilizando una consola serie, el método más sencillo es cambiar a la
segunda consola virtual pulsando Alt izquierdo+F2 ^[16] (en un teclado Mac, 
Opción+F2). Utilice Alt izquierdo+F1 para volver al propio instalador.

Si va a utilizar el instalador gráfico consulte Sección 6.1.1, "Using the
graphical installer".

Si no puede cambiar entre consolas puede utilizar la opción en el menú
principal denominada Ejecutar un intérprete de órdenes (o «shell», N. del t.).
Puede volver al menú principal desde la mayor parte de los diálogos utilizando
el botón Go Back una o más veces. Para volver al instalador sólo tiene que
escribir exit para cerrar el intérprete.

En este punto de la instalación ha arrancado desde un disco que utiliza la
memoria RAM, y, consecuentemente, sólo dispone de un número limitado de
utilidades Unix. Puede ver los programas disponibles con la orden ls /bin /sbin
/usr/bin /usr/sbin y también si escribe help. El intérprete es un clon del
intérprete de órdenes Bourne llamado ash que tiene algunas características que
le pueden ser útiles como una función para completar órdenes y un histórico.

Puede utilizar el editor de textos nano para editar y ver ficheros. Encontrará
los registros del sistema de instalación en el directorio /var/log.

Nota

Aunque puede hacer básicamente todo lo que podría hacer en un intérprete de
órdenes que le permiten hacer los programas disponibles, la opción para
utilizar el intérprete de órdenes se proporciona sólo para los casos en los que
algo no funcione correctamente o tenga que depurar algún problema.

Las cosas que haga manualmente en el intérprete de órdenes pueden interferir
con el proceso de instalaciones y dar lugar a errores o a una instalación
incompleta. En particular, siempre debe utilizar el instalador y no el
intérprete para activar la partición de intercambio.

6.3.10. Instalación a través de la red

Uno de los componentes más interesantes es network-console. Éste le permite
hacer una gran parte de la instalación a través de la red mediante SSH. El uso
de la red implica que tiene que llevar a cabo los primeros pasos de la
instalación a través de la consola al menos hasta llegar al punto en el que se
configura la red (aunque puede automatizar esta parte con Sección 4.6,
"Instalación automática").

Este componente no aparece en el menú de la instalación por omisión, por lo que
tiene que pedirlo explícitamente. En el caso de que esté instalando desde CD
debe arrancar fijando la prioridad a media o llamar al menú de instalación y
seleccionar Cargar componentes del instalador desde CD y seleccionar de la
lista de componentes network-console: Continuar la instalación de forma remota
utilizando SSH. Si el componente se carga correctamente verá una nueva entrada
de menú llamada Continuar la instalación de forma remota utilizando SSH.

Después de seleccionar esta nueva entrada se le preguntará la contraseña a
utilizar para conectarse con el sistema de instalación, y se confirmará esta
nueva contraseña. Eso es todo lo que necesita. Ahora debería poder ver una
pantalla que le indica que debe conectarse de forma remota con el identificador
de usuario installer y la contraseña que introdujo. Un detalle importante a
destacar es que se le indicará también la huella digital del sistema que está
instalando. Tiene que transferir esta huella de forma segura a la persona que
continuará con la instalación remota.

Siempre puede pulsar Enter para continuar con la instalación local si lo desea.
Si lo hace se le mostrará el menú principal y podrá elegir otro componente.

En el otro extremo de la comunicación, como prerequisito, deberá configuar su
terminal para que utilice codificación UTF-8, porque es la que utiliza el
sistema de instalación. Si no lo hace podrá hacer la instalación pero puede que
vea caracteres extraños en la pantalla, como puedan ser bordes de cuadro de
diálogo rotos o caracteres no americanos ilegibles. Para conectarse al sistema
de instalación remoto sólo tiene que escribir:

$ ssh -l installer sistema_a_instalar

donde sistema_a_instalar es o bien el nombre o bien la dirección IP del equipo
que está instalando. Antes de conectarse se le mostrará la huella digital del
sistema remoto y deberá confirmar que es la correcta.

Nota

La orden ssh en el instalador usa una configuración predeteminada que no envía
paquetes de keep-alive. En principio, una conexión al sistema que está
instalándose debería mantener la conexión abierta de forma indefinida. Pero, en
ciertas situaciones -- dependiendo de su configuración local de red -- la
conexión puede interrumpirse después de un período de inactividad. Un caso
común puede ocurrir cuando hay alguna modalidad de Traducción de Direcciónes de
Red (NAT) en algún sitio entre el cliente y el sistema que está instalándose.
Dependiendo del punto en el cual la conexión se perdió, podría resultar
imposible dar continuidad a la instalación después de reconectarse.

Podría evitar que caiga la conexión añadiendo la opción -o ServerAliveInterval=
value cuando se hace la conexión ssh, o adicionar tal opción en su fichero de
configuración de ssh. Pero tenga en cuenta que en algunos casos adicionar tal
orden podría también causar la caída de la conexión (por ejemplo si los
paquetes keep-alive se envían mientras haya una caída corta de la red, en la
cuál la orden ssh se ha recuperado), por lo tanto debe usarse únicamente cuando
sea necesario.

Nota

Si instala muchos sistemas de forma consecutiva y, por casualidad, comparten la
dirección IP o nombre de equipo, puede tener problemas para conectarse a éstos
porque ssh se negará a conectarse a ellos, ya que cada sistema tiene una huella
digital distinta, lo que para ssh es indicativo de un posible ataque de
suplantación. Si está seguro de que no se trata de ningún ataque deberá
eliminar la línea del equipo en cuestión del fichero ~/.ssh/known_hosts^[17]
and try again.

Después de acceder al sistema se le mostrará una pantalla de instalación
inicial donde tendrá dos posibilidades: Arrancar menú y Arrancar consola. La
primera de estas opciones le llevará al menú de instalación, donde podrá seguir
con la instalación como lo hace habitualmente. La segunda de estas opciones
ejecuta un intérprete de línea de órdenes desde el que puede examinar, y quizás
arreglar, el sistema remoto. Sólo debería arrancar una sesión de SSH para el
menú de instalación, aunque puede tener tantas sesiones como quiera con
consolas remotas.

Aviso

Una vez ha arrancado la instalación por SSH de forma remota no debería volver a
la sesión de instalación que se está ejecutando en la consola local. Si lo
hace, podría corromper la base de datos que guarda la configuración del nuevo
sistema, al realizar accesos simultáneos a ella. Esto podría llevar a que la
instalación fallara o a que tuviera problemas con el sistema que ha instalado.

6.4. Carga de Firmware adicional

Como se indicó en Sección 2.2, "Dispositivos que requieren Firmware", ciertos
dispositivos requieren la carga de firmware. La mayoría de veces el dispositivo
no funcionará sin el firmware; en ciertas ocasiones estará disponible cierta
funcionalidad básica sin que esté cargado el firmware, pero con este se podría
contar con características adicionales.

Si un controlador de un dispositivo solicita firmware que no está disponible,
el debian-installer mostrará un diálogo ofreciéndole la oportunidad de cargar
el firmware faltante. Si selecciona esta opción, debian-installer buscará
ficheros o paquetes que puedan contener el firmware en los dispositivos
disponibles. Si los encuentra, copiará el firmware al lugar correcto(/lib/
firmware) y se recargará el módulo del controlador.

Nota

De acuerdo con la arquitectura, el método de instalación y la etapa de
instalación se buscará en los dispositivos y en los sistemas de ficheros.
Especialmente en los primeros pasos de la instalación, la carga del firmware
podría cargarse con mayor éxito desde una unidad de disquete o una memoria USB
con formato FAT. El firmware también puede cargarse desde tarjetas MMC o SD en
arquitecturas i386 y amd64.

Tenga en cuenta que es posible obviar la carga del firmware si sabe que el
dispositivo funciona sin él, o si el dispositivo no se necesita durante la
instalación.

debian-installer solo solicita el firmware necesario para los módulos del
núcleo que se cargan durante la instalación. No se incluyen todos los
controladores en debian-installer, en particular, no se incluye radeon, lo que
implica que algunos dispositivos se comportarán de la misma forma tras
finalizar la instalación. Asimismo, algunos de los dispositivos de hardware no
se utilizarán con el máximo rendimiento. Si cree que es así, o tiene
curiosidad, es una buena idea comprobar la salida de la orden dmesg en el
sistema recién iniciado, y busque "firmware".

6.4.1. Preparación del medio

Las imágenes de CD oficiales no incluyen firmware no libre. El método más común
para cargar tal firmware es desde un dispositivo extraíble como una memoria
USB. De forma alternativa, puede encontrar construcciones de CD no oficiales
que contienen firmware no libre en https://cdimage.debian.org/cdimage/
unofficial/non-free/cd-including-firmware/.Para preparar una memoria USB (u
otro medio como una partición del disco duro o un disquete), los ficheros o
paquetes de firmware se deben colocarse en el directorio raíz o un directorio
llamado /firmware en el sistema de ficheros del dispositivo. El sistema de
ficheros recomendado es FAT dado que es probable que sea compatible durante los
primeros pasos de la instalación.

Los archivos tar y zip que contienen los ficheros de firmware más comunes están
disponibles en:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Descargue el archivo tar o zip para la versión correcta y desempaquételo en el
sistema de ficheros o en el dispositivo de almacenamiento.

Si el firmware que necesita no está incluido en el paquete de archivos, puede
descargar paquetes de firmware específico (de la sección no-libre) del archivo.
La siguiente lista debería mostrar la mayoría de paquetes de firmware
disponibles, pero no se garantiza que esté completa y puede contener paquetes
que no son de firmware:

  • https://packages.debian.org/search?keywords=firmware

También es posible copiar ficheros individuales de firmware. Otro firmware
puede obtenerse por ejemplo de un sistema previamente instalado o de un
proveedor de hardware.

6.4.2. Firmware y el Sistema Instalado

Cualquier firmware que se cargue durante la instalación se copiará
automáticamente al sistema instalado. La mayoría de veces esto garantizará que
los dispositivos que requieren el firmware también funcionarán correctamente
después de que se ha reiniciado al sistema instalado. Sin embargo, si el
sistema instalado se ejecuta con un núcleo diferente del núcleo del instalador,
es probable que el firmware no pueda cargarse debido a la diferencia de
versiones.

Si el firmware se cargó de un paquete de firmware, el debian-installer también
instalará este paquete para el sistema instalado y añadirá automáticamente la
sección non-free del archivo de paquetes en sources.list de APT. La ventaja de
esto es que el firmware debería actualizarse automáticamente si está disponible
una nueva versión.

Si se obvió la carga del firmware durante la instalación, los dispositivos en
cuestión probablemente no funcionarán en el sistema instalado hasta que el
(paquete de) firmware sea instalado manualmente.

Nota

Si el firmware se cargó desde ficheros adicionales, el firmware copiado al
sistema instalado no se actualizará automáticamente a menos que el
correspondiente paquete de firmware (en caso de estar disponible) se instale
después de finalizada la instalación.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[7] En términos técnicos esto significa que hay múltiples localizaciones para
ese lenguaje con distintos códigos de país.

^[8] Siempre puede seleccionar con prioridad media y baja su locale preferida
entre las disponibles para el idioma seleccionado (si hay más de una).

^[9] Las locales «legacy» son aquellas que no usan UTF-8, sino algún estándar
de codificación de caracteres más antiguo como ISO 8859-1 (usada para idiomas
de Europa occidental) o EUC-JP (usada para el japonés).

^[10] El instalador cifrará el grupo de volúmenes LVM con una clave AES de 256
bit y hace uso de la compatibilidad con "dm-crypt" en el núcleo.

^[11] Siendo honestos, puede construir un MD (Metadispositivo) incluso con
particiones de un mismo disco físico, pero no tiene ninguna ventaja.

^[12] La utilización de una contraseña como clave significa que la partición se
configurará utilizando LUKS.

^[13] Se cree, sin embargo, que las personas que trabajan en agencias
gubernamentales de «tres letras» (FBI, NSA, CIA, N. del T.) pueden recuperar
los datos aunque se hayan realizado varias escrituras en medios
magneto-ópticos.

^[14] Note that the program which actually installs the packages is called dpkg
. However, this program is more of a low-level tool. apt is a higher-level
tool, which will invoke dpkg as appropriate. It knows how to retrieve packages
from your CD, the network, or wherever. It is also able to automatically
install other packages which are required to make the package you're trying to
install work correctly.

^[15] Debería saber que para obtener esta lista el instalador simplemente llama
al programa tasksel. Este programa puede ejecutarse en cualquier momento
después de la instalación para instalar (o eliminar) más paquetes.También puede
utilizar una herramienta de selección de grano más fino como puede ser aptitude
. Si está buscando un paquete específico sólo tiene que ejecutar, después de la
instalación aptitude install paquete, donde paquete es el nombre del paquete
que está buscando.

^[16] Esto es, la tecla Alt a la izquierda de la barra espaciadora, y al mismo
tiempo la tecla de función F2.

^[17] órden a continuación eliminará cualquier línea que existiera para un
servidor: ssh-keygen -R <hostname|IP address>.

Capítulo 7. Arrancar desde su nuevo sistema Debian

Tabla de contenidos

7.1. El momento de la verdad
7.2. Montaje de volúmenes cifrados

    7.2.1. Solucionar problemas

7.3. Acceso

7.1. El momento de la verdad

El primer arranque autónomo de su sistema es lo que los ingenieros eléctricos
llaman "la prueba de humo".

Lo primero que debería ver cuando arranque el sistema es el menú del cargador
de arranque grub o lilo si ha hecho la instalación por omisión. Las primeras
opciones en el menú serán las de su nuevo sistema Debian. Se listarán más abajo
otros sistemas operativos en su sistema (como Windows) si los tenía y los
detectó el sistema de instalación.

No se preocupe si el sistema no llega a arrancar. Si la instalación se completó
con éxito es posible que sólo haya un problema menor que impida que su sistema
arranque Debian. En muchos casos estos problemas pueden arreglarse sin tener
que repetir la instalación. Una opción disponible para arreglar problemas de
arranque es utilizar el modo de rescate que está disponible en el propio
instalador (consulte Sección 8.6, "Recuperar un sistema roto").

Es posible que necesite ayuda de usuarios más experimentados si es nuevo a
Debian y a Linux. Puede intentar obtener ayuda directamente en línea en los
canales de IRC #debian o #debian-boot en la red OFTC. También puede contactar
la lista de usuarios debian-user (en inglés) o lista de usuarios
debian-user-spanish (en español). También puede enviar un informe de
instalación tal y como se describe en Sección 5.4.7, "Enviar los informes de la
instalación". Por favor, asegúrese de que describe claramente su problema y de
que incluye cualquier mensaje que se muestra de forma que otros puedan
diagnosticar el problema.

Si tenía algún sistema operativo en su ordenador que no se detectó o se detectó
incorrectamente, por favor, envíe un informe de instalación.

7.2. Montaje de volúmenes cifrados

Se le solicitará la contraseña para cada uno de los volúmenes cifrados durante
el arranque si ha creado volúmenes cifrados durante la instalación y los ha
asociado a puntos de montaje.

Se mostrará la siguiente indicación durante el arranque para las particiones
que están cifradas con «dm-crypt»:

Starting early crypto disks... part_crypt(starting)
Enter LUKS passphrase:

En la primera línea del indicador, part es el nombre de la partición
subyacente, p.ej. sda2 o md0. La pregunta que puede hacerse es ¿para qué
volumen está introduciendo la contraseña? ¿Se trata de /home o de /var? Por
supuesto, si tiene solamente un volumen cifrado es muy sencillo y sólo tendrá
que introducir la clave que utilizó cuando definía esta volumen. Las notas que
escribió tras el último paso en Sección 6.3.4.6, "Configurar volúmenes
cifrados" le serán ahora de utilidad si configuró más de un volumen cifrado
durante la instalación. Si no tomo nota de la relación entre part_crypt y los
puntos de montaje anteriormente aún podrá encontrarla en los ficheros /etc/
crypttab y /etc/fstab de su nuevo sistema

El indicador puede ser un poco distinto cuando lo que se monta es el sistema de
ficheros raíz. El mensaje exacto dependerá del generador de initramfs que se
utilizó para generar el initrd utilizado para el arranque del sistema. El
ejemplo que se muestra a continuación corresponde al mensaje del initrd
generado con initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

No se mostrará ningún carácter (ni siquiera asteriscos) mientras vd. introduce
la clave. Si introduce mal la clave tendrá dos intentos más para corregirla.
Después del tercer intento erróneo el proceso de arranque saltará ese volumen y
continuará intentando montar el siguiente sistemas de ficheros. Para más
información consulte Sección 7.2.1, "Solucionar problemas".

El proceso de arranque debería continuar normalmente una vez haya introducido
todas las claves.

7.2.1. Solucionar problemas

Tendrá que montar manualmente los volúmenes cifrados si no se pudieron montar
porque no introdujo bien la clave. Aquí se dan ciertos casos distintos:

  • El primer caso está asociado a la partición raíz. El proceso de arranque no
    podrá continuar y se parará si no se monta ésta correctamente, con lo que
    tendrá que reiniciar el equipo e intentarlo de nuevo.

  • El caso más sencillo es para los volúmenes cifrados que almacenan datos
    como /home o /srv. Puede montarlos manualmente justo después de arrancar.

    Es un poco más complicado para el caso de «dm-crypt». Primero tendrá que
    registrar los volúmenes con el device mapper ejecutando:

    # /etc/init.d/cryptdisks start

    Esto hará que se sondeen todos los volúmenes descritos en /etc/crypttab y
    se crearán todos los dispositivos necesarios en el directorio /dev tras
    introducir la contraseña correctamente. Se omitirán los volúmenes que ya
    estén registrados por lo que puede repetir esta orden tantas veces como
    necesite. Una vez que haya registrado con éxito el dispositivo sólo tiene
    que montarlos de la forma habitual:

    # mount /punto_de_montaje

  • El sistema debería arrancar aún cuando no se puedan montar los sistemas de
    ficheros que no contengan ficheros del sistema críticos (/usr o /var). Por
    lo que debería poder montar los volúmenes manualmente como se ha descrito
    anteriormente. Sin embargo, tendrá que arrancar o reiniciar los servicios
    que se ejecutan en su nivel de ejecución normal porque es muy probable que
    no se hayan podido arrancar. La forma más fácil de conseguir esto
    simplemente reiniciar el ordenador.

7.3. Acceso

Se le presentará el cursor de «login» (acceso, N. del t.) después de que haya
arrancado su sistema. Puede acceder usando la cuenta personal y clave que ha
seleccionado durante la instalación. Su sistema está ahora listo para ser
usado.

Si usted es un usuario novel, tal vez quiera explorar la documentación que ya
está instalada en su sistema mientras empieza a utilizarlo. Actualmente existen
varios sistemas de documentación, aunque se está trabajando en integrar los
diferentes tipos disponibles. Aquí encontrará algunas guías que le indicarán
dónde empezar a buscar.

La documentación que acompaña a los programas que ha instalado se encuentra en
el directorio /usr/share/doc/, bajo un subdirectorio cuyo nombre coincide con
el del programa (o, más exactamente, el nombre del paquete Debian que contiene
el programa). Sin embargo podrá encontrar documentación más extensa en paquetes
independientes de documentación que generalmente no se instalan por omisión.
Por ejemplo, puede encontrar documentación de la herramienta de gestión de
paquetes apt en los paquetes apt-doc o apt-howto.

Además, existen algunos directorios especiales dentro de la jerarquía de /usr/
share/doc/. Puede encontrar los CÓMOs de Linux en formato .gz (comprimido), en
/usr/share/doc/HOWTO/en-txt/. Encontrará un índice navegable de la
documentación instalada en /usr/share/doc/HTML/index.html una vez instale
dhelp.

Una forma fácil de consultar estos documentos utilizando un navegador con
interfaz de texto es ejecutar las siguientes órdenes:

$ cd /usr/share/doc/
$ w3m .

El punto después de la orden w3m le indica que debe mostrar los contenidos del
directorio actual.

Puede utilizar el navegador web del entorno gráfico de escritorio si tiene
instalado uno. Arranque el navegador web del menú de aplicación y escriba /usr/
share/doc/ en la barra de direcciones.

También puede escribir info programa o man programa para consultar la
documentación de la mayoría de los programas disponibles en la línea de
órdenes. Si escribe «help» se le mostrará una ayuda sobre las órdenes del guión
de línea de órdenes. Habitualmente, si escribe el nombre de un programa seguido
de --help se le mostrará un breve resumen del uso de este programa. Si la
salida es mayor que el tamaño de su pantalla, escriba | more después de la
llamada anterior para hacer que los resultados se pausen antes de que
sobrepasen el tamaño de la pantalla. Puede también ver la lista de todos los
programas disponibles que empiezan con una cierta letra. Simplemente, escriba
la letra en cuestión y luego presione dos veces el tabulador.

Capítulo 8. Los pasos siguientes y dónde continuar a partir de aquí

Tabla de contenidos

8.1. Apagado del sistema
8.2. Orientación sobre Debian

    8.2.1. Sistema de paquetes de Debian
    8.2.2. Software adicional disponible para Debian
    8.2.3. Gestión de versión de las aplicaciones
    8.2.4. Gestión de tareas de cron

8.3. Siguientes pasos y cómo continuar
8.4. Configurar su sistema para utilizar el correo electrónico

    8.4.1. Configuración de correo electrónico por omisión
    8.4.2. Enviar correo electrónico fuera del sistema
    8.4.3. Configurar su agente de transporte de correo

8.5. Compilar un nuevo núcleo
8.6. Recuperar un sistema roto

8.1. Apagado del sistema

Para apagar un sistema Debian GNU/Linux activo, no debe reiniciarlo con el
botón «reset» que se encuentra en frente o detrás del ordenador, o simplemente
apagarlo. Debian GNU/Linux debe apagarse en una forma controlada, algunos
ficheros podrían perderse y/o producirse daño al disco si no lo hace así. Si
está ejecutando un entorno de escritorio encontrará, generalmente, una opción
para "cerrar su sesión" disponible desde el menú de aplicación que le permite
apagar (o reiniciar) el sistema.

Alternatively you can press the key combination Ctrl+Alt+Del . If the key
combinations do not work, a last option is to log in as root and type the
necessary commands. Use reboot to reboot the system. Use halt to halt the
system without powering it off ^[18]. To power off the machine, use poweroff or
shutdown -h now. The systemd init system provides additional commands that
perform the same functions; for example systemctl reboot or systemctl poweroff.

8.2. Orientación sobre Debian

Debian es un poco diferente a otras distribuciones. Incluso si está
familiarizado con Linux en otras distribuciones, hay cosas que debe conocer
sobre Debian para ayudarle a mantener su sistema en buen estado. Este capítulo
contiene material que le ayudará a orientarse; no tiene la intención de ser un
tutorial sobre el uso de Debian, pero sí un breve resumen sobre el sistema para
aquellos con prisa.

8.2.1. Sistema de paquetes de Debian

El concepto más importante a entender es el sistema de paquetes Debian.
Esencialmente, podría considerarse que gran parte de su sistema está bajo el
control del sistema de paquetes. Esto incluye:

  • /usr (excluyendo /usr/local)

  • /var (puede crear /var/local sin riesgos)

  • /bin

  • /sbin

  • /lib

Por ejemplo, si sustituye /usr/bin/perl, éste funcionará, pero si luego
actualiza su paquete perl, el fichero que puso en su lugar será sustituido. Los
usuarios avanzados pueden evitar esto poniendo los paquetes en estado "hold" ("
retenido", N. del T.) en aptitude.

One of the best installation methods is apt. You can use the command line
version of apt as well as tools like aptitude or synaptic (which are just
graphical frontends for apt). Note that apt will also let you merge main,
contrib, and non-free so you can have restricted packages (strictly speaking
not belonging to Debian) as well as packages from Debian GNU/Linux at the same
time.

8.2.2. Software adicional disponible para Debian

Hay repositorios de software oficiales y no oficiales que no se activan durante
la instalación predeterminada de Debian. Contienen software que muchos
consideran importante y esperan tener. Para más información sobre estos
repositorios adicionales, consulte la página wiki de Debian llamada The
Software Available for Debian's Stable Release.

8.2.3. Gestión de versión de las aplicaciones

Las versiones alternativas de la aplicaciones se manejan con
«update-alternatives». Si mantiene múltiples versiones de sus aplicaciones, lea
la página de manual de «update-alternatives».

8.2.4. Gestión de tareas de cron

Cualquier tarea bajo supervisión del administrador del sistema debe estar en /
etc, puesto que éstos son ficheros de configuración. Si tiene una tarea de cron
de superusuario que se ejecuta diariamente, semanalmente o cada noche,
colóquela en /etc/cron.{daily,weekly,monthly}. Estos programas se invocan desde
/etc/crontab y se ejecutarán en orden alfabético, lo cual serializa el
procesamiento.

Por otro lado, si tiene una tarea de cron que (a) necesita ejecutarse como un
usuario específico o (b) necesita ejecutarse en un momento o frecuencia
específica, puede usar tanto /etc/crontab como /etc/cron.d/cualquier-cosa.
Estos ficheros específicos también tienen un campo adicional que le permite
definir la cuenta de usuario bajo el cual se ejecuta la tarea.

En cualquier caso, simplemente edite los ficheros y cron notará el cambio
automáticamente. No hay necesidad de ejecutar una orden especial. Para más
información consulte la información en cron(8), crontab(5) y /usr/share/doc/
cron/README.Debian.

8.3. Siguientes pasos y cómo continuar

El sitio web de Debian contiene una gran cantidad de documentación sobre
Debian. En particular, vea las Preguntas frecuentes de Debian GNU/Linux y la
Referencia Debian. Encontrará un índice de más documentación relacionada con
Debian en el Proyecto de documentación de Debian. La comunidad Debian se ayuda
a sí misma; para suscribirse a una o más de las listas de correo de Debian, vea
la página de suscripción a las listas de correo. Por último, aunque no por ello
menos importante, podrá encontrar gran cantidad de información en los archivos
de las listas de correo de Debian.

Primero debe intentar usar man programa o info programa si necesita información
sobre un programa en particular

También encontrará mucha documentación útil en /usr/share/doc. Específicamente
en /usr/share/doc/HOWTO y /usr/share/doc/FAQ, donde podrá leer mucha
información interesante. Para enviar informes de fallos, vea en /usr/share/doc/
debian/bug*. Consulte /usr/share/doc/(nombre de paquete)/README.Debian si desea
saber más sobre la información específica a Debian que pueda ofrecerse para un
programa en particular.

Una fuente de información general sobre GNU/Linux es el Proyecto de
documentación de Linux. Allí encontrara CÓMOs y enlaces a otras valiosas
fuentes de información sobre partes del sistema GNU/Linux.

Linux is an implementation of Unix. The Linux Documentation Project (LDP)
collects a number of HOWTOs and online books relating to Linux.

If you are new to Unix, you probably should go out and buy some books and do
some reading. This list of Unix FAQs contains a number of UseNet documents
which provide a nice historical reference.

8.4. Configurar su sistema para utilizar el correo electrónico

Hoy en día el correo electrónico es una parte muy importante de la vida de
muchas personas. Dado que hay muchas opciones para configurarlo y que para
algunas herramientas de Debian es importante tener su sistema de correo
configurado, se intentará cubrir lo básico de la configuración del sistema de
correo en esta sección.

Existen tres elementos principales que forman parte de los sistemas de correo
electrónico. En primer lugar está el Agente de usuario de correo (oMail User
Agent o MUA) que es el programa que el usuario utiliza para escribir y leer el
correo. Después está el Agente de transporte de correo (Mail Transfer Agent o
MTA), que se encarga de transferir los mensajes de un sistema a otro. Y por
último está el Agente de entrega de correo (Mail Delivery Agent o MDA) que se
encarga de transferir el correo entrante al buzón del usuario.

Cada una de estas tres funciones la puede realizar un programa distinto, pero
también pueden combinarse en uno o dos programas. También es posible tener
distintos programas que gestionen estas funciones en función del tipo de
correo.

En el caso de Linux y sistemas Unix mutt ha sido siempre un MUA muy popular.
Como la mayoría de los programas tradicionales en Linux, se trata de un
programa basado en texto. Muchas veces se utiliza conjuntamente con exim o 
sendmail como MTA y con procmail como MDA.

With the increasing popularity of graphical desktop systems, the use of
graphical e-mail programs like GNOME's evolution, KDE's kmail or Mozilla's 
thunderbird has becoming more popular. These programs combine the function of a
MUA, MTA and MDA, but can -- and often are -- also be used in combination with
the traditional Linux tools.

8.4.1. Configuración de correo electrónico por omisión

Es importante que se instale y configure correctamente un MTA/MDA tradicional
en su sistema Debian GNU/Linux aunque vaya a utilizar un programa gráfico de
correo electrónico. La razón principal es que algunas herramientas que se
ejecutan en el sistema^[19] pueden tener que enviar información mediante el
correo electrónico para informar al administrador del sistema de problemas
(potenciales) o de cambios que se han producido.

Es por esta misma razón por la que se instalarán por omisión los paquetes exim4
y mutt (siempre y cuando no haya deseleccionado la tarea "estándar" durante la
instalación). exim4 es una combinación de MTA/MDA que es relativamente pequeño
y muy flexible. La configuración por omisión hará que sólo trate el correo
local al sistema y envíe los correos dirigidos al administrador del sistema
(usuario root) a la cuenta de usuario creada durante la instalación^[20].

Cuando se envían correos del sistema se guardan en el fichero /var/mail/
nombre_de_la_cuenta. Estos correos electrónicos se pueden leer con mutt.

8.4.2. Enviar correo electrónico fuera del sistema

Como ya se ha mencionado, la instalación de un sistema Debian sólo está
configurado para gestionar el correo electrónico de forma local en el sistema,
no para enviar correo a otros ni para recibir correos de otros.

Si desea que exim4 gestione correo externo deberá seguir las indicaciones que
se describen en la siguiente sección que describen las opciones de
configuración básica. Asegúrese de probar que el correo puede enviarse y
recibirse correctamente.

Si va a utilizar un programa de correo gráfico y va a utilizar el servidor de
correo de su proveedor de servicios a Internet («Internet Service Provider» o
ISP), o el servidor de correo de su compañía, no necesita configurar exim4 para
gestionar el correo externo. Sólo debe configurar su programa de correo
electrónico favorito para que utilice los servidores apropiados para enviar y
recibir correo (describir cómo hacerlo se sale del ámbito de este manual).

En este caso, sin embargo, posiblemente tenga que configurar herramientas
individuales para enviar correctamente correos electrónicos. Una de estas
utilidades es reportbug, un programa que facilita el envío de informes de error
de paquetes Debian. Este programa, por omisión, espera poder utilizar exim4
para realizar el envío de los informes de error.

Para configurar correctamente reportbug para utilizar un servidor de correo
externo debe utilizar la orden reportbug --configure y responder "no" cuando se
le pregunte si hay un MTA disponible. A continuación se le preguntará qué
servidor SMTP se debe utilizar para enviar informes de error.

8.4.3. Configurar su agente de transporte de correo

Si quiere que su sistema gestione correo electrónico saliente a Internet deberá
reconfigurar el paquete exim4 ^[21]:

# dpkg-reconfigure exim4-config

Una vez introduzca esta orden (como root), se le preguntará si quiere o no
separar la configuración en múltiples ficheros pequeños. Seleccione la opción
marcada por omisión si no está seguro de qué es mejor.

A continuación, se le presentarán distintos escenarios habituales. Elija aquél
que se parezca más a sus necesidades:

equipo en Internet

    Su equipo está conectado a una red y envía y recibe correo directamente a
    través de SMTP. En las pantallas mostradas posteriormente se le harán
    algunas preguntas básicas incluyendo el nombre de correo de su equipo, o la
    lista de dominios para los que acepta o reenvía correo.

se envía el correo a través de una pasarela

    En este escenario su correo saliente se reenvía a través de otro equipo
    llamado "pasarela" ("smarthost", N. del T.) que es el que se encarga de
    gestionar su correo. Las pasarelas generalmente también almacenarán el
    correo entrante dirigido a su equipo de forma que no es necesario que esté
    permanentemente conectado. Esto también significa que tendrá que descargar
    su correo de la pasarela con un programa como fetchmail.

    En muchos casos la pasarela será el servidor de correo de su ISP, lo que
    hace que esta opción sea la más apropiada para los usuarios que utilicen
    acceso remoto a redes. También puede ser que su pasarela sea el servidor de
    correo interno de su empresa o incluso otro sistema en su misma red.

se envía el correo a través de una pasarela, no hay correo local

    Esta opción es básicamente igual que la anterior con la diferencia que el
    sistema no se configurará para utilizar correo de un dominio local de
    correo electrónico. Se seguirá gestionando el correo del propio sistema
    (como por ejemplo, el del administrador del sistema).

solamente entrega local

    Esta es la opción que se configura por omisión en su sistema.

sin configuración de momento

    Elija esta opción si está absolutamente seguro de lo que está haciendo.
    Esto dejará su sistema de correo sin configurar hasta que lo haga. Esto
    implica que el sistema no podrá enviar o recibir correo y puede que no
    reciba avisos enviados por correo de las herramientas del sistema.

Tendrá que editar los ficheros de configuración en el directorio /etc/exim4 una
vez haya terminado la instalación si ninguno de los escenarios arriba indicados
se ajusta a sus necesidades. Podrá encontrar más información sobre exim4 bajo /
usr/share/doc/exim4. Encontrará más información sobre cómo configurar exim4 en
el fichero README.Debian.gz. En este documento también se explica cómo puede
conseguir documentación adicional.

Tenga en cuenta que el envío de correos directamente a Internet sin tener un
nombre de dominio oficial puede hacer que su correo se rechace por las medidas
contra el correo basura implementadas en los servidores que lo reciben. Lo
preferible es utilizar el servidor de correo de su ISP. En el caso de que sí
desee enviar correo directamente debería utilizar un nombre de dirección de
correo distinta de la que se genera por omisión. Si utiliza exim4 como su MTA
puede hacer esto añadiendo una entrada en su fichero /etc/email-addresses.

8.5. Compilar un nuevo núcleo

Why would someone want to compile a new kernel? It is most probably not
necessary since the default kernel shipped with Debian handles almost all
configurations.

If you want to compile your own kernel nevertheless, this is of course possible
and we recommend the use of the "make deb-pkg" target. For more information
read the Debian Linux Kernel Handbook.

8.6. Recuperar un sistema roto

Algunas veces las cosas salen mal y el sistema que ha instalado con mucho
cuidado no puede arrancar. Quizás se rompió la configuración del cargador de
arranque mientras estaba probando un cambio o quizás el nuevo núcleo que
instaló ya no puede arrancar o quizás unos rayos cósmicos golpearon su disco
duro y cambiaron un bit de /sbin/init. Independientemente de la razón del fallo
necesitará un sistema desde el cual poder trabajar para arreglarlo y el modo de
rescate puede ser útil para esto.

To access rescue mode, select rescue from the boot menu, type rescue at the
boot: prompt, or boot with the rescue/enable=true boot parameter. You'll be
shown the first few screens of the installer, with a note in the corner of the
display to indicate that this is rescue mode, not a full installation. Don't
worry, your system is not about to be overwritten! Rescue mode simply takes
advantage of the hardware detection facilities available in the installer to
ensure that your disks, network devices, and so on are available to you while
repairing your system.

Se le mostrará la lista de particiones de su sistema en lugar de la herramienta
de particionado y se le pedirá que seleccione una de éstas. Por regla general
seleccionará la partición que contiene la raíz del sistema de ficheros que
necesita reparar. Puede seleccionar también particiones en dispositivos RAID o
LVM así como las creadas directamente en los discos.

El instalador le presentará, si puede, un intérprete de línea de órdenes en el
sistema de ficheros que ha seleccionado para que lleve a cabo las reparaciones
que necesite. Por ejemplo, si necesita reinstalar el cargador de arranque GRUB
en el sector de arranque del primer disco duro, puede ejecutar la orden
grub-install '(hd0)' para hacerlo.

Si el instalador no puede ejecutar un intérprete de órdenes usable en el
sistema de ficheros raíz que ha seleccionado quizás se deba a que el sistema de
ficheros se ha corrompido. En este caso se le mostrará un aviso y se ofrecerá a
darle un intérprete de órdenes en el entorno de instalación en lugar de en la
raíz. Puede que no tenga tantas herramientas a su alcance en este entorno, pero
deberían ser suficientes para reparar su sistema. El sistema de ficheros raíz
que haya seleccionado estará montado en el directorio /target.

En cualquier caso, el sistema se reiniciará automáticamente cuando salga del
intérprete de órdenes.

Una última nota: reparar un sistema roto puede ser difícil y este manual no
intentará detallar todas las cosas que pueden ir mal y cómo arreglarlas. Si
tiene algún problema, consulte con un experto.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[18] Under the SysV init system halt had the same effect as poweroff, but with
systemd as init system (the default since jessie) their effects are different.

^[19] Entre éstas se encuentran: cron, quota, logcheck, aide, ...

^[20] El reenvío del correo dirigido a root a una cuenta normal de usuario se
configura en /etc/aliases. Si no hay ninguna cuenta de usuario el correo se
enviará a la propia cuenta de root.

^[21] Puede, por supuesto, eliminar exim4 y reemplazarlo por un MTA/MDA
alternativo.

Apéndice A. CÓMO de instalación

Tabla de contenidos

A.1. Preliminares
A.2. Arrancar el instalador

    A.2.1. CDROM
    A.2.2. Dispositivo de memoria USB
    A.2.3. Arranque desde la red
    A.2.4. Arrancar desde un disco duro

A.3. Instalación
A.4. Envíe un informe de instalación
A.5. Y finalmente...

Este documento describe cómo instalar Debian GNU/Linux buster para 64-bit PC ("
amd64") con el nuevo debian-installer. Es un rápido paseo por el proceso de
instalación que contiene toda la información necesaria para la mayoría de las
instalaciones. Enlazaremos con explicaciones más detalladas disponibles en
otras partes del documento cuando puedan ser útiles para obtener más
información.

A.1. Preliminares

Si encuentra fallos durante su instalación, por favor, diríjase a
Sección 5.4.7, "Enviar los informes de la instalación" para consultar las
instrucciones sobre cómo informar de éstos. Si tiene preguntas que este
documento no absuelve, por favor, diríjala a la lista de correo debian-boot
(debian-boot@lists.debian.org) o pregunte en el IRC (#debian-boot en la red
OFTC).

A.2. Arrancar el instalador

El equipo debian-cd construye imágenes de CD que utilizan debian-installer y
están disponibles en la página de Debian CD. Para obtener más información sobre
dónde obtener CDs, consulte Sección 4.1, "Juegos oficiales de CD/DVD-ROM de
Debian GNU/Linux".

Algunos métodos de instalación requieren imágenes distintas a las de los CD.
Sección 4.2.1, "Dónde encontrar las imágenes de instalación" explica como
encontrar imágenes en las réplicas de Debian.

Las siguientes subsecciones dan más detalles sobre las imágenes que debería
obtener dependiendo del mecanismo de instalación que vaya a utilizar.

A.2.1. CDROM

La imagen de CD «netinst» es una imagen popular que se puede utilizar para
instalar buster con el debian-installer. Esta imagen está diseñada de forma que
puede arrancar desde el CD e instalar los paquetes adicionales que desee a
través de la red, de ahí el nombre «netinst». La imagen incluye los componentes
de software necesarios para ejectuar el instalador, y los paquetes base
necesarios para proporcionar un sistema mínimo buster. Si lo desea, puede
obtener una imagen de CD completa que no necesite disponer de una red para
poder llevar a cabo la instalación. Para esto sólo necesitará utilizar el
primer CD del conjunto de CDs de Debian.

Descargue la imagen que prefiera y grábela en un CD. Para arrancar el CD, puede
que necesite modificar la configuración de su BIOS, como se detalla en
Sección 3.6.1, "Utilización del menú de configuración de la BIOS".

A.2.2. Dispositivo de memoria USB

También es posible realizar la instalación desde un dispositivo de
almacenamiento USB extraíble. Un llavero USB puede ser un medio de instalación
de Debian bastante útil gracias a que puede llevarlo consigo a cualquier lugar.

La forma más fácil de preparar su dispositivo de memoria USB es descargar
cualquier imagen de CD o DVD de Debian que quiera utilizar y después escribir
la imagen de CD directamente en la memoria USB. Tenga en cuenta que se perderán
todos los datos que se encuentren en el dispositivo. Esto es posible debido a
que las imágenes de los CD de Debian son imágenes ISO «híbridas» que se pueden
iniciar tanto desde un lector de CD como desde memorias USB.

Existen otras formas más flexibles de configurar un dispositivo de memoria para
usar el instalador de Debian, y es posible hacerlo funcionar con dispositivos
de menor capacidad. Para más detalles, vea Sección 4.3, "Preparación de
ficheros para el arranque desde un dispositivo de memoria USB".

Some BIOSes can boot USB storage directly, and some cannot. You may need to
configure your BIOS to enable "USB legacy support". The boot device selection
menu should show "removable drive" or "USB-HDD" to get it to boot from the USB
device. For helpful hints and details, see Sección 5.1.1, "Arranque desde un
dispositivo de memoria USB".

A.2.3. Arranque desde la red

También es posible arrancar el debian-installer completamente desde la red. Los
diversos métodos de arranque de red dependen de su arquitectura y configuración
de arranque desde red. Los ficheros en netboot/ pueden usarse para arrancar el
debian-installer desde la red.

La forma más fácil de configurar el arranque desde red probablemente sea usando
PXE. Extraiga el fichero netboot/pxeboot.tar.gz en /srv/tftp o donde sea
apropiado para su servidor tftp. Configure su servidor DHCP para pasar el
fichero pxelinux.0 a los clientes, y, con suerte, todo funcionará
correctamente. Para instrucciones detalladas, vea Sección 4.5, "Preparación de
los ficheros para el arranque a través de red usando TFTP".

A.2.4. Arrancar desde un disco duro

Es posible arrancar el instalador sin usar medios extraíbles, pero sólo si
dispone de un disco duro existente, el cual puede tener un sistema operativo
diferente. Descargue hd-media/initrd.gz, hd-media/vmlinuz, y una imagen de CD
de Debian en el directorio de nivel más alto en el disco duro. Asegúrese de que
la imagen de CD tiene un nombre de fichero que termine en .iso. Ahora sólo es
cuestión de arrancar linux con initrd. Sección 5.1.5, "Arranque desde Linux
utilizando LILO o GRUB" explica una forma de hacerlo.

A.3. Instalación

Una vez que se inicie el instalador, se le mostrará una pantalla inicial de
bienvenida. Pulse Enter para arrancar, o lea las instrucciones para obtener
información de otros métodos y parámetros para la instalación (vea Sección 5.3,
"Parámetros de arranque").

Después de unos instantes se le pedirá que elija su idioma. Use las teclas de
desplazamiento para elegirlo y pulse Enter para continuar. Seguidamente se le
solicitará seleccionar su país, las opciones que se muestran incluirán países
en donde se habla su idioma. Si su país no se encuentra en la lista corta puede
acceder a una lista con todos los países en el mundo.

Puede que necesite confirmar su mapa de teclado. Elija el valor propuesto a
menos que sepa que no es el adecuado.

Ahora siéntese y espere mientras el instalador de Debian detecta su hardware y
carga los otros componentes de la instalación desde el CD, disquete, USB, etc.

A continuación el instalador intentará detectar su hardware de red y configurar
la red usando DHCP. Podrá configurar la red de forma manual si no está en una
red o no tiene DHCP.

Setting up the network is followed by the creation of user accounts. By default
you are asked to provide a password for the "root" (administrator) account and
information necessary to create one regular user account. If you do not specify
a password for the "root" user, this account will be disabled but the sudo
package will be installed later to enable administrative tasks to be carried
out on the new system. By default, the first user created on the system will be
allowed to use the sudo command to become root.

El siguiente paso es fijar su reloj y zona horaria. El instalador intentará
contactar con un servidor de tiempos en Internet para asegurarse que su reloj
está bien fijado. La zona horaria se basa en el país seleccionado anteriormente
y el instalador sólo le pedirá seleccionar una si un país tiene múltiples zonas
horarias.

Ahora toca particionar sus discos. Primero se le dará la oportunidad de
particionar automáticamente bien el disco entero o bien el espacio libre
disponible en su disco (vea Sección 6.3.4.2, "Particionado guiado"). Esta
opción es la más recomendable para usuarios noveles o alguien con prisa. Escoja
la Manual en el menú si no desea particionado automático.

Si tiene una partición DOS o Windows que quiera preservar, tenga cuidado con el
particionado automático. Si elije particionado manual, puede usar el instalador
para redimensionar particiones FAT o NTFS y dejar espacio para la instalación
de Debian simplemente seleccione la partición y especifique su tamaño nuevo.

En la siguiente pantalla verá su tabla de particiones, cómo se formatearán las
particiones, y dónde serán montadas. Elija una partición si desea modificarla o
eliminarla. Si ha efectuado un particionado automático, solamente se le
permitirá elegir Finalizar particionado en el menú, para usar lo que se ha
definido. Recuerde que debe crear por lo menos una partición de intercambio y
montar una partición en /. Por favor, consulte Sección 6.3.4, "Particionado y
elección de punto de montaje". para más información sobre cómo utilizar el
particionador. Asimismo, el apéndice Apéndice C, Particionado en Debian tiene
más información general sobre el particionado.

Ahora el debian-installer formatea sus particiones y empieza a instalar el
sistema base, lo que puede tomar un tiempo. Tras esto se llevará a cabo la
instalación del núcleo.

El sistema base que se instala al principio es una instalación funcional, pero
mínima. El paso siguiente le permite instalar paquetes adicionales y
seleccionar tareas de forma que el sistema instalado sea más operativo. Debe
configurar apt antes de que se puedan instalar los paquetes, ya que esta
configuración define de dónde se obtendrán los paquetess. Por omisión se
instala la tarea del "Sistema estándar" y es la que generalmente debería estar
instalada. Puede seleccionar la tarea "Entorno de escritorio" si desea tener un
entorno gráfico después de la instalación. Para más información sobre este paso
consulte Sección 6.3.6.2, "Elegir e instalar programas".

El último paso es la instalación del gestor de arranque. El instalador añadirá
automáticamente al menú de arranque y mostrará un aviso si detecta otros
sistemas operativos en su ordenador. GRUB se instala de forma predeterminada en
el sector de arranque del primer disco duro, lo que generalmente es una buena
elección. Podrá cambiarlo e instalarlo en otra ubicación si así lo desea.

Ahora el debian-installer le indicará que la instalación ha finalizado. Retire
el CDROM o el medio que haya utilizado para la instalación y pulse Enter para
reiniciar su máquina. Ésta deberá arrancar en el sistema que acaba de instalar
y permitirle autenticarse. Este paso se explica en Capítulo 7, Arrancar desde
su nuevo sistema Debian.

Consulte Capítulo 6, Usar el instalador de Debian si necesita más información
sobre el proceso de instalación.

A.4. Envíe un informe de instalación

Si ha realizado una instalación con éxito con el debian-installer, por favor,
tómese un momento para enviarnos un informe. La forma más sencilla es instalar
el paquete reportbug (apt install reportbug), configurar reportbug como se
describe en Sección 8.4.2, "Enviar correo electrónico fuera del sistema", y
ejecutar reportbug installation-reports.

Si no logró completar la instalación es posible que haya encontrado un fallo en
el instalador de Debian. Para mejorar el instalador es necesario que conozcamos
el fallo, así que, por favor, tómese un momento para informar de éste. También
puede usar un informe de instalación para informar sobre los problemas que haya
sufrido. Consulte Sección 5.4.6, "Informar de fallos" si la instalación falla
por completo.

A.5. Y finalmente...

Esperamos que su instalación de Debian sea satisfactoria y que encuentre útil
Debian. Es posible que ahora quiera leer Capítulo 8, Los pasos siguientes y
dónde continuar a partir de aquí.

Apéndice B. Instalar automáticamente utilizando preconfiguración

Tabla de contenidos

B.1. Introducción

    B.1.1. Métodos de preconfiguración
    B.1.2. Limitaciones

B.2. Utilizar la preconfiguración

    B.2.1. Cargar el fichero de preconfiguración
    B.2.2. Usar parámetros de arranque para preconfigurar preguntas
    B.2.3. Modo «auto»
    B.2.4. Abreviaturas útiles para la preconfiguración
    B.2.5. Utilizar un servidor DHCP para especificar los ficheros de
        preconfiguración

B.3. Crear un fichero de preconfiguración
B.4. Contenidos del fichero de preconfiguración (para buster)

    B.4.1. Localización
    B.4.2. Configuración de red
    B.4.3. Consola de red
    B.4.4. Configuración de la réplica
    B.4.5. Configuración de cuentas de usuario
    B.4.6. Configuración del reloj y zona horaria
    B.4.7. Particionado
    B.4.8. Configuración del sistema base
    B.4.9. Configuración de APT
    B.4.10. Selección de paquetes
    B.4.11. Instalación del cargador de arranque
    B.4.12. Finalizar la instalación
    B.4.13. Preconfiguración de otros paquetes

B.5. Opciones avanzadas

    B.5.1. Ejecutar órdenes personalizadas durante la instalación
    B.5.2. Utilizar la preconfiguración para cambiar valores por omisión
    B.5.3. Carga de ficheros de configuración en cadena

Este apéndice explica cómo preconfigurar respuestas a preguntas en
debian-installer para poder así automatizar una instalación.

Los fragmentos de configuración que se utilizan en este apéndice están también
disponibles como un fichero de preconfiguración de ejemplo en ../
example-preseed.txt.

B.1. Introducción

La preconfiguración ofrece un mecanismo para responder a preguntas realizadas
durante la instalación sin tener que introducir manualmente las respuestas
mientras ésta se ejecuta. Esto hace posible que se automaticen la mayoría de
las instalaciones e incluso ofrece funcionalidades que no están disponibles
durante una instalación normal.

La preconfiguración no es indispensable. Si usa un fichero vacío de
preconfiguración, el instalador se comportará como una instalación manual
usual. Cada pregunta que haya preconfigurado modificará (¡si lo ha hecho bien!)
la instalación de alguna forma con tal información.

B.1.1. Métodos de preconfiguración

Se pueden utilizar tres métodos de preconfiguración: initrd (imagen de
arranque), file (fichero, n. del t.) y network (red, n. del t.). La
preconfiguración a través de initrd funciona en cualquier método de instalación
y permite preconfigurar más cosas, pero es la que más preparación requiere. Los
métodos de preconfiguración con fichero o vía red se pueden utilizar en
distintos métodos de instalación.

La siguiente tabla muestra los métodos de preconfiguración que se
puedenutilizar con los distintos métodos de instalación.

┌───────────────────────────────────────────────────┬────────┬─────┬──────────┐
│               Método de instalación               │ initrd │file │ network  │
├───────────────────────────────────────────────────┼────────┼─────┼──────────┤
│CD/DVD                                             │sí      │sí   │sí^[a]    │
├───────────────────────────────────────────────────┼────────┼─────┼──────────┤
│netboot                                            │sí      │no   │sí        │
├───────────────────────────────────────────────────┼────────┼─────┼──────────┤
│hd-media (incluyendo memorias usb)                 │sí      │sí   │sí^[a]    │
├───────────────────────────────────────────────────┴────────┴─────┴──────────┤
│^[a] pero sólo si tiene acceso a la red y configura preseed/url              │
│correctamente.                                                               │
└─────────────────────────────────────────────────────────────────────────────┘

Una diferencia importante entre los métodos de preconfiguración es el punto en
el que se carga y procesa el fichero de preconfiguración. Para la
preconfiguración a través de la imagen de arranque «initrd» esto se produce
justo al comienzo de la instalación, antes de hacer siquiera la primera
pregunta. La preconfiguración en la línea de órdenes del núcleo se produce
justo antes. Por ello es posible reemplazar el conjunto de configuración en
initrd editando la línea de órdenes del núcleo (bien en la configuración del
arranque o manualmente tras el arranque en aquellos cargadores que lo
permiten). Para la preconfiguración con fichero esto se hace después de que el
CD o la imagen de CD se haya cargado. Para la preconfiguración de red esto se
hace sólo después de que se haya configurado la red.

Importante

Obviously, any questions that have been processed before the preconfiguration
file is loaded cannot be preseeded (this will include questions that are only
displayed at medium or low priority, like the first hardware detection run). A
not so convenient way to avoid these questions from being asked is to preseed
them through the boot parameters, as described in Sección B.2.2, "Usar
parámetros de arranque para preconfigurar preguntas".

In order to easily avoid the questions that would normally appear before the
preseeding occurs, you can start the installer in "auto" mode. This delays
questions that would normally be asked too early for preseeding (i.e. language,
country and keyboard selection) until after the network comes up, thus allowing
them to be preseeded. It also runs the installation at critical priority, which
avoids many unimportant questions. See Sección B.2.3, "Modo «auto»" for
details.

B.1.2. Limitaciones

Aunque la mayoría de las preguntas que utiliza debian-installer se pueden
preconfigurar con este mecanismo hay algunas excepciones importantes. Tiene que
(re)particionar el disco completo o utilizar el espacio en disco libre
disponible, no puede usar particiones existentes.

B.2. Utilizar la preconfiguración

En primer lugar ha de crear primero el fichero de preconfiguración y ponerlo en
la ubicación donde pretende utilizarlo. La creación del fichero de
preconfiguración se describe más adelante en este apéndice. Colocar el fichero
en la ubicación correcta es algo relativamente sencillo para la
preconfiguración vía red o si quiere leer el fichero de un disquete o una
memoria usb. Si desea incluir el fichero en un CD o DVD tendrá que rehacer la
imagen ISO. La inclusión del fichero de preconfiguración en la imagen de
arranque «initrd» queda fuera del alcance de este documento, consulte la
documentación para desarrolladores de debian-installer si está interesado.

Tiene un fichero de preconfiguración de ejemplo, que puede utilizar como base
para su propio fichero de preconfiguración, en ../example-preseed.txt. Este
fichero está basado en fragmentos de configuración incluidos en este apéndice.

B.2.1. Cargar el fichero de preconfiguración

Si está utilizando la preconfiguración por imagen de arranque tiene que
comprobar que exista un fichero con el nombre de preseed.cfg en el directorio
raíz de la imagen de arranque. El instalador buscará automáticamente este
fichero y lo cargará.

Para otros métodos de preconfiguración tiene que decirle al instalador qué
fichero utilizar en el inicio. Esto se hace habitualmente dando un valor al
parámetro de arranque del núcleo, bien manualmente en el arranque o bien
editando el fichero de configuración del cargador de arranque (p.ej.
syslinux.cfg) y añadiendo el parámetro al final de la/s línea/s "append" para
el núcleo.

Si especifica un fichero de preconfiguración en la configuración del cargador
de arranque podrá cambiar la configuración para que no tenga que pulsar Intro
en el arranque del instalador. En el caso de syslinux esto significa que tiene
que definir "timeout" en syslinux.cfg con un valor de 1.

Para asegurarse de que el instalador obtiene el fichero de preconfiguración
correcto puede especificar, opcionalmente, una suma de control del fichero.
Actualmente, esta debe ser una suma de control MD5 y, si se especifica debe
coincidir con el valor que se obtenga del fichero de preconfiguración o el
instalador se negará a utilizarlo.

Boot parameters to specify:
- if you're netbooting:
  preseed/url=http://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- or
  preseed/url=tftp://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- if you're booting a remastered CD:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- if you're installing from USB media (put the preconfiguration file in the
  toplevel directory of the USB stick):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Tenga en cuenta que puede abreviar preseed/url a url, preseed/file a file y
preseed/file/checksum a preseed-md5 cuando se introducen como parámetros de
arranque.

B.2.2. Usar parámetros de arranque para preconfigurar preguntas

Puede automatizar la instalación aún cuando no pueda utilizar el archivo de
preconfiguración para preconfigurar algunos pasos. Esto es gracias a que se
pueden preconfigurar valores en la línea de órdenes cuando se arranca el
instalador.

Los parámetros de arranque también se pueden utilizar cuando no quiere
realmente preconfigurar sino que sólo quiere dar una respuesta a una pregunta
concreta. Algunos de los ejemplos donde esto puede ser útil están documentados
en otras partes de este manual.

Para fijar un valor que vaya a utilizar debian-installer, sólo tiene que pasar
ruta/a/variable=valor para cualquiera de las variables de preconfiguración que
se listan como ejemplos en este apéndice. Si se va a utilizar el valor para
preconfigurar paquetes en el sistema destino, deberán estar precedidos por el
propietario^[22] de la variable como sigue: propietario:ruta/a/variable=valor.
No se copiará el valor de la variable a la base de datos de debconf del sistema
destino si no especifica el propietario, por lo que no se utilizará durante la
configuración del paquete apropiado.

Normalmente, al preconfigurar una pregunta de esta forma la pregunta no se
mostrará. Para especificar un valor predeterminado para la pregunta, y que ésta
se muestre, use el operando "?=" en lugar de "=". Consulte Sección B.5.2,
"Utilizar la preconfiguración para cambiar valores por omisión".

Tenga en cuenta que hay una abreviatura para las variables que se utilizan con
más frecuencia en el indicador de arranque. Los ejemplos de este apéndice
utilizan la abreviatura, si hay una disponible, en lugar de la variable
completa. Por ejemplo, se ha abreviado la variable preseed/url a url. Otro
ejemplo es la abreviatura tasks que se traduce como tasksel:tasksel/first.

Un "---" en las opciones de arranque tiene un significado especial. Los
parámetros que aparezcan tras el último "---" se pueden copiar a la
configuración del cargador de arranque del sistema instalado (si el instalador
ofrece compatibilidad con esa opción con el cargador de arranque seleccionado).
El instalador filtrará de forma automática cualquier opción (como las opciones
de preconfiguración) que reconozca.

Nota

Los núcleos actuales (2.6.9 y posteriores) aceptan hasta treinta y dos opciones
de línea de órdenes y treinta y dos opciones de entornos. Si se exceden estos
números el núcleo fallará (con un "panic"). Los números eran menores en núcleos
anteriores.

En la mayoría de las instalaciones se pueden eliminar con seguridad algunas de
las opciones del fichero de configuración del cargador de arranque, como por
ejemplo vga=normal, lo que permite añadir más opciones para la
preconfiguración.

Nota

No siempre es posible especificar valores con espacios entre los parámetros de
arranque aunque se delimiten con comillas dobles.

B.2.3. Modo «auto»

Hay algunas funciones del Instalador de Debian que se combinan para permitir
que algunas entradas de línea de órdenes en el indicador del arranque tengan
como consecuencia una instalación automática adaptada y de arbitrariedad
compleja.

Esto se habilita utilizando la opción de arranque Instalación automatizada,
también llamada auto en algunas arquitecturas o métodos de arranque. En esta
sección, auto no es por tanto un parámetro, significa la selección de esta
opción de arranque y añadiendo los parámetros de arranque indicados al
indicador de arraque. Consulte Sección 5.1.7, "La pantalla de arranque" para
más información sobre cómo añadir un parámetro en el arranque.

Para mostrar esto aquí tiene algunos ejemplos que se pueden utilizar en el
indicador del arranque:

auto url=autoserver

Este valor depende de la existencia de un servidor de DHCP que hará que la
máquina llegue al punto donde autoserver puede resolverse por DNS, quizás
después de añadir un dominio local entregado por el servidor de DHCP. Si esto
se utilizase en un sitio donde el dominio fuera ejemplo.com, y tuviese una
configuración de DHCP razonablemente correcta, haría que se descargase el
fichero de preconfiguración de http://autoserver.example.com/d-i/buster/./
preseed.cfg.

La última parte de esa URL (d-i/buster/./preseed.cfg) se toma de auto-install/
defaultroot. Por omisión incluye el directorio buster para que versiones
futuras puedan especificar su propio nombre en clave y permitir hacer
migraciones de forma controlada. La sección /./ se utiliza para indicar la
raíz, relativa a la cual se anclarán las rutas siguientes (que se utilizará en
preseed/include y preseed/run). Esto permite que los ficheros se especifiquen o
bien como una URL completa, bien como rutas que empiezan con «/» y que están
ancladas como se mencionaba, o bien como rutas relativas a la ubicación donde
se encontró el último fichero de preconfiguración. Esto puede utilizarse para
construir scripts más portables de forma que una jerarquía completa de scripts
se pueda mover a una nueva ubicación sin romperla. Por ejemplo, copiando los
ficheros a una llave USB cuando antes estaban en un servidor web. En este
ejemplo, si el fichero de preconfiguración preseed/run tiene el valor /scripts/
orden_tardia.sh, el fichero se intentará obtener de http://
autoserver.example.com/d-i/buster/./scripts/orden_tardia.sh.

Aún puede utilizar una URL específica si no tiene una infraestructura de DHCP o
DNS o si no quiere utilizar la ruta por omisión preseed.cfg. Si no utiliza el
elemento /./, entonces se anclará al principio de la ruta (esto es, al tercer /
en la URL). A continuación se muestra un ejemplo que requiere poco soporte de
la infraestructura de red local:

auto url=http://192.168.1.2/ruta/a/mipreconfiguracion.archivo

Funciona de la siguiente forma:

  • si la URL no indica un protocolo se presupone que es http,

  • si la sección del nombre de equipo no tiene puntos se le añade el dominio
    derivado del DHCP, y

  • si no hay ningún / tras el nombre de host se añade la ruta por omisión.

Además de indicar la url, también puede especificar los valores que no afectan
directamente al comportamiento de debian-installer pero que se pueden
introducir a los scripts indicados en preseed/run en el fichero de
preconfiguración cargado. De momento, el único ejemplo de esto es auto-install/
classes, que tiene la abreviatura classes. Puede usarse de la siguiente forma:

auto url=ejemplo.com classes=clase_A;clase_B

Las clases podrían indicar, por ejemplo, el tipo de sistema a utilizar o la
localización a usar.

Por supuesto, se puede extender este concepto y, si lo hace, puede utilizar el
espacio de nombres «auto-install» para ello. Así, uno podría tener algo como
auto-install/style que después se utilizará en sus scripts. Si piensa que
necesita hacerlo, por favor, comuníquelo a la lista de correo <
debian-boot@lists.debian.org> para intentar evitar conflictos en el espacio de
nombres y para quizás añadir una abreviatura al parámetro para usted.

La etiqueta de arranque auto aún no se ha definido en todas las arquitecturas.
Para obtener el mismo efecto basta con añadir dos parámetros a la línea de
órdenes del núcleo: auto=true priority=critical. El parámetro auto es una
abreviatura para auto-install/enable que estableciéndola como true controla el
tiempo de espera de las preguntas de localización y teclado para que estas se
realicen más adelante y se puedan preconfigurar. El parámetro priority es la
abreviatura de debconf/priority, si se fija a critical no se hará ninguna
pregunta con una prioridad inferior a ésta.

Algunas opciones de interés cuando intenta automatizar una instalación
utilizando DHCP son: interface=auto netcfg/dhcp_timeout=60 que hace que el
sistema seleccione la primera tarjeta de red disponible y sea un poco más
paciente mientras espera una respuesta a su consulta DHCP.

Sugerencia

Puede encontrar en el sitio web del desarrollador un ejemplo muy largo que
muestra cómo usar esta plataforma, el sitio incluye programas y clases de
ejemplo. Los ejemplos disponibles en esa ubicación también muestran algunos de
los efectos positivos que se pueden conseguir gracias al uso creativo de la
preconfiguración.

B.2.4. Abreviaturas útiles para la preconfiguración

Las siguientes abreviaturas pueden ser útiles cuando se utiliza
preconfiguración (en modo auto). Tenga en cuenta que son solamente abreviaturas
para las preguntas y siempre se deberá especificar un valor para éstas, por
ejemplo, auto=true o interface=eth0.

priority                          debconf/priority
fb                                debian-installer/framebuffer
language                          debian-installer/language
country                           debian-installer/country
locale                            debian-installer/locale
theme                             debian-installer/theme
auto                              auto-install/enable
classes                           auto-install/classes
file                              preseed/file
url                               preseed/url
domain                            netcfg/get_domain
hostname                          netcfg/get_hostname
interface                         netcfg/choose_interface
protocol                          mirror/protocol
suite                             mirror/suite
modules                           anna/choose_modules
recommends                        base-installer/install-recommends
tasks                             tasksel:tasksel/first
Entorno de escritorio («desktop») tasksel:tasksel/desktop
dmraid                            disk-detect/dmraid/enable
keymap                            keyboard-configuration/xkb-keymap
preseed-md5                       preseed/file/checksum

B.2.5. Utilizar un servidor DHCP para especificar los ficheros de
preconfiguración

También es posible utilizar DHCP para especificar un fichero de
preconfiguración que se debe descargar de la red. El protocolo DHCP permite
especificar un fichero. Generalmente, es un fichero para el arranque en red,
pero si parece ser una URL, el medio de instalación que permite la
preconfiguración vía red descargará un fichero de la URL y lo utilizará como un
fichero de preconfiguración. A continuación se muestra un ejemplo de cómo
configurar el dhcp.conf de la versión 3 del servidor de DHCP de ISC (el paquete
Debian isc-dhcp-server).

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://servidor/preconfiguracion.cfg";
}

Tenga en cuenta que el ejemplo anterior limita la entrega de este nombre de
fichero a clientes DHCP que se identifiquen como «d-i». De esta forma no se
afectará a clientes DHCP normales sino sólo al instalador. También puede poner
ese texto en la definición de un sistema específico para evitar preconfigurar
todas las instalaciones que se hagan en su red.

Una buena forma de hacer uso de la preconfiguración de DHCP es sólo
preconfigurar los valores específicos a su red, como puedan ser la réplica
Debian a utilizar. De esta forma todas las instalaciones en su red
seleccionarán automáticamente la réplica adecuada, mientras que el resto de la
instalación se realizará de forma interactiva. Debe tener cuidado al utilizar
la preconfiguración mediante DHCP para automatizar la instalación completa de
Debian.

B.3. Crear un fichero de preconfiguración

El fichero de preconfiguración tiene el formato que utiliza la orden 
debconf-set-selections. El formato general para una línea del fichero de
preconfiguración es:

<propietario> <nombre-de-la-pregunta> <tipo-de-pregunta> <valor>

The file should start with #_preseed_V1

Existen algunas reglas a tener en cuenta al escribir un fichero de
preconfiguración.

  • Sólo se permite un espacio entre tipo de plantilla y valor. Cualquier
    espacio adicional se considerará como parte del valor.

  • Se puede dividir una línea en múltiples líneas si se añade un barra
    invertida ("\") como carácter de continuación de línea. Un buen punto para
    la división de la linea es después del nombre de la pregunta. Es mala idea
    dividir la línea entre el tipo y el valor. Las líneas con saltos se unirán
    en una sola línea con todo el espacio al principio y al final condensado en
    un solo espacio.

  • Para las variables debconf (plantillas) que se usan solo en el mismo
    instalador, el dueño debería ser "d-i"; para preconfigurar las variables
    que se usan en el sistema instalado, se debe usar el nombre del paquete que
    contiene la correspondiente plantilla de debconf. Solamente se propagarán
    las variables a la base de datos debconf del sistema instalado que tengan
    un dueño distinto a "d-i".

  • La mayoría de las preguntas se tienen que preconfigurar con los valores que
    sean válidos en inglés y no en las traducciones de esos mismos valores. Hay
    algunas preguntas, sin embargo (como es el caso de partman) donde se tienen
    que utilizar los valores traducidos.

  • Algunas preguntas toman un código como valor en lugar del campo de texto
    mostrado durante la instalación (en inglés).

  • Start with #_preseed_V1

La forma más sencilla de crear un fichero de configuración es utilizar como
base el ejemplo enlazado en Sección B.4, "Contenidos del fichero de
preconfiguración (para buster)" y trabajar a partir de ahí.

Un método alternativo es realizar una instalación manual y, tras el rearranque,
utilizar debconf-get-selections, disponible en el paquete debconf-utils, para
volcar la base de datos de debconf y la base de datos cdebconf del instalador
en un sólo fichero.

$ echo "#_preseed_V1" > file
$ debconf-get-selections --installer >> file
$ debconf-get-selections >> file

Sin embargo, un fichero generado de esta forma tendrá algunos elementos que no
se deberían preconfigurar. Lo recomendable para la mayoría de los usuarios es
empezar con el fichero de ejemplo.

Nota

Este método se basa en el hecho de que al final de la instalación la base de
datos de cdebconf del instalador se guarda en el sistema instalado en /var/log/
installer/cdebconf. Dado que esta base de datos puede contener información
sensible sólo la puede leer, por omisión, el superusuario.

Si purga el paquete installation-report se eliminará el directorio /var/log/
installer y todos los ficheros en él incluidos de su sistema.

Puede utilizar nano para comprobar los posibles valores de las preguntas,
examinando los ficheros en /var/lib/cdebconf durante una instalación que está
en progreso. Consulte templates.dat si quiere las plantillas en crudo o
questions.dat si quiere consultar los valores actuales y asignados a las
variables.

Para comprobar si el formato de su fichero de preconfiguración es válido antes
de hacer una instalación puede utilizar la orden debconf-set-selections -c 
preseed.cfg.

B.4. Contenidos del fichero de preconfiguración (para buster)

Los fragmentos de configuración que se utilizan en este apéndice están también
disponibles como un fichero de preconfiguración de ejemplo en ../
example-preseed.txt.

Tenga en cuenta que este ejemplo está basado en una instalación para la
arquitectura Intel x86. Si está instalando en otra arquitectura no serán
relevantes algunos de los ejemplos (como la selección de teclado o la
instalación del cargador) y tendrá que reemplazarlos por los valores de debconf
más apropiados a su arquitectura.

Para más detalles sobre el funcionamiento de los componentes del instalador de
Debian, consulte Sección 6.3, "Uso de componentes individuales".

B.4.1. Localización

During a normal install the questions about localization are asked first, so
these values can only be preseeded via the initrd or kernel boot parameter
methods. Auto mode (Sección B.2.3, "Modo «auto»") includes the setting of
auto-install/enable=true (normally via the auto preseed alias). This delays the
asking of the localisation questions, so that they can be preseeded by any
method.

Definir la configuración regional («locale») se puede utilizar para especificar
tanto el idioma como el país y puede usarse cualquier combinación de idioma y
país reconocido permitidos por debian-installer. Si la combinación no
constituye una configuración regional válida, el instalador seleccionará
automáticamente una válida para el idioma seleccionado. Puede utilizar locale=
es_ES. para especificar la localización como un parámetro de arranque.

Aunque este método es muy fácil de usar, no permite la preconfiguración de
todas las combinaciones posibles de idioma, país y configuración regional
(«locale»)^[23]. Así que, de forma alternativa, puede preconfigurar los valores
individualmente. El país y el idioma también se pueden definir como parámetros
de arranque.

# Configuración de localización para el idioma, país y «locale».
d-i debian-installer/locale string es_ES

# Puede preconfigurar los valores de forma individual para una mayor flexiblidad.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Opcionalmente, especifique las «locales» adicionales a generar.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8

La configuración del teclado consiste en seleccionar un mapa de teclado y para
(para mapas de teclado no latinos) un interruptor de conmutación para cambiar
entre el mapa de teclado no latino y el mapa de teclado para Norteamérica.
Durante la instalación, solo están disponibles los mapas de teclado básicos.
Las variantes más avanzadas solo están disponibles en un sistema instalado,
mediante la orden dpkg-reconfigure keyboard-configuration.

# Selección de teclado.
d-i keyboard-configuration/xkb-keymap select es
# d-i keyboard-configuration/toggle select No toggling

Para omitir la configuración del teclado preconfigure keymap con skip-config.
Esto hará que el mapa de teclado del núcleo permanezca activo.

B.4.2. Configuración de red

Por supuesto, la preconfiguración de la tarjeta de red no funcionará si está
obteniendo el fichero de preconfiguración desde la red. Pero esta opción es muy
cómoda cuando está arrancando desde un CD o memoria USB. Si carga ficheros de
preconfiguración desde la red, puede introducir los parámetros de configuración
de la red a través de parámetros de arranque del núcleo.

Use un parámetro de arranque similar a interface=eth1 si tiene que escoger una
interfaz particular durante el arranque vía red antes de cargar el fichero de
preconfiguración de la red.

Aunque generalmente no es posible preconfigurar la red cuando se hace la
preconfiguración via red (usando "preseed/url"), puede utilizar este truco para
evitar esto si, por ejemplo, quiere configurar una dirección estática para la
interfaz de red. El truco es obligar a que la configuración de red se ejecute
de nuevo después de haber cargado el fichero de preconfiguración creando un
script "preseed/run" con las siguientes órdenes:

kill-all-dhcp; netcfg

Las siguientes variables de debconf son relevantes para la configuración de la
red.

# Deshabilitar completamente la configuración de red. Es útil para
# instalaciones desde cdrom o dispositivos que no están en red, para
# los cuales las preguntas y advertencias de red así como los tiempos
# de espera serían molestos.
#d-i netcfg/enable boolean false

# netcfg escogerá la interfaz que tiene enlace si puede. Esto hace que no
# muestre la lista si hay más de uno.
d-i netcfg/choose_interface select auto

# Escoger una interfaz específica en lugar de la encontrada:
#d-i netcfg/choose_interface select eth1

# Para definir  un tiempo de espera de detección de enlace distinto (por
# omisión, 3 segundos).
# Los valores se interpretan como segundos.
#d-i netcfg/link_wait_timeout string 10

# Si tiene un servidor de DHCP lento y el instalador expira intentando
# conectarse a él, esto puede serle útil.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Si prefiere configurar la red de forma manual, descomente esta línea
# y la configuración de red estática más abajo.
#d-i netcfg/disable_autoconfig boolean true

# Si quiere que el fichero de preconfiguración funcione tanto en
# sistemas con un servidor de DHCP como en los que no lo tienen, tendrá
# que descomentar estas líneas y añadir la configuración estática de red
# a continuación.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Configuración estática de red
#
#Ejemplo IPv4
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# Ejemplo IPv6
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Cualquier nombre de host y de dominio que se obtengan por DHCP se utilizan
# antes que los valores aquí definidos. Por otra parte, definir los valores
# impide que se muestren las preguntas, incluso si los valores provienen
# de DHCP.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# Si desea forzar un nombre de host, sin importar lo que devuelve el
# el servidor DHCP, o cual es la entrada DNS inverso para el IP, descomente
# y ajuste la siguiente línea.
#d-i netcfg/hostname string somehost

# Desactivar el molesto diálogo de clave WEP.
d-i netcfg/wireless_wep string
# El nombre de servidor raro que algunos ISP utilizan como una especie de
# contraseña
#d-i netcfg/dhcp_hostname string radish

# Si se requiere firmware no libre para la red o para otro dispositivo,
# puede configurar el instalador para que siempre intente cargarlo, sin
# preguntar. O cambiar a falso para inhibir la pregunta.
#d-i hw-detect/load_firmware boolean true

Tenga en cuenta que netcfg determinará automáticamente la máscara de red si no
se preconfigura netcfg/get_netmask. En tal caso, la variable tiene que marcarse
como seen en el caso de las instalaciones automáticas. De la misma forma, 
netcfg elegirá una dirección apropiada si netcfg/get_gateway no ha sido
establecida. La excepción es definir netcfg/get_gateway como "none" para
especificar que no se debería usar puerta de enlace alguna.

B.4.3. Consola de red

# Use los siguientes parámetros si desea hacer uso del componente
# network-console (consola de red) para instalaciones remotas vía SSH.
# Sólo tiene sentido si desea hacer el resto de la instalación
# manualmente
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

B.4.4. Configuración de la réplica

Dependiendo del método de instalación que utilice se utilizará una réplica
tanto para descargar componentes adicionales del instalador como para instalar
el sistema base y para configurar /etc/apt/sources.list en el sistema
instalado.

El parámetro mirror/suite determina la publicación que utiliza el sistema
instalado.

El parámetro mirror/udeb/suite determina la publicación de los componentes
adicionales del instalador. Sólo es necesario establecer este valor si se
llegan a descargar componentes a través de la red y debería coincidir con el
valor que se utilizó para construir la imagen de arranque «initrd» para el
método de instalación utilizado. Habitualmente, el instalador usará
automáticamente el valor adecuado y no debería existir la necesidad de
configurar esto.

# No tiene que definir la cadena mirror/country si selecciona ftp
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.es.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Publicación a instalar.
#d-i mirror/suite string testing
# Publicación a utilizar para descargar componentes de la instalación
# (opcional)
#d-i mirror/udeb/suite string testing

B.4.5. Configuración de cuentas de usuario

The password for the root account and name and password for a first regular
user's account can be preseeded. For the passwords you can use either clear
text values or crypt(3) hashes.

Aviso

Be aware that preseeding passwords is not completely secure as everyone with
access to the preconfiguration file will have the knowledge of these passwords.
Storing hashed passwords is considered secure unless a weak hashing algorithm
like DES or MD5 is used which allow for bruteforce attacks. Recommended
password hashing algorithms are SHA-256 and SHA512.

# Skip creation of a root account (normal user account will be able to
# use sudo).
#d-i passwd/root-login boolean false
# Alternatively, to skip creation of a normal user account.
#d-i passwd/make-user boolean false

# Root password, either in clear text
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# or encrypted using a crypt(3)  hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# To create a normal user account.
#d-i passwd/user-fullname string Debian User
#d-i passwd/username string debian
# Normal user's password, either in clear text
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# or encrypted using a crypt(3) hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Create the first user with the specified UID instead of the default.
#d-i passwd/user-uid string 1010

# The user account will be added to some standard initial groups. To
# override that, use this.
#d-i passwd/user-default-groups string audio cdrom video

También se pueden preconfigurar las variables passwd/root-password-crypted y
passwd/user-password-crypted utilizando como valor "!". Si hace esto para
cualquiera de las dos cuentas ésta se deshabilitará. Esto puede ser de ayuda
para el caso de la cuenta de superusuario, siempre que tenga un mecanismo
alternativo para poder llevar a cabo tareas de administración o acceder como
superusuario (como por ejemplo, la utilización de autenticación mediante clave
SSH o sudo).

The following command (available from the whois package) can be used to
generate a SHA-512 based crypt(3) hash for a password:

mkpasswd -m sha-512

B.4.6. Configuración del reloj y zona horaria

# Controla si el reloj del sistema debe establecerse a UTC.
d-i clock-setup/utc boolean true

# Puede establecer esto a cualquier valor válido para $TZ;
# consulte los contenidos de /usr/share/zoneinfo/ para hallar
# valores válidos.
d-i time/zone string US/Eastern

# Controla si se usará NTP para establecer el reloj durante la
# instalación
d-i clock-setup/ntp boolean true
# Servidores NTP a usar. El predeterminado es casi siempre
# el mejor.
#d-i clock-setup/ntp-server string ntp.example.com

B.4.7. Particionado

La utilización de la preconfiguración para particionar el disco duro está
limitada a lo que partman-auto puede permitir. Puede elegir o bien particionar
el espacio libre en el disco o todo el disco. La distribución del disco puede
basarse en una receta existente o utilizar una receta de un fichero o una
receta incluida en el fichero de preconfiguración. Actualmente no es posible
utilizar la preconfiguración para particionar más de un disco.

Es posible preconfigurar un particionado usando RAID, LVM y cifrado, pero no
con toda la flexibilidad ofrecida al realizar una instalación sin
preconfiguración.

Los ejemplos a continuación sólo ofrecen información básica sobre el uso de
recetas. Para una información detallada consulte los ficheros
partman-auto-recipe.txt y partman-auto-raid-recipe.txt, incluidos en el paquete
debian-installer. Ambos ficheros también están disponibles desde el repositorio
de fuentes de debian-installer. Tenga en cuenta que la funcionalidad permitida
puede variar entre diferentes publicaciones.

Aviso

La identificación de los discos depende del orden en el que se cargaron las
unidades. Asegúrese de utilizar el disco correcto antes de configurarlo si el
sistema tiene más de un disco.

B.4.7.1. Ejemplo de particionado

# If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the three predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Particionar usando RAID

También puede utilizar la preconfiguración para configurar las particiones en
arreglos RAID por software. Se puede utilizar para niveles RAID 0, 1 y 5, 6 y
10 creando arreglos degradados y especificando dispositivos libres.

Puede configurar grub para que se instale en todos los dispositivos utilizados
en el arreglo si está utilizando RAID 1, consulte Sección B.4.11, "Instalación
del cargador de arranque".

Aviso

Es fácil equivocarse en este tipo de particionado automático. También es una
funcionalidad que es poco probada por los desarrolladores del debian-installer.
El usuario es responsable de aplicar bien las posibles recetas (de forma que
tengan sentido y no entren en conflicto). Si tiene problemas compruebe /var/log
/syslog.

# AVISO: esta opción es de calidad beta y debería utilizarse con
# cuidado.

# Debería definirse el como «raid».
#d-i partman-auto/method string raid
# Especificar los discos a particionar. Deberían tener la misma
# distribución por lo que esto sólo funcionará si los discos son del
# mismo tamaño.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# A continuación, tiene que especificar las particiones físicas que se
# utilizarán.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Por último, tiene que especificar cómo van a utilizarse las
# particiones antes definidas en la configuración RAID. Recuerde que
# tiene que utilizar los números de partición correctos para las
# particiones lógicas. Se permiten los níveles RAID 0, 1, 5, 6 y 10:
# los dispositivos se separan mediante «#».
# Los parámetros son
# <raidtype> <devcount> <sparecount> <fstype> <mountpoint> \
#          <devices> <sparedevices>
# Se soportan los niveles RAID 0, 1 y 5,6 y 10; los dispositivos se separan
# con "#"
#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# Para información adicional, consulte el fichero «partman-auto-raid-recipe.txt»
# incluido en el paquete debian-installer, o a través del repositorio de fuentes
# del instalador de Debian.

# Esto hace que partman particione de forma automática sin
# confirmación.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. Controlar como se montan las particiones

Usualmente los sistemas de ficheros se montan con el identificador único
universal (UUID) como clave; esto permite montarlos adecuadamente a pesar de
que el nombre del dispositivo cambie. Los identificadores UUID son largos y
difíciles de leer, así que si prefiere, el instalador puede montar los sistemas
de ficheros basado en los nombres tradicionales de los dispositivos o basado en
una etiqueta asignada por usted. Si se especifica montaje por etiqueta,
cualquier sistema de ficheros sin etiqueta se montará a partir del UUID.

Los dispositivos con nombres estables, tales como los volúmenes lógicos LVM
continuarán usando sus nombres tradicionales en lugar de los UUID.

Aviso

Los nombres de dispositivos tradicionales pueden cambiar basados en el orden en
el cual el núcleo los descubra al momento del arranque, lo que puede causar un
montaje erróneo de los sistemas de ficheros. De la misma forma, las etiquetas
pueden se descoordinar si conecta un nuevo disco o unidad USB. De suceder esto,
su sistema se comportará aleatoriamente al momento del arranque.

# De forma predeterminada se montará por UUID, pero puede elegir
# "traditional" para usar nombres de dispositivos tradicionales, o
# "label" para intentar con etiquetas de sistemas de ficheros antes
# de usar el identificador UUID.
#d-i partman/mount_style select uuid

B.4.8. Configuración del sistema base

No hay mucho que se pueda preconfigurar en esta etapa de la instalación. La
única pregunta concerniente a la instalación se refiere al núcleo.

# Configure APT para que no instale paquetes recomendados por omisión.
# El uso de esta opción puede resultar en un sistema incompleto, y por ello
# sólo lo deberían usar usuarios experimentados.
#d-i base-installer/install-recommends boolean false

# El (meta) paquete de imagen de núcleo que instalar; se puede utilizar
# «none» si no se va a instalar ningún núcleo.
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Configuración de APT

Tanto la configuración de /etc/apt/sources.list como las opciones de
configuraciones básicas se automatizan completamente de acuerdo al método de
instalación y las respuestas a preguntas anteriores. De forma opcional, puede
añadir otros repositorios (locales).

# You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out
#d-i apt-setup/local0/key string http://local.server/key

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386


B.4.10. Selección de paquetes

Puede elegir la instalación de cualquier combinación de las tareas que están
disponibles. Las tareas disponibles en el momento de escribir estas líneas
incluyen:

  • standard (standard tools)

  • desktop (graphical desktop)

  • gnome-desktop (Gnome desktop)

  • xfce-desktop (XFCE desktop)

  • kde-desktop (KDE Plasma desktop)

  • cinnamon-desktop (Cinnamon desktop)

  • mate-desktop (MATE desktop)

  • lxde-desktop (LXDE desktop)

  • web-server (web server)

  • print-server (print server)

  • ssh-server (SSH server)

También puede no seleccionar ninguna tarea y forzar la instalación de un
conjunto de paquetes de alguna otra forma. Le recomendamos que siempre
introduzca la tarea Sistema estándar.

Puede utilizar el parámetro pkgsel/include para instalar paquetes individuales
además de los paquetes que las tareas instalan. Este parámetro toma valores que
pueden estar separados por comas o por espacios, de forma que se puede utilizar
fácilmente en la línea de órdenes del núcleo.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Paquetes individuales a instalar
#d-i pkgsel/include string openssh-server build-essential
# En caso de querer hacer actualización de paquetes después
# de debootstrap.
# Valores posibles: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# Algunas versiones del instalador pueden informar de las versiones
# de programas que tiene instalados y los programas que utiliza.
# Por omisión, no se envía ningún informe, pero estos informes
# ayudan al proyecto a determinar qué programas son más populares
# y que se deben incluir en los CD
#popularity-contest popularity-contest/participate boolean false

B.4.11. Instalación del cargador de arranque

# Grub is the default boot loader (for x86). If you want lilo installed
# instead, uncomment this:
#d-i grub-installer/skip boolean true
# To also skip installing lilo, and install no bootloader, uncomment this
# too:
#d-i lilo-installer/skip boolean true


# This is fairly safe to set, it makes grub install automatically to the MBR
# if no other operating system is detected on the machine.
d-i grub-installer/only_debian boolean true

# This one makes grub-installer install to the MBR if it also finds some other
# OS, which is less safe as it might not be able to boot that other OS.
d-i grub-installer/with_other_os boolean true

# Due notably to potential USB sticks, the location of the MBR can not be
# determined safely in general, so this needs to be specified:
#d-i grub-installer/bootdev  string /dev/sda
# To install to the first device (assuming it is not a USB stick):
#d-i grub-installer/bootdev  string default

# Alternatively, if you want to install to a location other than the mbr,
# uncomment and edit these lines:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# To install grub to multiple disks:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optional password for grub, either in clear text
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# or encrypted using an MD5 hash, see grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use the following option to add additional boot parameters for the
# installed system (if supported by the bootloader installer).
# Note: options passed to the installer will be added automatically.
#d-i debian-installer/add-kernel-opts string nousb

Con la orden grub-md5-crypt, o con la orden del ejemplo en Sección B.4.5,
"Configuración de cuentas de usuario" se puede generar un hash MD5 de una clave
para grub.

B.4.12. Finalizar la instalación

# En instalaciones desde la consola serial, las consolas virtuales usuales
# (VT1-VT6) están deshabilitadas normalmente en «/etc/inittab». Descomente
# la siguiente línea para evitar este comportamiento:
#d-i finish-install/keep-consoles boolean true

# Omitir el mensaje final sobre la finalización de la instalación.
d-i finish-install/reboot_in_progress note

# Esta opción impedirá que el instalador expulse el CD durante
# el reinicio, y puede ser útil en algunas circunstancias:
#d-i cdrom-detect/eject boolean false

# Para hacer que el sistema se detenga cuando termine la instalación en
# lugar de reiniciar al sistema instalado:
#d-i debian-installer/exit/halt boolean true
# Para apagar la máquina en lugar de detenerla:
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Preconfiguración de otros paquetes

# Dependiendo del software que elija instalar, o si las cosas no salen
# bien durante el proceso de instalación, es posible que se formulen
# otra preguntas. Por supuesto también puede preconfigurar éstas.
# Para obtener una lista de cada pregunta posible que podría llegar a ser
# formulada durante una instalación puede hacer una instalación y
# ejecutar estas órdenes:
#   debconf-get-selections --installer > fichero
#   debconf-get-selections >> fichero

B.5. Opciones avanzadas

B.5.1. Ejecutar órdenes personalizadas durante la instalación

Una opción muy potente y flexible que se ofrece con las herramientas de
preconfiguración es la capacidad de ejecutar órdenes o programas en distintos
puntos de la instalación.

When the filesystem of the target system is mounted, it is available in /
target. If an installation CD is used, when it is mounted it is available in /
cdrom.

# La preconfiguración de d-i es inherentemente insegura. Ninguna parte del
# instalador verifica intentos de desbordamiento de búfer u otras
# formas de malversación de los valores de un fichero de preconfiguración
# como éste. ¡Use solamente ficheros de preconfiguración de fuentes
# de confianza! Para poder gestionar esto, y porque generalmente es útil,
# a continuación ofrecemos una forma de ejecutar automáticamente cualquier
# orden de la línea de órdenes que desee dentro del instalador.

# Esta primera orden se ejecuta tan pronto como sea posible, después de
# leer el fichero de preconfiguración:
#d-i preseed/early_command string anna-install some-udeb
# Esta orden se ejecuta inmediatamente después de iniciar el particionador.
# Puede ser de utilidad aplicar una preconfiguración dinámica para el particionador
# que dependa del estado de los discos (que pueden no ser visibles cuando
# se ejecutó previamente preseed/early_command).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Ésta orden se ejecuta justamente antes de que finalice la instalación,
# pero cuando todavía existe un directorio «/target» usable. Puede
# hacer un chroot a «/target» y utilizarlo directamente o utilizar las
# órdenes «apt-install» e «in-target» para instalar fácilmente paquetes
# y ejecutar órdenes en el sistema destino
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Utilizar la preconfiguración para cambiar valores por omisión

Es posible utilizar la preconfiguración para cambiar la respuesta por omisión
para una pregunta, pero haciendo que aún se plantee tal pregunta. Para ello,
tiene que establecer de nuevo el campo seen (n. del t., «visto») como "false"
después de definir el valor para la pregunta.

d-i foo/bar string value
d-i foo/bar seen false

Puede conseguir el mismo efecto en todas las preguntas configurando el
parámetro preseed/interactive=true en el indicador de arranque. Esta opción
puede ser útil para probar o depurar su fichero de preconfiguración.

Tenga en cuenta que el propietario "d-i" solamente se debería usar en variables
usadas en el instalador. Para aquellas variables que pertenecen a paquetes
instalados en el sistema destino, debería usar el nombre del paquete. Vea el
pie de página en Sección B.2.2, "Usar parámetros de arranque para preconfigurar
preguntas".

Puede hacer que el instalador le realice una pregunta específica utilizando el
operador "?=" si está preconfigurando con parámetros del arranque. Por ejemplo,
foo/bar?=value (o propietario:foo/bar?=value). Esta opción sólo tendrá utilidad
en el caso de los parámetros que correspondan a preguntas que se muestran
durante la instalación y no para el caso de parámetros "internos".

Para obtener más información de depuración de fallos, utilice el parámetro de
arranque DEBCONF_DEBUG=5. Esto hace que debconf muestre muchos más detalles de
la configuración actual de cada variable, y acerca del progreso para cada
script de instalación de paquete.

B.5.3. Carga de ficheros de configuración en cadena

Es posible incluir otros ficheros de preconfiguración en el fichero de
configuración habitual. Cualquier configuración en estos ficheros modificará
los valores existentes de un fichero cargado anteriormente. Esto permite, por
ejemplo, poner la configuración general de red para su ubicación en un fichero
y poner configuraciones más específicas para algunas configuraciones en otros
ficheros.

# Se puede listar más de un fichero, separado por espacios, y se cargarán
# todos. Los ficheros incluidos también pueden tener directivas propias
# «preseed/include». Tenga en cuenta que si los nombres de
# fichero son relativos, éstos se toman del mismo directorio donde se
# ubica el fichero que los incluye.
#d-i preseed/include string x.cfg

# El instalador puede, opcionalmente, verificar las sumas de control
# de los ficheros de preconfiguración antes de utilizarlos. De momento
# sólo se pueden utilizar sumas MD5. Debe listar las sumas MD5 en el
# mismo orden en el que lista los ficheros a incluir.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d


# Esta opción es todavía más flexible: se ejecuta una orden de
# línea de órdenes y se incluyen nuevos ficheros si ésta
# imprime los nombres de otros ficheros de preconfiguración.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bob ]; then echo bob.cfg; fi

# Lo más flexible es descargar un programa y ejecutarlo. El programa
# puede utilizar órdenes como debconf-set para manipular la base de datos
# de debconf.
# Puede listar más de un script, separándolos entre sí con espacios.
# Tenga en cuenta que los nombres de fichero son relativos,
# se obtienen del mismo directorio donde está el fichero de
# preconfiguración que los ejecuta.
#d-i preseed/run string foo.sh

También es posible cargar en cadena desde la fase de imagen de arranque o
preconfiguración de fichero, a la preconfiguración con red definiendo «preseed/
url» en los ficheros anteriores. Esto hará que la preconfiguración de la red se
realice antes de configurar la red. Ha de tener cuidado cuando hace esto ya que
habrá dos ejecuciones independientes de la preconfiguación. Esto significa que
tiene dos oportunidades para ejecutar la orden «preseed/early», la segunda
tendrá lugar justo después de que se habilite el acceso a la red.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[22] El propietario de una variable debconf (o plantilla) normalmente es el
nombre del paquete que contiene la plantilla debconf en cuestión. El
propietario es "d-i" para el caso de las variables que se utilizan en el mismo
instalador. Las plantillas y las variables pueden tener más de un propietario,
lo que ayuda a determinar si se pueden eliminar de la base de datos de debconf
si se purga el paquete.

^[23] Preconfigurar locale como en_NL resultaría, en en_US.UTF-8 como la
configuración regional por omisión en el sistema instalado. Si prefiere, por
ejemplo. en_GB.UTF-8, tendrá que preconfigurar los valores de forma individual.

Apéndice C. Particionado en Debian

Tabla de contenidos

C.1. Decisiones sobre las particiones de Debian y sus tamaños
C.2. Árbol de directorios
C.3. Esquemas recomendados para el particionado
C.4. Nombres de dispositivos en Linux
C.5. Programas para particionar en Debian

    C.5.1. Particionado en 64-bit PC

C.1. Decisiones sobre las particiones de Debian y sus tamaños

Como mínimo, GNU/Linux necesita una partición para funcionar. Puede tener una
sola partición para alojar a todo el sistema operativo, aplicaciones y sus
ficheros personales. La mayoría de las personas creen que tener una partición
de intercambio también es necesario, a pesar de que no es estrictamente cierto.
La "partición de intercambio" (o «swap», N. del T.) es un espacio en sí dentro
del sistema operativo, el cual le permite al sistema usar espacio del disco
como "memoria virtual". Al crear una partición de intercambio separada, Linux
puede hacer un uso mucho más eficiente de ésta. Es posible forzar a Linux para
que use un fichero como espacio de intercambio, pero no es recomendable.

Sin embargo, la mayoría elige usar más que el número mínimo de particiones. Hay
dos razones por las que podría querer dividir su sistema de ficheros en varias
particiones pequeñas. La primera es por seguridad. Si algo ocurre y daña su
sistema de ficheros, generalmente sólo afectará una partición. Así, sólo tendrá
que sustituir solamente (desde los respaldos que cuidadosamente ha realizado)
una parte de su sistema. Como mínimo, debería crear lo que generalmente se
llama una "partición raíz". Ésta contiene los componentes esenciales del
sistema. Si daña alguna otra partición todavía podrá iniciar su sistema GNU/
Linux para solucionar el problema. Esto evita que tenga que instalar nuevamente
todo su sistema.

La segunda razón, es generalmente más importante cuando se instala una máquina
para trabajar, pero realmente depende del uso de su máquina. Por ejemplo, un
servidor de correo que recibe una gran cantidad de correo no deseado, se puede
llenar fácilmente y dejar sin espacio una partición, dejando el sistema
inutilizable. Si coloca /var/mail en una partición separada, por lo general su
sistema seguirá funcionado perfectamente, a pesar de recibir una gran cantidad
de de correo no deseado.

Realmente, la única desventaja de usar más particiones es que a menudo es
difícil saber por adelantado cuales serán sus necesidades. Si hace una
partición demasiado pequeña, deberá instalar el sistema nuevamente, creando de
nuevo las particiones que realmente requiere, o bien, tendrá que estar
constantemente haciendo espacio en su disco duro para que no se llene
completamente. Por otra parte, si hace la partición demasiado grande, perderá
el espacio que se podría utilizar en otra parte. Hoy en día los discos son
baratos, pero tampoco hay por qué gastar dinero innecesariamente.

C.2. Árbol de directorios

Debian GNU/Linux se basa en el Estándar de jerarquía de los sistemas de
ficheros (FHS) en lo que se refiere a directorios y nombres. Este estándar
permite predecir a los usuarios y programas la localización de ficheros y
directorios. El directorio raíz se representa por una barra vertical /. Todos
los sistemas Debian incluyen los siguientes directorios partiendo del
directorio raíz,

┌──────────┬──────────────────────────────────────────────────────────────────┐
│Directorio│                            Contenido                             │
├──────────┼──────────────────────────────────────────────────────────────────┤
│bin       │Binarios esenciales del sistema                                   │
├──────────┼──────────────────────────────────────────────────────────────────┤
│boot      │Ficheros estáticos utilizados por el cargador de arranque         │
├──────────┼──────────────────────────────────────────────────────────────────┤
│dev       │Ficheros de dispositivos                                          │
├──────────┼──────────────────────────────────────────────────────────────────┤
│etc       │Ficheros de configuración específicos del equipo                  │
├──────────┼──────────────────────────────────────────────────────────────────┤
│home      │Directorios de los usuarios                                       │
├──────────┼──────────────────────────────────────────────────────────────────┤
│lib       │Bibliotecas compartidas esenciales y módulos del núcleo           │
├──────────┼──────────────────────────────────────────────────────────────────┤
│media     │Puntos de montaje para medios extraíbles                          │
├──────────┼──────────────────────────────────────────────────────────────────┤
│mnt       │Punto de montaje temporal para un sistema de ficheros             │
├──────────┼──────────────────────────────────────────────────────────────────┤
│proc      │Directorio virtual que contiene la información del sistema        │
├──────────┼──────────────────────────────────────────────────────────────────┤
│root      │Directorio del usuario administrador del equipo                   │
├──────────┼──────────────────────────────────────────────────────────────────┤
│run       │Run-time variable data                                            │
├──────────┼──────────────────────────────────────────────────────────────────┤
│sbin      │Binarios esenciales del sistema                                   │
├──────────┼──────────────────────────────────────────────────────────────────┤
│sys       │Directorio virtual que contiene la información del sistema        │
├──────────┼──────────────────────────────────────────────────────────────────┤
│tmp       │Ficheros temporales                                               │
├──────────┼──────────────────────────────────────────────────────────────────┤
│usr       │Jerarquía secundaria                                              │
├──────────┼──────────────────────────────────────────────────────────────────┤
│var       │Datos variables                                                   │
├──────────┼──────────────────────────────────────────────────────────────────┤
│srv       │Datos de los servicios ofrecidos por el sistema                   │
├──────────┼──────────────────────────────────────────────────────────────────┤
│opt       │Paquetes de programas y aplicaciones opcionales instalados        │
│          │manualmente                                                       │
└──────────┴──────────────────────────────────────────────────────────────────┘

A continuación, se presenta una lista de consideraciones importantes con
respecto a los directorios y a las particiones. Tenga en cuenta que el uso de
disco varía mucho para algunas configuraciones específicas de sistemas y para
algunos patrones de uso específicos. Las recomendaciones indicadas a
continuación son guías generales y dan un punto de partida para el
particionado.

  • La partición raíz / siempre debe contener físicamente las particiones /etc,
    /bin, /sbin, /lib y /dev, sino el sistema no podrá arrancar. Habitualmente
    es suficiente tener de 250 a 350 MB para una partición raíz.

  • /usr: contiene todos los programas para usuarios (/usr/bin), bibliotecas (/
    usr/lib), documentación (/usr/share/doc), etc. Ésta es la parte del sistema
    de ficheros que requiere mayor espacio. Debe asignar al menos 500 MB de
    espacio de su disco. Debe incrementar el tamaño de esta partición en
    función del número y tipo de paquetes que vaya a instalar. Una instalación
    generosa de una estación de trabajo o servidor debería tener de 4 a 6 GB.

  • It is now recommended to have /usr on the root partition /, otherwise it
    could cause some trouble at boot time. This means that you should provide
    at least 600-750MB of disk space for the root partition including /usr, or
    5-6GB for a workstation or a server installation.

  • /var: aquí se almacenan todos los datos variables tales como los artículos
    de noticias, correo electrónico, sitios web, el cache del sistema de
    empaquetado, etc. El tamaño de este directorio depende directamente del uso
    que haga del sistema, pero para los usuarios normales el valor estará
    fijado por la sobrecarga de la herramienta de gestión de paquetes. Si
    planea hacer una instalación completa de todos los programas que le ofrece
    el sistema Debian, en una sola sesión, dejar 2 ó 3 GB de espacio para /var
    debería ser suficiente. Si va a instalar el sistema por partes (esto
    implica, instalar los servicios y herramientas, seguidos por herramientas
    de texto, luego el entorno gráfico, ...), debería asignar alrededor de 300
    ó 500 MB. Si va a ser un sistema donde no hará actualizaciones importantes
    y tiene problemas de espacio en disco puede llegar a funcionar con 30 ó 40
    MB.

  • /tmp: lo más probable es que los datos temporales de los programas se
    almacenen en este directorio. Asignar 40 ó 100 MB a esta partición debería
    ser suficiente. Algunas aplicaciones hacen uso de esta ubicación para
    almacenar ficheros de imágenes de gran tamaño temporalmente, éste es el
    caso de las herramientas manipulación de ficheros, de creación de CD ó DVD,
    y programas multimedia. Si va a utilizar este tipo de programas debería
    ajustar el tamaño disponible en /tmp.

  • /home: todos los usuarios guardarán sus datos en un subdirectorio de este
    directorio. El tamaño de éste depende del número de usuarios que tendrá en
    el sistema y los ficheros que guardarán en sus directorios. Dependiendo de
    lo que pretenda hacer, debería reservar alrededor de 100 MB para cada
    usuario pero deberá adaptar este valor a sus necesidades. Reserve mucho más
    espacio si planea guardar muchos ficheros multimedia (películas, MP3,
    fotografías, etc.) en su directorio de usuario.

C.3. Esquemas recomendados para el particionado

Para máquinas de usuarios novatos, equipos personales con Debian, sistemas para
el hogar y en general, cuando será usado por un solo usuario, probablemente una
partición en / (además de la de intercambio), es la forma más fácil de
comenzar. Sin embargo, si su partición es más grande que 6 GB, escoja ext3 como
el tipo de partición. Las particiones de tipo ext2 necesitan una revisión
periódica de la integridad del sistema de ficheros, y esto puede tomar bastante
tiempo al iniciar su sistema si su partición es demasiado grande.

For multi-user systems or systems with lots of disk space, it's best to put /
var, /tmp, and /home each on their own partitions separate from the /
partition.

Necesitará una partición /usr/local separada si planea instalar una gran
cantidad de programas que no son parte del sistema Debian. Si su máquina va a
ser un servidor de correo, necesitará crear una partición separada para /var/
mail. A menudo, dejar una partición separada para /tmp es una muy buena idea.
Es suficiente dejarla con 20 ó 50 MB. Si está configurando un servidor con una
gran cantidad de cuentas de usuarios, es altamente recomendable dejar separada
la partición /home. En general, cómo se debe particionar el disco depende del
uso que se quiera dar al ordenador.

Para sistemas muy complejos, debe leer el CÓMO de multidiscos. Éste contiene
información bastante profundizada, sobre todo de interés para ISPs, y de la
gente que desea instalar un servidor.

Con respecto al tamaño de la partición de intercambio, hay diversos puntos de
vista. Uno de ellos, que generalmente funciona muy bien, es asignar tanto
espacio a la partición de intercambio como memoria tenga su sistema. En la
mayoría de los casos no es recomendable que sea más pequeña que 16 MB.
Obviamente, hay excepciones a estas reglas. Si está tratando resolver 10000
ecuaciones simultáneas en una máquina con 256 MB de memoria, necesitará un
gigabyte (o más) de espacio de intercambio.

En algunas arquitecturas de 32 bits (m68k y PowerPC), el tamaño máximo para una
partición de intercambio es de 2 GB. Esto debería ser suficiente para cualquier
tipo de instalación. Sin embargo, si sus requisitos para el espacio de
intercambio son muy altos, probablemente debería tratar de separar la carga del
intercambio a través de diversos discos (también llamados "spindles") y, si es
posible, en diferentes canales SCSI o IDE. El núcleo podrá balancear el uso de
la zona de intercambio entre múltiples particiones de intercambio dando así un
mejor rendimiento.

Como ejemplo, considere una máquina antigua que posee 32 MB de RAM y un disco
duro IDE de 1.7 GB en /dev/sda. En este caso sería conveniente dejar una
partición de 500 MB para otro sistema operativo en /dev/sda1, 32 MB para la
partición de intercambio en /dev/sda3 y alrededor de 1.2 GB en /dev/sda2 usada
como la partición de Linux.

Para tener una idea de cuánto ocupa cada tarea que instale, puede que le
interese agregarlas después de completar su instalación. Por favor revise
Sección D.2, "Espacio en disco requerido para las tareas" para mayor
información.

C.4. Nombres de dispositivos en Linux

En Linux, los nombres de los discos y las particiones pueden ser diferentes que
los usados en otros sistemas operativos. Necesita conocer los nombres que Linux
emplea cuando crea y monta particiones. A continuación, una lista del esquema
básico de nombrado:

  • La primera unidad de disco flexible se llama /dev/fd0.

  • La segunda unidad de disco flexible se llama /dev/fd1.

  • The first hard disk detected is named /dev/sda.

  • The second hard disk detected is named /dev/sdb, and so on.

  • La primera unidad de un CD-ROM SCSI se llama /dev/scd0, también conocida
    como /dev/sr0.

Las particiones en cada disco son representadas añadiendo un número decimal al
nombre del disco: sda1 y sda2 representan a la primera y segunda partición en
la primera unidad de disco SCSI en el sistema.

Aquí un ejemplo de un caso real. Supongamos que tiene un sistema con 2 discos
SCSI, uno en la dirección SCSI 2 y el otro en la dirección SCSI 4. El primer
disco (en la dirección 2) se llama entonces sda, y el segundo sdb. Si el
dispositivo sda tiene 3 particiones, éstas se llamarán sda1, sda2, y sda3
respectivamente. Lo mismo se aplica a el disco sdb y sus particiones.

Note que si tiene dos adaptadores de concentrador de bus SCSI (p. ej.,
controladores), el orden de las unidades puede confundirse. La mejor solución
para este caso es revisar los mensajes de arranque del sistema, asumiendo que
conoce los modelos de los dispositivos y/o las capacidades.

Linux represents the primary partitions as the drive name, plus the numbers 1
through 4. For example, the first primary partition on the first drive is /dev/
sda1. The logical partitions are numbered starting at 5, so the first logical
partition on that same drive is /dev/sda5. Remember that the extended
partition, that is, the primary partition holding the logical partitions, is
not usable by itself.

C.5. Programas para particionar en Debian

Los desarrolladores de Debian han adaptado una gran cantidad de programas para
particionar. De esta forma, se puede trabajar con una gran cantidad de discos
duros y arquitecturas aceptadas por Debian. A continuación, se presenta una
lista de los programas que se pueden aplicar a su arquitectura.

partman

    La herramienta recomendada en Debian para particionar discos. Esta «navaja
    suiza» también puede ajustar el tamaño de las particiones, crear sistemas
    de ficheros (como se llama en Windows a "formatear") y asignarlos a sus
    respectivos puntos de montaje.

fdisk

    Es la herramienta original de Linux para particionar discos, buena para
    expertos.

    Sea cuidadoso si tiene una partición de FreeBSD en su máquina. Los núcleos
    instalados son compatibles con este tipo de partición, pero la manera en
    que fdisk la representa, puede (o no) ser un poco diferente. Para más
    información, revise el CÓMO de Linux+FreeBSD.

cfdisk

    Una herramienta para particionar a pantalla completa, muy fácil de usar.
    Recomendada para la mayoría de los usuarios.

    cfdisk no reconoce las particiones de FreeBSD, y nuevamente, los
    dispositivos mostrados en pantalla pueden ser un tanto diferentes a los que
    realmente tiene.

Se ejecutará uno de estos programas por omisión cuando seleccione Particionar
discos duros (o similar). Puede utilizar otro programa de particionado desde el
intérprete de órdenes en VT2, pero esto no es recomendable.

No se olvide de marcar su partición como "Bootable" (arrancable).

C.5.1. Particionado en 64-bit PC

Puede tener que ajustar el tamaño de su partición para disponer de suficiente
espacio libre para la instalación de Debian si ya tiene algún otro sistema
operativo como DOS o Windows, y desea preservarlo mientras haga la instalación.
El instalador puede ajustar los tamaños de sistemas de ficheros FAT y NTFS;
cuando llegue al paso de particionado en la instalación deberá elegir la opción
Manual y simplemente seleccionar una partición ya existente para cambiar su
tamaño.

Generalmente, la BIOS del ordenador añade restricciones adicionales para
particionar el disco. Hay un límite del número de particiones "primarias" y "
lógicas" que un disco puede almacenar. Adicionalmente, con las BIOS fabricadas
antes de 1994-98, existen limitaciones sobre la ubicación en el dispositivo
desde el que la la BIOS puede iniciar el sistema. Para más información,
consulte la documentación acerca de Cómo particionar en Linux, pero esta
sección incluye una visión general para guiarlo en la mayoría de las
situaciones posibles.

Las particiones "primarias" son el método original de particionado para discos.
Sin embargo, solamente puede haber cuatro de ellas. Para rebasar esta
limitación, se inventaron las particiones de tipo "extendida" y "lógica".
Estableciendo su partición primaria como partición extendida, puede subdividir
todo su espacio asignado dentro de ésta en particiones lógicas. Puede crear
hasta 60 particiones lógicas en cada partición extendida; sin embargo, puede
tener solamente una partición extendida por disco.

Linux limita a 255 particiones como máximo por cada disco SCSI (3 particiones
primarias, 252 particiones lógicas), y 63 particiones en una unidad IDE (3
particiones primarias, 60 particiones lógicas). Sin embargo, los sistemas
Debian GNU/Linux comunes proveen sólo 20 dispositivos por partición, por lo
tanto, no podrá instalar sobre la partición número 20 o siguientes, a menos que
haya creado manualmente los dispositivos para esas particiones.

Si tiene un disco IDE relativamente grande, y no esta utilizando LBA, ni
conductores de «overlay» (proporcionados a veces por los fabricantes de los
discos duros), la partición de inicio de su máquina (aquella que contiene la
imagen del núcleo Linux) debe estar ubicada en los primeros 1024 cilindros de
su disco duro (generalmente alrededor de 524 megabytes, sin considerar la
traducción que realiza el BIOS).

Esta restricción no se aplica si tiene un BIOS relativamente nuevo, (posterior
a 1995-98, dependiendo del fabricante) que permita las "especificaciones
avanzadas de los discos duros". Ambos Lilo, el gestor de arranque de Linux, y
la alternativa de Debian mbr deben usar el BIOS para leer el núcleo desde el
disco y cargarlo en la RAM. Si la BIOS dispone de las extensiones «int 0x13» de
acceso a discos grandes, se usarán esas extensiones. De otra manera, se
utilizará la interfaz nativa de acceso al disco, que no se podrá usar para
acceder a posiciones superiores al cilindro 1023. Una vez que se inicie Linux,
no tiene importancia el BIOS que tenga, ya que las restricciones ya no se
aplican más, puesto que Linux no utiliza el BIOS para acceder a los discos.

Si posee un disco grande, podría tener que usar las técnicas para la traducción
de cilindros, las cuales pueden ser configuradas desde el BIOS, opciones, tales
como LBA (Dirección lógica de bloques) o traducción de modo ("grande"), a
través de CHS. Puede ver más información acerca de estos problemas con discos
grandes en la Documentación acerca de discos grandes. Si está usando un esquema
de traducción de cilindros, y su BIOS no tiene la extensión para el uso de
discos grandes, su partición de arranque debe estar dentro de los primeros 1024
cilindros (según la visión traducida de la BIOS).

La manera recomendada de solucionar este problema, es creando una pequeña
partición (25 a 50 MB deberían ser suficientes) al principio del disco para
usarla como partición de arranque, y después, en el área restante, crear las
otras particiones que desee tener. Esta partición de arranque se debe montar en
/boot, ya que es en este directorio donde se almacenarán los núcleos de Linux.
Está configuración funcionará en cualquier sistema, sin importar si se utiliza
traducción LBA o CHS, ni tampoco si su BIOS permite usar las extensiones para
discos grandes.

Apéndice D. Información adicional

Tabla de contenidos

D.1. Dispositivos en Linux

    D.1.1. Configurar su ratón

D.2. Espacio en disco requerido para las tareas
D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

    D.3.1. Primeros pasos
    D.3.2. Instalar debootstrap
    D.3.3. Ejecutar debootstrap
    D.3.4. Configurar el sistema base
    D.3.5. Instalar un núcleo
    D.3.6. Configurar el gestor de arranque
    D.3.7. Remote access: Installing SSH and setting up access
    D.3.8. Toques finales

D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

    D.4.1. Requisitos
    D.4.2. Configurar el sistema origen
    D.4.3. Instalar el objetivo

D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

D.1. Dispositivos en Linux

Linux tiene varios ficheros especiales en /dev. Estos ficheros se llaman
ficheros de dispositivo pero no se comportan como los ficheros habituales. Los
tipos más comunes de ficheros de dispositivos son los de dispositivos de
bloques o de carácter. Estos ficheros son una interfaz al controlador de
dispositivo (parte del núcleo de Linux) que a su vez le permite el acceso al
hardware. Un tipo de fichero de dispositivo menos frecuente son las pipe (N.
del T., a veces traducido como «tubería»). En la tabla a continuación se lista
los ficheros de dispositivo más importantes.

┌───┬───────────────────────────┐
│fd0│Primera unidad de disquetes│
├───┼───────────────────────────┤
│fd1│Segunda unidad de disquetes│
└───┴───────────────────────────┘

┌────┬─────────────────────────────────────────┐
│sda │First hard disk                          │
├────┼─────────────────────────────────────────┤
│sdb │Second hard disk                         │
├────┼─────────────────────────────────────────┤
│sda1│Primera partición del primer disco duro  │
├────┼─────────────────────────────────────────┤
│sdb7│Seventh partition of the second hard disk│
└────┴─────────────────────────────────────────┘

┌───┬──────────────┐
│sr0│First CD-ROM  │
├───┼──────────────┤
│sr1│Second CD-ROM │
└───┴──────────────┘

┌───────┬─────────────────────────────────────────────────────────────────────┐
│ttyS0  │Puerto serie 0, COM1 en MS-DOS                                       │
├───────┼─────────────────────────────────────────────────────────────────────┤
│ttyS1  │Puerto serie 1, COM2 en MS-DOS                                       │
├───────┼─────────────────────────────────────────────────────────────────────┤
│psaux  │Ratón de tipo PS/2                                                   │
├───────┼─────────────────────────────────────────────────────────────────────┤
│gpmdata│Pseudo-dispositivo, repite los datos generados por el demonio GPM    │
│       │(ratón)                                                              │
└───────┴─────────────────────────────────────────────────────────────────────┘

┌─────┬────────────────────────────────────────────────────┐
│cdrom│Enlace simbólico a la unidad de CD-ROM              │
├─────┼────────────────────────────────────────────────────┤
│mouse│Enlace simbólico al fichero de dispositivo del ratón│
└─────┴────────────────────────────────────────────────────┘

┌────┬─────────────────────────────────────────────────────────┐
│null│Todo lo que se escriba en este dispositivo desaparecerá  │
├────┼─────────────────────────────────────────────────────────┤
│zero│Se pueden leer continuamente ceros desde este dispositivo│
└────┴─────────────────────────────────────────────────────────┘

D.1.1. Configurar su ratón

Puede usar su ratón tanto en consola de Linux (con gpm) como en el entorno de
ventanas X. Generalmente para lograr esto sólo tiene que instalar gpm y el
servidor de X. Ambos deberían configurarse para utilizar como dispositivo de
ratón /dev/input/mice. El protocolo de ratón a utilizar se llama exps2 en gpm,
y ExplorerPS/2 en X. Los ficheros de configuración son /etc/gpm.conf y /etc/X11
/xorg.conf respectivamente.

Para que su ratón funcione debe cargar algunos módulos del núcleo. El ratón se
detecta de forma automática en la mayoría de los casos, pero esto no siempre
sucede en el caso de ratones serie antiguos o ratones de bus ^[24], que son muy
raros salvo en el caso de utilizar ordenadores antiguos. A continuación se
resumen los módulos del núcleo necesarios para los distintos tipos de ratón:

┌────────┬──────────────────────────────────────────────────────────────────┐
│ Modulo │                           Descripción                            │
├────────┼──────────────────────────────────────────────────────────────────┤
│psmouse │ratón PS/2 mice (debería detectarse automáticamente)              │
├────────┼──────────────────────────────────────────────────────────────────┤
│usbhid  │ratón USB (debería detectarse automáticamente)                    │
├────────┼──────────────────────────────────────────────────────────────────┤
│sermouse│Para la mayoría de los ratones serie                              │
├────────┼──────────────────────────────────────────────────────────────────┤
│logibm  │Ratón de bus conectado a una tarjeta adaptadora de Logitech       │
├────────┼──────────────────────────────────────────────────────────────────┤
│inport  │Ratón de bus conectado a una tarjeta de ATI or InPort de Microsoft│
└────────┴──────────────────────────────────────────────────────────────────┘

Debe usar la orden modconf (en el paquete del mismo nombre) para cargar un
módulo para la controladora del ratón y mirar en la categoría kernel/drivers/
input/mouse.

D.2. Espacio en disco requerido para las tareas

Una instalación estándar para amd64, incluyendo todos los paquetes estándar y
el núcleo utilizado por omisión, ocupa 933 MB de espacio en disco. Una
instalación mínima base sin seleccionar la tarea "Sistema estándar" ocupará 701
MB.

Importante

En ambos casos es importante tener en cuenta que este es el espacio después de
haber terminado la instalación y de que se hayan borrado todos los ficheros
temporales. Tampoco tiene en cuenta la cantidad utilizada por el propio sistema
de ficheros, por ejemplo por los ficheros de «journal». Esto significa que hace
falta bastante más disco durante la instalación y durante el uso habitual del
sistema.

La siguiente tabla lista los tamaños indicados por aptitude para las tareas
listadas en tasksel. Tenga en cuenta que algunas tareas tienen componentes
comunes, de modo que el tamaño total instalado para dos tareas juntas podría
ser inferior al total obtenido al sumar sus tamaños individualmente.

Por omisión, el instalador de Debian instalará el entorno de escritorio GNOME,
pero puede seleccionar otros entornos de escritorio usando uno de las imágenes
de CD especiales, o especificando el entorno de escritorio deseado cuando se
inicia el instalador (consulte Sección 6.3.6.2, "Elegir e instalar programas").

Tenga en cuenta que tendrá que añadir los tamaños que se indican en la tabla al
tamaño de la instalación estándar para poder determinar el tamaño de sus
particiones. La mayoría del espacio en disco que se indica en "Tamaño instalado
" acabará utilizándose de /usr y en /lib. Por otro lado, el tamaño que se
indica en "Tamaño de descarga" será necesario (temporalmente) en /var.

┌──────────────────┬───────────────┬────────────────┬─────────────────────────┐
│      Tarea       │    Tamaño     │   Tamaño de    │ Espacio necesario para  │
│                  │instalado (MB) │ descarga (MB)  │      instalar (MB)      │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Entorno de        │               │                │                         │
│escritorio        │               │                │                         │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • GNOME         │2724           │785             │3509                     │
│(predeterminado)  │               │                │                         │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • KDE Plasma    │4244           │1280            │5524                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • Xfce          │2342           │657             │2999                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • LXDE          │2486           │707             │3193                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • MATE          │2857           │757             │3614                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│  • Cinnamon      │3824           │1102            │4926                     │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Servidor Web      │44             │11              │55                       │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Servidor de       │440            │91              │531                      │
│impresoras        │               │                │                         │
├──────────────────┼───────────────┼────────────────┼─────────────────────────┤
│Servidor de SSH   │2              │0               │2                        │
└──────────────────┴───────────────┴────────────────┴─────────────────────────┘

Puede que tasksel instale automáticamente una tarea de localización si está
realizando la instalación en un idioma que no sea el inglés, siempre y cuando
haya una disponible para su idioma. Los requisitos de espacio varían por idioma
pero debería, en este caso, tener en cuenta que podría necesitar 350 MB en
total para la descarga e instalación de esta tarea.

D.3. Instalar Debian GNU/Linux desde un sistema Unix/Linux

Esta sección explica cómo instalar Debian GNU/Linux desde un sistema Unix o
Linux existente, sin usar el instalador basado en menús, como se explica en el
resto de este manual. Los usuarios que se cambian a Debian GNU/Linux desde Red
Hat, Mandriva y SuSE han solicitado este CÓMO de "instalación cruzada". En esta
sección se asume alguna familiaridad con la introducción de órdenes en *nix y
navegación en el sistema de ficheros. En esta sección $ simboliza una orden a
introducirse en el sistema actual del usuario, mientras que # se refiere a una
orden introducida en la jaula ("chroot", N. del t.) de Debian.

Una vez que tenga el nuevo sistema Debian configurado a su preferencia, puede
migrar los datos existentes de sus usuarios (si fuese el caso) a éste y
continuar funcionando. Esto es por tanto una instalación "sin parada" de Debian
GNU/Linux. Es también una forma inteligente de tratar con hardware que no puede
utilizarse de forma sencilla con los distintos mecanismos de instalación o
arranque disponibles.

Nota

Dado que este proceso es, en gran parte, manual ha de tener en cuenta que
tendrá que hacer gran parte de la configuración básica del sistema por su
cuenta. Para poder hacer esto necesitará más conocimientos de Debian y en
general de Linux que si fuera a hacer una instalación normal. No espere que el
resultado de este procedimiento sea un sistema idéntico al que uno obtendría si
realizara la instalación normalmente. También debería tener en cuenta que este
procedimiento solamente describe los pasos básicos para configurar un sistema.
Es posible que puedan tener que realizarse pasos adicionales en la instalación
y/o configuración.

D.3.1. Primeros pasos

With your current *nix partitioning tools, repartition the hard drive as
needed, creating at least one filesystem plus swap. You need around 701MB of
space available for a console only install, or about 2486MB if you plan to
install X (more if you intend to install desktop environments like GNOME or KDE
Plasma).

A continuación, deberá crear sistemas de ficheros en sus particiones. Por
ejemplo, para crear un sistema de ficheros ext3 en la partición /dev/sda6 (es
nuestra partición raíz de ejemplo):

# mke2fs -j /dev/sda6

En cambio para crear un sistema de ficheros ext2, omita -j.

Inicialice y active la partición de intercambio (sustituya el número de
partición por la partición de intercambio de Debian que vaya a utilizar):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Monte una partición como /mnt/debinst (el punto de instalación, que será el
sistema de ficheros raíz (/) en su nuevo sistema). El nombre del punto de
montaje es estrictamente arbitrario, pero se utilizará este mismo nombre más
adelante.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Nota

Deberá crear y montar manualmente los directorios que sean necesarios antes de
continuar con la siguiente parte del proceso si desea montar partes del sistema
de ficheros (como por ejemplo "/usr") en particiones distintas.

D.3.2. Instalar debootstrap

debootstrap es la herramienta que usa el instalador de Debian, es también la
forma oficial de instalar un sistema base Debian. Usa wget y ar, pero, salvo
esto, sólo depende de /bin/sh y algunas herramientas básicas de Unix/Linux^[25]
. Si aún no lo ha hecho, instale wget y ar en su sistema actual, y luego
descargue e instale debootstrap.

Por otra parte, puede usar el siguiente procedimiento para instalarlo
manualmente. Cree un directorio temporal "trabajo" para extraer el fichero
«.deb» en él:

# mkdir trabajo
# cd trabajo

El binario de debootstrap se encuentra en el archivo de Debian (asegúrese de
elegir el fichero adecuado para su arquitectura). Descargue el paquete de 
debootstrap desde el almacén de paquetes en http://ftp.debian.org/debian/pool/
main/d/debootstrap/, copie el paquete al directorio "trabajo" y extraiga los
ficheros de éste. Necesitará privilegios de superusuario para instalar los
ficheros.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /ruta-completa-hasta-trabajo/trabajo/data.tar.gz | tar xv

D.3.3. Ejecutar debootstrap

debootstrap descargará los ficheros necesarios directamente desde el archivo
cuando lo ejecute. Puede sustituir ftp.es.debian.org/debian por cualquier
servidor de réplica del archivo Debian, en la orden de ejemplo que se muestra a
continuación. Es mejor que utilice un servidor de réplica cercano (es decir, en
una red próxima). Puede encontrar una lista completa de los servidores de
réplica en: http://www.debian.org/mirror/list.

Puede utilizar una dirección de fichero si tiene un CD de la versión buster de
Debian GNU/Linux montado en /cdrom. Para ello utilice, en lugar de la dirección
http, file:/cdrom/debian/.

Substitute one of the following for ARCH in the debootstrap command: amd64,
arm64, armel, armhf, i386, mips, mips64el, mipsel, powerpc, ppc64el, or s390x.

# /usr/sbin/debootstrap --arch ARCH buster \
     /mnt/debinst http://ftp.us.debian.org/debian

If the target architecture is different than the host, you should add the
--foreign option.

D.3.4. Configurar el sistema base

Now you've got a real Debian system, though rather lean, on disk. chroot into
it:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

If the target architecture is different from the host, you will need to first
copy qemu-user-static to the new host:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

After chrooting you may need to set the terminal definition to be compatible
with the Debian base system, for example:

# export TERM=xterm-color

Depending on the value of TERM, you may have to install the ncurses-term
package to get support for it.

If the target architecture is different from the host, you need to finish the
multi-stage boot strap:

/debootstrap/debootstrap --second-stage

D.3.4.1. Crear ficheros de dispositivos

Llegados a este punto el directorio /dev/ contiene solamente ficheros de
dispositivo muy básicos. Es posible que necesite ficheros de dispositivo
adicionales para llevar a cabo los pasos siguientes de la instalación. Hay
varias formas de hacerlo y el método que vaya a usar dependerá del sistema
inicial que esté usando para la instalación; si desea usar un núcleo modular o
no, si pretende usar ficheros de dispositivo dinámicos (p.ej. con udev) o
estáticos en el sistema nuevo.

Algunas de las opciones disponibles son las siguientes:

  • instale el paquete makedev, y cree un conjunto predeterminado de ficheros
    de dispositivo estáticos (después de acceder a la jaula chroot) con

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • cree manualmente sólo ficheros de dispositivos específicos con MAKEDEV

  • Monte /dev del sistema original encima del directorio /dev del sistema
    objetivo utilizando un enlace de montaje («bind mount», N. del T.) Ha de
    tener en cuenta que los programas de postinstalación de algunos paquetes
    pueden tratar de crear ficheros de dispositivo. Utilice esta opción con
    precaución.

D.3.4.2. Montar particiones

Necesita crear /etc/fstab.

# editor /etc/fstab

Este es un ejemplo que puede modificar según sus necesidades:

# /etc/fstab: información estática del sistema de ficheros.
#
# file system    mount point   type    options                  dump pass
/dev/XXX         /             ext3    defaults                 0    1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/fd0         /media/floppy auto    noauto,rw,sync,user,exec 0    0
/dev/cdrom       /media/cdrom  iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext3    rw,nodev                 0    2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0    2

Utilice mount -a para montar todos los sistemas de ficheros que ha especificado
en /etc/fstab o móntelos individualmente usando:

# mount /ruta  # por ej.:  mount /usr

Los sistemas Debian actuales tienen puntos de montaje para medios extraíbles
bajo /media, pero mantienen enlaces simbólicos por compatibilidad en /. Cree
esto si los necesita, como por ejemplo:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Puede montar el sistema de ficheros "proc" tantas veces como quiera y en
cualquier ubicación, aunque la ubicación habitual es /proc. Asegúrese de montar
proc antes de continuar si no usa mount -a:

# mount -t proc proc /proc

Si ejecuta la orden ls /proc debería ver que el directorio no está vacío. Si
esto falla, puede intentar montar "proc" fuera del entorno chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Configurar la zona horaria

Si se define la tercera línea del fichero /etc/adjtime como "UTC" o "LOCAL", se
determina si el sistema interpreta el reloj de hardware como UTC o como hora
local. Las siguientes órdenes le permiten configurar ésto.

# editor /etc/adjtime

Here is a sample:

0.0 0 0.0
0
UTC

La siguiente orden le permite elegir su zona horaria.

# dpkg-reconfigure tzdata

D.3.4.4. Configurar la red

To configure networking, edit /etc/network/interfaces, /etc/resolv.conf, /etc/
hostname and /etc/hosts.

# editor /etc/network/interfaces

Here are some simple examples from /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)
# See the interfaces(5) manpage for information on what options are
# available.
######################################################################

# The loopback interface isn't really required any longer, but can be used
# if needed.
#
# auto lo
# iface lo inet loopback

# To use dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# An example static IP setup: (network, broadcast and gateway are optional)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Enter your nameserver(s) and search directives in /etc/resolv.conf:

# editor /etc/resolv.conf

A simple example /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Enter your system's host name (2 to 63 characters):

# echo DebianHostName > /etc/hostname

And a basic /etc/hosts with IPv6 support:

127.0.0.1 localhost
127.0.1.1 DebianHostName

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

If you have multiple network cards, you should arrange the names of driver
modules in the /etc/modules file into the desired order. Then during boot, each
card will be associated with the interface name (eth0, eth1, etc.) that you
expect.

D.3.4.5. Configurar Apt

Debootstrap will have created a very basic /etc/apt/sources.list that will
allow installing additional packages. However, you may want to add some
additional sources, for example for source packages and security updates:

deb-src http://ftp.us.debian.org/debian buster main

deb http://security.debian.org/ buster/updates main
deb-src http://security.debian.org/ buster/updates main

Make sure to run apt update after you have made changes to the sources list.

D.3.4.6. Configurar la localización y el teclado

To configure your locale settings to use a language other than English, install
the locales support package and configure it. Currently the use of UTF-8
locales is recommended.

# apt install locales
# dpkg-reconfigure locales

To configure your keyboard (if needed):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Tenga en cuenta que no puede configurar el teclado mientras esté dentro del
chroot, pero se configurará en el siguiente reinicio.

D.3.5. Instalar un núcleo

Si intenta arrancar este sistema, probablemente querrá un núcleo Linux y un
gestor de arranque. Identifique los núcleos previamente empaquetados
disponibles con:

# apt search linux-image

A continuación, instale el paquete del núcleo deseado usando el nombre del
paquete.

# apt install linux-image-arch-etc

D.3.6. Configurar el gestor de arranque

To make your Debian GNU/Linux system bootable, set up your boot loader to load
the installed kernel with your new root partition. Note that debootstrap does
not install a boot loader, but you can use apt inside your Debian chroot to do
so.

Consulte info grub o man lilo.conf para las instrucciones sobre cómo configurar
el gestor de arranque. Si desea mantener el sistema que utilizó para instalar
Debian, simplemente añada una entrada para la instalación de Debian para su
grub2 existente editando el fichero grub.cfg o lilo.conf actual. También podría
copiar lilo.conf al nuevo sistema y editarlo allí. Ejecute lilo una vez termine
de editar el fichero (recuerde que éste usará el lilo.conf relativo al sistema
desde el cual lo ejecute).

Installing and setting up grub2 is as easy as:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

The second command will install grub2 (in this case in the MBR of sda). The
last command will create a sane and working /boot/grub/grub.cfg.

Estos ejemplos asumen que se ha creado el fichero de dispositivo /dev/sda.
Existen métodos alternativos para instalar grub2, pero están fuera del alcance
de este apéndice.

Aquí tiene un ejemplo básico de /etc/lilo.conf:

boot=/dev/sda6
root=/dev/sda6
install=menu
delay=20
lba32
image=/vmlinuz
initrd=/initrd.img
label=Debian

D.3.7. Remote access: Installing SSH and setting up access

In case you can login to the system via console, you can skip this section. If
the system should be accessible via the network later on, you need to install
SSH and set up access.

# apt install ssh

Root login with password is disabled by default, so setting up access can be
done by setting a password and re-enable root login with password:

# passwd
# editor /etc/ssh/sshd_config

This is the option to be enabled:

PermitRootLogin yes

Access can also be set up by adding an ssh key to the root account:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Lastly, access can be set up by adding a non-root user and setting a password:

# adduser joe
# passwd joe

D.3.8. Toques finales

As mentioned earlier, the installed system will be very basic. If you would
like to make the system a bit more mature, there is an easy method to install
all packages with "standard" priority:

# tasksel install standard

Of course, you can also just use apt to install packages individually.

Después de la instalación habrá muchos paquetes descargados en /var/cache/apt/
archives/. Puede liberar algo de espacio de disco ejecutando:

# apt clean

D.4. Instalar Debian GNU/Linux a través de una línea IP paralela (PLIP)

Esta sección explica cómo se puede instalar Debian GNU/Linux en un ordenador
que carezca de tarjeta de red y que sólo tiene un ordenador actuando como
pasarela conectado a través de un cable de "módem nulo" (también llamado cable 
"null-modem" o "null-printer"). El sistema pasarela debería estar conectado a
una red por la que se pueda acceder a una réplica de Debian (por ejemplo, en
Internet).

En el ejemplo de este apéndice se configura una conexión PLIP con una pasarela
que está conectada a Internet a través de una conexión de acceso telefónico
(ppp0). Se utilizarán las direcciones IP 192.168.0.1 y 192.168.0.2 para las
interfaces PLIP en el sistema a instalar (objetivo) y en el sistema origen,
respectivamente (estas direcciones IP deberían estar libres en su espacio de
direcciones de red).

La conexión PLIP que se configura durante la instalación también estará
disponible después del reinicio del sistema en el propio sistema instalado
(véase Capítulo 7, Arrancar desde su nuevo sistema Debian).

Antes de empezar deberá comprobar que la configuración de BIOS para el puerto
paralelo (dirección base de E/S ("IO address") e IRQ) de ambos sistemas, origen
y objetivo. Los valores más habituales son io=0x378 e irq=7.

D.4.1. Requisitos

  • Un sistema destino, llamado objetivo, donde se va a instalar Debian.

  • Los medios para la instalación del sistema; véase Sección 2.4, "Medios de
    instalación".

  • Otro sistema conectado a Internet que actuará como pasarela y llamaremos
    aquí sistema origen o simplemente origen.

  • Un cable "módem nulo" DB-25. Para más información sobre este cable e
    instrucciones de cómo hacer uno, puede consultar el documento
    PLIP-Install-HOWTO.

D.4.2. Configurar el sistema origen

El programa mostrado a continuación es un ejemplo sencillo que configura el
ordenador fuente como una pasarela a Internet utilizando ppp0.

#!/bin/sh

# Eliminamos los módulos que están ejecutándose en el núcleo para evitar
# conflictos y para reconfigurarlos manualmente.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Configura la interfaz plip (plip0 en este caso, pruebe en caso de duda "dmesg | grep plip" ).
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Configurar la pasarela.
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Instalar el objetivo

Arranque con el medio de instalación. Tiene que ejecutar la instalación en modo
experto, utilizando expert en el indicador de sistema del arranque. También
debe indicar los parámetros que necesite para los módulos del núcleo en el
indicador de sistema del arranque. Por ejemplo, deberá introducir lo que se
muestra a continuación si necesita arrancar el instalador y fijar los valores
necesarios a las opciones "io" e "irq" en el módulo parport_pc:

expert parport_pc.io=0x378 parport_pc.irq=7

Abajo se dan las respuestas que debería dar durante las distintas fases de la
instalación.

 1. Cargar componentes del instalador desde CD

    Seleccione la opción plip-modules de la lista, esto hará que el sistema de
    instalación pueda utilizar los controladores PLIP.

 2. Detección del hardware de red

      □ Si el objetivo tiene una tarjeta de red se mostrará una lista de los
        módulos con controladores para las tarjetas detectadas. Si quiere hacer
        que debian-installer utilice plip en lugar de éstas tendrá que
        deseleccionar todos los módulos de controladores listados. Obviamente,
        si el objetivo no tiene una tarjeta de red el instalador no mostrará
        esta lista.

      □ El instalador le preguntará si quiere seleccionar un módulo de
        controlador de red de la lista dado que antes no se ha seleccionado ni
        detectado una tarjeta de red. Seleccione el módulo plip.

 3. Configurar la red

      □ ¿Desea configurar automáticamente la red con DHCP? No

      □ Dirección IP: 192.168.0.1

      □ Dirección punto a punto: 192.168.0.2

      □ Direcciones de servidores de nombres: puede introducir la misma
        dirección que la que utiliza la fuente (consúltela en /etc/resolv.conf)

D.5. Instalación de Debian GNU/Linux a través de PPP sobre Ethernet (PPPoE)

El protocolo PPP sobre Ethernet (PPPoE) para banda ancha (ADSL o cable) es muy
común en algunos países cuando se establecen conexiones con un proveedor de
servicio de Internet. Si bien la configuración de la red a través de PPPoE no
se puede hacer en el instalador, puede hacerse funcionar de manera muy
sencilla. Esta sección explica cómo.

La configuración de la conexión PPPoE que se realice durante la instalación
también estará disponible al reiniciar en el sistema instalado (consulte
Capítulo 7, Arrancar desde su nuevo sistema Debian).

Necesitará instalar con una imagen de CD-ROM/DVD para poder contar con la
opción de configurar y usar PPPoE durante la instalación. No está habilitada en
otros métodos de instalación (p.ej. en el arranque por red).

La instalación a través de PPPoE es casi idéntica que cualquier otra
instalación. Las diferencias se explican en los pasos descritos a continuación.

  • Arranque el instalador con el parámetro de arranque modules=ppp-udeb^[26].
    Esta opción hará que se cargue y se ejecute automáticamente componente
    responsable de la configuración de PPPoE (ppp-udeb).

  • Siga los pasos iniciales usuales de instalación: selección de idioma, país
    y mapa de teclado, carga de componentes adicionales del instalador^[27]).

  • El siguiente paso es la detección de hardware de red, que permite
    identificar cualquier tarjeta Ethernet presente en su sistema.

  • Después de esto comienza la configuración específica de PPPoE. El
    instalador probará todas las interfaces Ethernet detectadas tratando de
    encontrar un concentrador PPPoE (un tipo de servidor que maneja las
    conexiones PPPoE).

    Es probable que el concentrador no se encuentre en el primer intento. Puede
    suceder usualmente en redes lentas o sobrecargadas o con servidores poco
    fiables. La mayoría de veces tendrá éxito un segundo intento de detección
    de un concentrador. Para volver a intentar, seleccione en el menú principal
    del instalador Configurar e iniciar una conexión PPPoE.

  • Después de haber encontrado el concentrador, se solicitará al usuario
    teclear su información de autenticación (el usuario y la clave de PPPoE).

  • En este punto el instalador usará la información proporcionada para
    establecer una conexión PPPoE. Si se proporcionó la información correcta,
    debería configurarse la conexión PPPoE y el instalador debería ser capaz de
    usarla para conectarse a Internet y descargar los paquetes a través de esta
    (en caso de que fuera necesario). El instalador se detendrá si la
    información de autenticación no es correcta o si se produce cualquier
    error, pero se podrá intentar de nuevo la configuración seleccionando la
    opción Configurar e iniciar una conexión PPPoE del menú.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[24] Los ratones serie tienen generalmente un conector de 9 pines con forma de
letra D. Los ratones de bus tienen un conector de 8 pines redondos, que no debe
confundirse con el conector de 6 pines redondo de los ratones PS/2 o el
conector redondo de cuatro pines de los ratones ADB.

^[25] Esto incluye las utilidades principales de GNU y órdenes como sed, grep, 
tar y gzip.

^[26] Consulte Sección 5.1.7, "La pantalla de arranque" para información acerca
de cómo añadir un parámetro de arranque.

^[27] En este paso se carga el componente ppp-udeb como uno de los componentes
adicionales. Si quiere instalar utilizando la prioridad media o baja (modo
experto), puede seleccionar manualmente el componente ppp-udeb en lugar de
indicar explícitamente el parámetro "modules" en el indicador de sistema del
arranque.

Apéndice E. Información administrativa

Tabla de contenidos

E.1. Acerca de este documento
E.2. Cómo contribuir a este documento
E.3. Contribuciones importantes
E.4. Reconocimiento de las marcas registradas

E.1. Acerca de este documento

Este manual fue creado para el instalador de Debian Sarge, basándose en el
manual de instalación de Woody para el sistema «boot-floppies», que se basaba a
su vez en los manuales de instalación de versiones previas de Debian, y
basándose también en el manual de instalación de la distribución Progeny,
publicado bajo los términos de la licencia GPL el año 2003.

Este documento está escrito en DocBook XML. Los formatos de salida han sido
generados por distintos programas utilizando la información de los paquetes
docbook-xml y docbook-xsl.

Se usan algunas de las funcionalidades de XML, como pueden ser las entidades o
atributos de perfil, para poder mantener adecuadamente este documento. Éstos
desempeñan un papel similar al de las variables y los condicionales en los
lenguajes de programación. Las fuentes en XML de este documento contienen la
información necesaria para cada una de las arquitecturas y se utilizan
atributos de perfil para aislar algunas partes del texto que son específicas de
cada arquitectura.

La traducción de este documento ha sido posible gracias a la colaboración y
trabajo de Javier Fernández-Sanguino Peña, Rubén Porras, Rudy Godoy, David
Moreno Garza, Bruno Barrera, Igor Támara, Omar Campagne Polaino, así como las
contribuciones en traducción y revisión de los miembros del equipo de
traducción a español de Debian (<debian-l10n-spanish@lists.debian.org>).

E.2. Cómo contribuir a este documento

Si tiene problemas o sugerencias relacionadas con este documento, debería
enviar un informe de errata dirigido al paquete installation-guide. Por favor,
utilice el paquete reportbug o lea la documentación en línea del Sistema de
seguimiento de fallos de Debian. Sería conveniente que revisara primero la
lista de erratas abiertas reportadas contra el paquete installation-guide para
ver si su problema ya ha sido reportado. Si es así, usted puede proporcionar
información adicional enviando un correo a <XXXX@bugs.debian.org>, donde XXXX
es el número asignado a la errata.

Better yet, get a copy of the DocBook source for this document, and produce
patches against it. The DocBook source can be found at the installation-guide
project on salsa. If you're not familiar with DocBook, don't worry: there is a
simple cheatsheet in the manuals directory that will get you started. It's like
html, but oriented towards the meaning of the text rather than the
presentation. Patches submitted to the debian-boot mailing list (see below) are
welcomed. For instructions on how to check out the sources via git, see README
from the source root directory.

Por favor no contacte directamente con los autores de este documento. Existe
una lista de discusión para el debian-installer en la que también se tratan los
contenidos de este manual. La lista de correo es <debian-boot@lists.debian.org
>. Puede obtener las instrucciones de cómo suscribirse a esta lista en las
páginas de subscripción a las listas de correo de Debian. Vd. también puede
leer, si lo desea, los archivos de las listas de correo en línea.

E.3. Contribuciones importantes

Bruce Perens, Sven Rudolph, Igor Grobman, James Treacy y Adam Di Carlo
escribieron la primera versión de documento. Sebastian Ley escribió el CÓMO de
instalación.

Miroslav Kuře ha documentado muchas de las nuevas funciones del instalador de
Sarge. Frans Pop ha sido el editor principal y responsable de publicación de
las distribuciones Etch, Lenny y Squeeze.

Muchos, muchos usuarios y desarrolladores de Debian han contribuido a este
documento. Queremos agradecer de forma particular las numerosas revisiones y
textos proporcionados por Michael Schmitz (compatibilidad con m68k), Frank
Neumann (autor original del Manual de instalación en Amiga), Arto Astala, Eric
Delaunay y Ben Collins (información sobre SPARC), Tapio Lehtonen, y Stéphane
Bortzmeyer. De igual manera queremos agradecer a Pascal Le Bail la valiosa
información de cómo arrancar un sistema utilizando memorias USB.

Hemos encontrado extremadamente útil los textos y la información disponibles,
entre otros, en el CÓMO de arranque del sistema a través de la red escrito por
Jim Mintha (no hay sitio web disponible), las PUF de Debian, las PUF de Linux/
m68k, las PUF de Linux en procesadores SPARC, o las PUF de Linux en Alpha,
entre otros. Queremos desde aquí reconocer el trabajo de los desarrolladores de
estas fuentes libres de información tan valiosas.

La sección en este manual de instalaciones en entornos de chroot (Sección D.3,
"Instalar Debian GNU/Linux desde un sistema Unix/Linux") se ha basado en parte
de documentos sobre los que Karsten M. Self tiene derechos de copia.

La sección en este manual que cubre las instalaciones a través plip (
Sección D.4, "Instalar Debian GNU/Linux a través de una línea IP paralela
(PLIP)") está basada en el PLIP-Install-HOWTO de Gilles Lamiral.

E.4. Reconocimiento de las marcas registradas

Todas las marcas registradas son propiedad de sus respectivos dueños.

Apéndice F. Licencia pública general GNU

Nota

This is an unofficial translation of the GNU General Public License into
Spanish. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL -- only
the original English text of the GNU GPL does that. However, we hope that this
translation will help Spanish speakers to better understand the GNU GPL.

Esta es una traducción no oficial al español de la GNU General Public License
realizada por Jesús González Barahona y Pedro de las Heras Quirós. No ha sido
publicada por la Free Software Foundation, y no establece legalmente las
condiciones de distribución para el software que usa la GNU GPL. Estas
condiciones se establecen solamente por el texto original, en inglés, de la GNU
GPL. Sin embargo, esperamos que esta traducción ayude a los hispanohablantes a
entender mejor la GNU GPL.

Versión 2, June 1991

Copyright (C) 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Se permite la copia y distribución de copias literales de este
documento, pero no se permite su modificación.

Preámbulo

Las licencias que cubren la mayor parte del software están diseñadas para
quitarle a usted la libertad de compartirlo y modificarlo. Por el contrario, la
Licencia Pública General de GNU pretende garantizarle la libertad de compartir
y modificar software libre, para asegurar que el software es libre para todos
sus usuarios. Esta Licencia Pública General se aplica a la mayor parte del
software del la Free Software Foundation y a cualquier otro programa si sus
autores se comprometen a utilizarla. (Existe otro software de la Free Software
Foundation que está cubierto por la Licencia Pública General de GNU para
Bibliotecas). Si quiere, también puede aplicarla a sus propios programas.

Cuando hablamos de software libre, estamos refiriéndonos a libertad, no a
precio. Nuestras Licencias Públicas Generales están diseñadas para asegurarnos
de que tenga la libertad de distribuir copias de software libre (y cobrar por
ese servicio si quiere), de que reciba el código fuente o que pueda conseguirlo
si lo quiere, de que pueda modificar el software o usar fragmentos de él en
nuevos programas libres, y de que sepa que puede hacer todas estas cosas.

Para proteger sus derechos necesitamos algunas restricciones que prohiban a
cualquiera negarle a usted estos derechos o pedirle que renuncie a ellos. Estas
restricciones se traducen en ciertas obligaciones que le afectan si distribuye
copias del software, o si lo modifica.

Por ejemplo, si distribuye copias de uno de estos programas, sea gratuitamente,
o a cambio de una contraprestación, debe dar a los receptores todos los
derechos que tiene. Debe asegurarse de que ellos también reciben, o pueden
conseguir, el código fuente. Y debe mostrarles estas condiciones de forma que
conozcan sus derechos.

Protegemos sus derechos con la combinación de dos medidas: 1. Ponemos el
software bajo copyright y 2. le ofrecemos esta licencia, que le da permiso
legal para copiar, distribuir y/o modificar el software.

También, para la protección de cada autor y la nuestra propia, queremos
asegurarnos de que todo el mundo comprende que no se proporciona ninguna
garantía para este software libre. Si el software se modifica por cualquiera y
éste a su vez lo distribuye, queremos que sus receptores sepan que lo que
tienen no es el original, de forma que cualquier problema introducido por otros
no afecte a la reputación de los autores originales.

Por último, cualquier programa libre está constantemente amenazado por patentes
sobre el software. Queremos evitar el peligro de que los redistribuidores de un
programa libre obtengan patentes por su cuenta, convirtiendo de facto el
programa en propietario. Para evitar esto, hemos dejado claro que cualquier
patente debe ser pedida para el uso libre de cualquiera, o no ser pedida.

Los términos exactos y las condiciones para la copia, distribución y
modificación se exponen a continuación.

LICENCIA PÚBLICA GENERAL GNU

Términos y condiciones para la copia, distribución y modificación

Esta Licencia se aplica a cualquier programa u otro tipo de trabajo que
contenga una nota colocada por el tenedor del copyright diciendo que puede ser
distribuido bajo los términos de esta Licencia Pública General. En adelante,
«Programa» se referirá a cualquier programa o trabajo que cumpla esa condición
y «trabajo basado en el Programa» se referirá bien al Programa o a cualquier
trabajo derivado de él según la ley de copyright. Esto es, un trabajo que
contenga el programa o una porción de él, bien en forma literal o con
modificaciones y/o traducido en otro lenguaje. Por lo tanto, la traducción está
incluida sin limitaciones en el término «modificación». Cada concesionario
(licenciatario) será denominado «usted».

Cualquier otra actividad que no sea la copia, distribución o modificación no
está cubierta por esta Licencia, está fuera de su ámbito. El acto de ejecutar
el Programa no está restringido, y los resultados del programa están cubiertos
únicamente si sus contenidos constituyen un trabajo basado en el Programa,
independientemente de haberlo producido mediante la ejecución del programa. El
que esto se cumpla, depende de lo que haga el programa.

Usted puede copiar y distribuir copias literales del código fuente del
Programa, según lo has recibido, en cualquier medio, supuesto que de forma
adecuada y bien visible publique en cada copia un anuncio de copyright adecuado
y un repudio de garantía, mantenga intactos todos los anuncios que se refieran
a esta Licencia y a la ausencia de garantía, y proporcione a cualquier otro
receptor del programa una copia de esta Licencia junto con el Programa.

Puede cobrar un precio por el acto físico de transferir una copia, y puede,
según su libre albedrío, ofrecer garantía a cambio de unos honorarios.

Puede modificar su copia o copias del Programa o de cualquier porción de él,
formando de esta manera un trabajo basado en el Programa, y copiar y distribuir
esa modificación o trabajo bajo los términos del apartado 1, antedicho,
supuesto que además cumpla las siguientes condiciones:

 a. a. Debe hacer que los ficheros modificados lleven anuncios prominentes
    indicando que los ha cambiado y la fecha de cualquier cambio.

 b. b. Debe hacer que cualquier trabajo que distribuya o publique y que en todo
    o en parte contenga o sea derivado del Programa o de cualquier parte de él
    sea licenciada como un todo, sin carga alguna, a todas las terceras partes
    y bajo los términos de esta Licencia.

 c. c. Si el programa modificado lee normalmente órdenes interactivamente
    cuando es ejecutado, debe hacer que, cuando comience su ejecución para ese
    uso interactivo de la forma más habitual, muestre o escriba un mensaje que
    incluya un anuncio de copyright y un anuncio de que no se ofrece ninguna
    garantía (o por el contrario que sí se ofrece garantía) y que los usuarios
    pueden redistribuir el programa bajo estas condiciones, e indicando al
    usuario cómo ver una copia de esta licencia. (Excepción: si el propio
    programa es interactivo pero normalmente no muestra ese anuncio, no se
    requiere que su trabajo basado en el Programa muestre ningún anuncio).

Estos requisitos se aplican al trabajo modificado como un todo. Si partes
identificables de ese trabajo no son derivadas del Programa, y pueden,
razonablemente, ser consideradas trabajos independientes y separados por ellos
mismos, entonces esta Licencia y sus términos no se aplican a esas partes
cuando sean distribuidas como trabajos separados. Pero cuando distribuya esas
mismas secciones como partes de un todo que es un trabajo basado en el
Programa, la distribución del todo debe ser según los términos de esta
licencia, cuyos permisos para otros licenciatarios se extienden al todo
completo, y por lo tanto a todas y cada una de sus partes, con independencia de
quién la escribió.

Por lo tanto, no es la intención de este apartado reclamar derechos o desafiar
sus derechos sobre trabajos escritos totalmente por usted mismo. El intento es
ejercer el derecho a controlar la distribución de trabajos derivados o
colectivos basados en el Programa.

Además, el simple hecho de reunir un trabajo no basado en el Programa con el
Programa (o con un trabajo basado en el Programa) en un volumen de
almacenamiento o en un medio de distribución no hace que dicho trabajo entre
dentro del ámbito cubierto por esta Licencia.

Puede copiar y distribuir el Programa (o un trabajo basado en él, según se
especifica en el apartado 2, como código objeto o en formato ejecutable según
los términos de los apartados 1 y 2, supuesto que además cumpla una de las
siguientes condiciones:

 a. a. Acompañarlo con el código fuente completo correspondiente, en formato
    electrónico, que debe ser distribuido según se especifica en los apartados
    1 y 2 de esta Licencia en un medio habitualmente utilizado para el
    intercambio de programas, o

 b. b. Acompañarlo con una oferta por escrito, válida durante al menos tres
    años, de proporcionar a cualquier tercera parte una copia completa en
    formato electrónico del código fuente correspondiente, a un coste no mayor
    que el de realizar físicamente la distribución del fuente, que será
    distribuido bajo las condiciones descritas en los apartados 1 y 2
    anteriores, en un medio habitualmente utilizado para el intercambio de
    programas, o

 c. c. Acompañarlo con la información que recibiste ofreciendo distribuir el
    código fuente correspondiente. (Esta opción se permite sólo para
    distribución no comercial y sólo si usted recibió el programa como código
    objeto o en formato ejecutable con tal oferta, de acuerdo con el apartado b
    anterior).

Por código fuente de un trabajo se entiende la forma preferida del trabajo
cuando se le hacen modificaciones. Para un trabajo ejecutable, se entiende por
código fuente completo todo el código fuente para todos los módulos que
contiene, más cualquier fichero asociado de definición de interfaces, más los
guiones utilizados para controlar la compilación e instalación del ejecutable.
Como excepción especial el código fuente distribuido no necesita incluir nada
que sea distribuido normalmente (bien como fuente, bien en forma binaria) con
los componentes principales (compilador, kernel y similares) del sistema
operativo en el cual funciona el ejecutable, a no ser que el propio componente
acompañe al ejecutable.

Si la distribución del ejecutable o del código objeto se hace mediante la
oferta acceso para copiarlo de un cierto lugar, entonces se considera la oferta
de acceso para copiar el código fuente del mismo lugar como distribución del
código fuente, incluso aunque terceras partes no estén forzadas a copiar el
fuente junto con el código objeto.

No puede copiar, modificar, sublicenciar o distribuir el Programa excepto como
prevé expresamente esta Licencia. Cualquier intento de copiar, modificar
sublicenciar o distribuir el Programa de otra forma es inválida, y hará que
cesen automáticamente los derechos que te proporciona esta Licencia. En
cualquier caso, las partes que hayan recibido copias o derechos de usted bajo
esta Licencia no cesarán en sus derechos mientras esas partes continúen
cumpliéndola.

No está obligado a aceptar esta licencia, ya que no la ha firmado. Sin embargo,
no hay hada más que le proporcione permiso para modificar o distribuir el
Programa o sus trabajos derivados. Estas acciones están prohibidas por la ley
si no acepta esta Licencia. Por lo tanto, si modifica o distribuye el Programa
(o cualquier trabajo basado en el Programa), está indicando que acepta esta
Licencia para poder hacerlo, y todos sus términos y condiciones para copiar,
distribuir o modificar el Programa o trabajos basados en él.

Cada vez que redistribuya el Programa (o cualquier trabajo basado en el
Programa), el receptor recibe automáticamente una licencia del licenciatario
original para copiar, distribuir o modificar el Programa, de forma sujeta a
estos términos y condiciones. No puede imponer al receptor ninguna restricción
más sobre el ejercicio de los derechos aquí garantizados. No es usted
responsable de hacer cumplir esta licencia por terceras partes.

Si como consecuencia de una resolución judicial o de una alegación de
infracción de patente o por cualquier otra razón (no limitada a asuntos
relacionados con patentes) se le imponen condiciones (ya sea por mandato
judicial, por acuerdo o por cualquier otra causa) que contradigan las
condiciones de esta Licencia, ello no le exime de cumplir las condiciones de
esta Licencia. Si no puede realizar distribuciones de forma que se satisfagan
simultáneamente sus obligaciones bajo esta licencia y cualquier otra obligación
pertinente entonces, como consecuencia, no puede distribuir el Programa de
ninguna forma. Por ejemplo, si una patente no permite la redistribución libre
de derechos de autor del Programa por parte de todos aquellos que reciban
copias directa o indirectamente a través de usted, entonces la única forma en
que podría satisfacer tanto esa condición como esta Licencia sería evitar
completamente la distribución del Programa.

Si cualquier porción de este apartado se considera inválida o imposible de
cumplir bajo cualquier circunstancia particular ha de cumplirse el resto y la
sección por entero ha de cumplirse en cualquier otra circunstancia.

No es el propósito de este apartado inducirle a infringir ninguna
reivindicación de patente ni de ningún otro derecho de propiedad o impugnar la
validez de ninguna de dichas reivindicaciones. Este apartado tiene el único
propósito de proteger la integridad del sistema de distribución de software
libre, que se realiza mediante prácticas de licencia pública. Mucha gente ha
hecho contribuciones generosas a la gran variedad de software distribuido
mediante ese sistema con la confianza de que el sistema se aplicará
consistentemente. Será el autor/donante quien decida si quiere distribuir
software mediante cualquier otro sistema y una licencia no puede imponer esa
elección.

Este apartado pretende dejar completamente claro lo que se cree que es una
consecuencia del resto de esta Licencia.

Si la distribución y/o uso de el Programa está restringida en ciertos países,
bien por patentes o por interfaces bajo copyright, el tenedor del copyright que
coloca este Programa bajo esta Licencia puede añadir una limitación explícita
de distribución geográfica excluyendo esos países, de forma que la distribución
se permita sólo en o entre los países no excluidos de esta manera. En ese caso,
esta Licencia incorporará la limitación como si estuviese escrita en el cuerpo
de esta Licencia.

La Free Software Foundation puede publicar versiones revisadas y/o nuevas de la
Licencia Pública General de tiempo en tiempo. Dichas nuevas versiones serán
similares en espíritu a la presente versión, pero pueden ser diferentes en
detalles para considerar nuevos problemas o situaciones. Cada versión recibe un
número de versión que la distingue de otras. Si el Programa especifica un
número de versión de esta Licencia que se refiere a ella y a «cualquier versión
posterior», tienes la opción de seguir los términos y condiciones, bien de esa
versión, bien de cualquier versión posterior publicada por la Free Software
Foundation. Si el Programa no especifica un número de versión de esta Licencia,
puedes escoger cualquier versión publicada por la Free Software Foundation.

Si quiere incorporar partes del Programa en otros programas libres cuyas
condiciones de distribución son diferentes, escribe al autor para pedirle
permiso. Si el software tiene copyright de la Free Software Foundation, escribe
a la Free Software Foundation: algunas veces hacemos excepciones en estos
casos. Nuestra decisión estará guiada por el doble objetivo de preservar la
libertad de todos los derivados de nuestro software libre y promover el que se
comparta y reutilice el software en general.

AUSENCIA DE GARANTÍA

Como el programa se licencia libre de cargas, no se ofrece ninguna garantía
sobre el programa, en toda la extensión permitida por la legislación aplicable.
Excepto cuando se indique de otra forma por escrito, los tenedores del
copyright y/u otras partes proporcionan el programa «tal cual», sin garantía de
ninguna clase, bien expresa o implícita, con inclusión, pero sin limitación a
las garantías mercantiles implícitas o a la conveniencia para un propósito
particular. Cualquier riesgo referente a la calidad y prestaciones del programa
es asumido por usted. Si se probase que el Programa es defectuoso, asume el
coste de cualquier servicio, reparación o corrección.

En ningún caso, salvo que lo requiera la legislación aplicable o haya sido
acordado por escrito, ningún tenedor del copyright ni ninguna otra parte que
modifique y/o redistribuya el Programa según se permite en esta Licencia será
responsable ante usted por daños, incluyendo cualquier daño general, especial,
incidental o resultante producido por el uso o la imposibilidad de uso del
Programa (con inclusión, pero sin limitación a la pérdida de datos o a la
generación incorrecta de datos o a pérdidas sufridas por usted o por terceras
partes o a un fallo del Programa al funcionar en combinación con cualquier otro
programa), incluso si dicho tenedor u otra parte ha sido advertido de la
posibilidad de dichos daños.

FIN DE TÉRMINOS Y CONDICIONES

Cómo aplicar estos términos a sus nuevos programas

Si usted desarrolla un nuevo Programa, y quiere que sea del mayor uso posible
para el público en general, la mejor forma de conseguirlo es convirtiéndolo en
software libre que cualquiera pueda redistribuir y cambiar bajo estos términos.

Para hacerlo, añada los siguientes anuncios al programa. Lo más seguro es
añadirlos al principio de cada fichero fuente para transmitir lo más
efectivamente posible la ausencia de garantía. Además cada fichero debería
tener al menos la línea de «copyright» y un indicador a dónde puede encontrarse
el anuncio completo.

una línea para indicar el nombre del programa y una rápida idea de qué hace.
Copyright (C) año  nombre del autor

Este programa es software libre. Puede redistribuirlo y/o modificarlo
bajo los términos de la Licencia Pública General de GNU según es
publicada por la Free Software Foundation, bien de la versión 2 de
dicha Licencia o bien (según su elección) de cualquier versión
posterior.

Este programa se distribuye con la esperanza de que sea útil, pero SIN
NINGUNA GARANTÍA, incluso sin la garantía MERCANTIL implícita o sin
garantizar la CONVENIENCIA PARA UN PROPÓSITO PARTICULAR. Véase la
Licencia Pública General de GNU para más detalles.

Debería haber recibido una copia de la Licencia Pública General junto
con este programa. Si no ha sido así, escriba a la Free Software
Foundation, Inc., en 59 Temple Place, Suite 330, Boston, MA 02111-1307
EEUU.

Añada también información sobre cómo contactar con usted mediante correo
electrónico y postal.

Si el programa es interactivo, haga que muestre un pequeño anuncio como el
siguiente, cuando comienza a funcionar en modo interactivo:

Gnomovision versión 69, Copyright (C)  año nombre del autor
Gnomovision no ofrece ABSOLUTAMENTE NINGUNA GARANTÍA. Para más
detalles escriba «show w».
Esto es software libre, y vd. es libre de redistribuirlo bajo ciertas
condiciones. Para más detalles escriba «show c».

Las órdenes hipotéticas «show w» y «show c» deberían mostrar las partes
adecuadas de la Licencia Pública General. Por supuesto, las órdenes que use se
pueden invocar de cualquier otra manera. Podrían incluso ser pulsaciones del
ratón o elementos de un menú (lo que sea apropiado para su programa).

También deberías conseguir que su empleador (si trabaja como programador) o tu
Universidad (si es el caso) firme un «renuncia de copyright» para el programa,
si es necesario. A continuación se ofrece un ejemplo, altere los nombres según
sea conveniente:

Yoyodyne, Inc. mediante este documento renuncia a cualquier interés de
derechos de copyright con respecto al programa Gnomovision (que
hace pasadas a compiladores) escrito por Pepe Programador.

firma de Pepito Grillo, 20 de diciembre de 1996
 Pepito Grillo, Presidente de Asuntillos Varios.

Esta Licencia Pública General no permite que incluya sus programas en programas
propietarios. Si su programa es una biblioteca de subrutinas, puede considerar
más útil el permitir el enlazado de aplicaciones propietarias con la
biblioteca. Si este es el caso, use la Licencia Pública General de GNU para
Bibliotecas en lugar de esta Licencia.

