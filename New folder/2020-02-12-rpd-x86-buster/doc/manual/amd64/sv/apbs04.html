<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>B.4. Innehållet av en förkonfigurationsfil (för buster)</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="Installationsguide för Debian GNU/Linux">
<link rel="up" href="apb.html" title="Appendix B. Automatiserad installation med förinställningar">
<link rel="prev" href="apbs03.html" title="B.3. Skapa en förkonfigurationsfil">
<link rel="next" href="apbs05.html" title="B.5. Avancerade inställningar">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">B.4. Innehållet av en förkonfigurationsfil (för buster)</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="apbs03.html"><img src="images/prev.png" alt="Föregående"></a> </td>
<th width="60%" align="center">Appendix B. Automatiserad installation med förinställningar</th>
<td width="20%" align="right"> <a accesskey="n" href="apbs05.html"><img src="images/next.png" alt="Nästa"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="preseed-contents"></a>B.4. Innehållet av en förkonfigurationsfil (för buster)</h2></div></div></div>
<p>Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som exempelfiler för förkonfiguration från <span class="phrase"><a class="ulink" href="../example-preseed.txt" target="_top">../example-preseed.txt</a></span>. </p>
<p>Observera att det här exemplet är baserat på en installation för Intel x86-arkitekturen. Om du installerar en annan arkitektur, vissa av exemplen (såsom tangentbordsval och installation av starthanteraren) kanske inte är relevanta och behöver ersättas av debconf-inställningar som är lämpliga för din arkitektur. </p>
<p>Detaljer om hur de olika komponenterna i Debian Installer faktiskt fungerar beskrivs i <a class="xref" href="ch06s03.html" title="6.3. Användning av individuella komponenter">Avsnitt 6.3, ”Användning av individuella komponenter”</a>. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-l10n"></a>B.4.1. Lokalanpassning</h3></div></div></div>
<p>During a normal install the questions about localization are asked first, so these values can only be preseeded via the initrd or kernel boot parameter methods. Auto mode (<a class="xref" href="apbs02.html#preseed-auto" title="B.2.3. Auto-läget">Avsnitt B.2.3, ”Auto-läget”</a>) includes the setting of <code class="literal">auto-install/enable=true</code> (normally via the <code class="literal">auto</code> preseed alias). This delays the asking of the localisation questions, so that they can be preseeded by any method. </p>
<p>Lokalen kan användas för att ange både språk och land samt kan vara en kombination av ett språk som stöds av <code class="classname">debian-installer</code> och ett känt land. Om kombinationen inte formar en giltig lokal så kommer installationsprogrammet att automatiskt välja en lokal som är giltig för det valda språket. För att ange lokalen som en uppstartsparameter, använd <strong class="userinput"><code>locale=<em class="replaceable"><code>sv_SE</code></em></code></strong>. </p>
<p>Även om denna metod är mycket enkel att använda så tillåter den inte förinställning av alla möjliga kombinationer av language, country och locale<a href="#ftn.idm3630" class="footnote" name="idm3630"><sup class="footnote">[23]</sup></a>. Så alternativt kan värdena förinställas individuellt. Språk och land kan även anges som uppstartsparametrar. </p>
<div class="informalexample"><pre class="screen"># Preseeding only locale sets language, country and locale.
d-i debian-installer/locale string en_US

# The values can also be preseeded individually for greater flexibility.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Optionally specify additional locales to be generated.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8
</pre></div>
<p>

</p>
<p>Keyboard configuration consists of selecting a keymap and (for non-latin keymaps) a toggle key to switch between the non-latin keymap and the US keymap. Only basic keymap variants are available during installation. Advanced variants are available only in the installed system, through <span class="command"><strong>dpkg-reconfigure keyboard-configuration</strong></span>. </p>
<div class="informalexample"><pre class="screen"># Tangentbordsval.
d-i keyboard-configuration/xkb-keymap select se
# d-i keyboard-configuration/toggle select No toggling
</pre></div>
<p>

</p>
<p>För att hoppa över konfiguration av tangentbordet kan du förinställa <code class="classname">keymap</code> med <strong class="userinput"><code>skip-config</code></strong>. Det här kommer att resultera i att kärnans tangentlayout fortsätter vara aktiv. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-network"></a>B.4.2. Nätverkskonfiguration</h3></div></div></div>
<p>Så klart, att förinställa nätverkskonfiguration kommer inte att fungera om du läser in din förkonfigurationsfil från nätverket. Men det är otroligt bra när du startar upp från en cd eller ett USB-minne. Om du läser in förkonfigurationsfiler från nätverket, kan du skicka med konfigurationsparametrar via kärnans uppstartsparametrar. </p>
<p>Om du behöver välja ett specifikt nätgränssnitt när du startar upp via nätverket före inläsning av en förkonfigurationsfil från nätverket, använd en uppstartsparameter såsom <strong class="userinput"><code>interface=<em class="replaceable"><code>eth1</code></em></code></strong>. </p>
<p>Även om förinställning av nätverkskonfigurationen normalt sett inte är möjlig när man använder förinställning via nätverk (med <span class="quote">”<span class="quote">preseed/url</span>”</span>) så kan du använda följande hack för att komma runt det, till exempel om du vill ställa in en statisk adress för nätverksgränssnittet. Hacket tvingar nätverkskonfigurationen att köras igen efter att förkonfigurationsfilen har lästs in genom att skapa ett <span class="quote">”<span class="quote">preseed/run</span>”</span>-skript som innehåller följande kommandon: </p>
<div class="informalexample"><pre class="screen">kill-all-dhcp; netcfg
</pre></div>
<p>

</p>
<p>Följande debconf-variabler är relevanta för nätverkskonfiguration. </p>
<div class="informalexample"><pre class="screen"># Disable network configuration entirely. This is useful for cdrom
# installations on non-networked devices where the network questions,
# warning and long timeouts are a nuisance.
#d-i netcfg/enable boolean false

# netcfg will choose an interface that has link if possible. This makes it
# skip displaying a list if there is more than one interface.
d-i netcfg/choose_interface select auto

# To pick a particular interface instead:
#d-i netcfg/choose_interface select eth1

# To set a different link detection timeout (default is 3 seconds).
# Values are interpreted as seconds.
#d-i netcfg/link_wait_timeout string 10

# If you have a slow dhcp server and the installer times out waiting for
# it, this might be useful.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# If you prefer to configure the network manually, uncomment this line and
# the static network configuration below.
#d-i netcfg/disable_autoconfig boolean true

# If you want the preconfiguration file to work on systems both with and
# without a dhcp server, uncomment these lines and the static network
# configuration below.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Static network configuration.
#
# IPv4 example
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6 example
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Any hostname and domain names assigned from dhcp take precedence over
# values set here. However, setting the values still prevents the questions
# from being shown, even if values come from dhcp.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# If you want to force a hostname, regardless of what either the DHCP
# server returns or what the reverse DNS entry for the IP is, uncomment
# and adjust the following line.
#d-i netcfg/hostname string somehost

# Disable that annoying WEP key dialog.
d-i netcfg/wireless_wep string
# The wacky dhcp hostname that some ISPs use as a password of sorts.
#d-i netcfg/dhcp_hostname string radish

# If non-free firmware is needed for the network or other hardware, you can
# configure the installer to always try to load it, without prompting. Or
# change to false to disable asking.
#d-i hw-detect/load_firmware boolean true
</pre></div>
<p>Observera att <span class="command"><strong>netcfg</strong></span> automatiskt kommer att fastställa nätmasken om <code class="classname">netcfg/get_netmask</code> inte har förinställts. I detta fall måste variabeln markeras som <code class="literal">seen</code> för automatiska installationer. I liknande fall kommer <span class="command"><strong>netcfg</strong></span> att välja en lämplig adress om <code class="classname">netcfg/get_gateway</code> inte har angivits. I specifika fall kan du även ställa in <code class="classname">netcfg/get_gateway</code> till <span class="quote">”<span class="quote">none</span>”</span> för att ange att ingen gateway ska användas. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-network-console"></a>B.4.3. Nätverkskonsoll</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Använd följande inställningar om du vill använda komponenten
# network-console för fjärrinstallation över SSH. Detta gäller endast
# om du tänker genomföra återstående del av installationen manuellt.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-mirror"></a>B.4.4. Spegelinställningar</h3></div></div></div>
<p>Beroende på installationsmetoden du använder, kan en spegel användas både för att hämta ytterligare komponenter för installationsprogrammet, för att installera grundsystemet och för att ställa in <code class="filename">/etc/apt/sources.list</code> för det installerade systemet. </p>
<p>Parametern <code class="classname">mirror/suite</code> bestämmer sviten för det installerade systemet. </p>
<p>Parametern <code class="classname">mirror/udeb/suite</code> bestämmer sviten för ytterligare komponenter för installationsprogrammet. Den är endast användbar att ställa in om komponenter faktiskt hämtas över nätverket och bör stämma överens med sviten som användes för att bygga initrd för installationsmetoden som används för installationen. Vanligtvis använder installationsprogrammet det korrekta värdet och det ska inte finnas något behov av att ställa in denna. </p>
<div class="informalexample"><pre class="screen"># Om du väljer ftp behöver strängen mirror/country inte ställas in.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.se.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Svit att installera.
#d-i mirror/suite string testing
# Svit att använda för att läsa in komponenter för installationsprogrammet (valfri).
#d-i mirror/udeb/suite string testing
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-account"></a>B.4.5. Kontoinställning</h3></div></div></div>
<p>The password for the root account and name and password for a first regular user's account can be preseeded. For the passwords you can use either clear text values or crypt(3) <span class="emphasis"><em>hashes</em></span>. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Varning]" src="images/warning.png"></td>
<th align="left">Varning</th>
</tr>
<tr><td align="left" valign="top"><p>Be aware that preseeding passwords is not completely secure as everyone with access to the preconfiguration file will have the knowledge of these passwords. Storing hashed passwords is considered secure unless a weak hashing algorithm like DES or MD5 is used which allow for bruteforce attacks. Recommended password hashing algorithms are SHA-256 and SHA512. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># Skip creation of a root account (normal user account will be able to
# use sudo).
#d-i passwd/root-login boolean false
# Alternatively, to skip creation of a normal user account.
#d-i passwd/make-user boolean false

# Root password, either in clear text
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# or encrypted using a crypt(3)  hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# To create a normal user account.
#d-i passwd/user-fullname string Debian User
#d-i passwd/username string debian
# Normal user's password, either in clear text
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# or encrypted using a crypt(3) hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Create the first user with the specified UID instead of the default.
#d-i passwd/user-uid string 1010

# The user account will be added to some standard initial groups. To
# override that, use this.
#d-i passwd/user-default-groups string audio cdrom video
</pre></div>
<p>Variablerna <code class="classname">passwd/root-password-crypted</code> och <code class="classname">passwd/user-password-crypted</code> kan också förinställas med <span class="quote">”<span class="quote">!</span>”</span> som dess värde. I det här fallet, kommer det motsvarande kontot att inaktiveras. Det här kan vara bekvämt för root-kontot, om så klart det finns en alternativ metod som tillåter administrativa aktiviteter eller root-inloggning (till exempel genom att använda autentisering via SSH-nyckel eller kommandot <span class="command"><strong>sudo</strong></span>). </p>
<p>The following command (available from the <code class="classname">whois</code> package) can be used to generate a SHA-512 based crypt(3) hash for a password: </p>
<div class="informalexample"><pre class="screen">mkpasswd -m sha-512
</pre></div>
<p>

</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-time"></a>B.4.6. Inställning av klocka och tidszon</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Kontrollerar om maskinvaruklockan är inställd till UTC eller inte.
d-i clock-setup/utc boolean true

# Du kanske vill ställa in den här till någon giltig inställning för $TZ;
# se innehållet i /usr/share/zoneinfo/ för giltiga värden.
d-i time/zone string Europe/Stockholm

# Kontrollerar om NTP ska användas för att ställa in klockan under installationen
d-i clock-setup/ntp boolean true
# NTP-server att använda. Standardvärdet är oftast ett bra värde.
#d-i clock-setup/ntp-server string ntp.exempel.se
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-partman"></a>B.4.7. Partitionering</h3></div></div></div>
<p>Using preseeding to partition the harddisk is limited to what is supported by <code class="classname">partman-auto</code>. You can choose to partition either existing free space on a disk or a whole disk. The layout of the disk can be determined by using a predefined recipe, a custom recipe from a recipe file or a recipe included in the preconfiguration file. </p>
<p>Stöd finns för att göra förinställningar för installationer som ska använda RAID, LVM och kryptering men inte med full flexibilitet som vid partitionering under en vanlig installation utan förinställningar. </p>
<p>Exemplet nedan ger bara grundläggande information om hur recept ska användas. För deltajerad information se filerna <code class="filename">partman-auto-recipe.txt</code> och <code class="filename">partman-auto-raid-recipe.txt</code> inkluderade i paketet <code class="classname">debian-installer</code>. Båda filerna finns också i <a class="ulink" href="https://salsa.debian.org/installer-team/debian-installer/tree/master/doc/devel" target="_top"><code class="classname">debian-installer</code>s källkodsförråd</a>. Observera att funktionaliteten som stöds kan skifta mellan utgåvor. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Varning]" src="images/warning.png"></td>
<th align="left">Varning</th>
</tr>
<tr><td align="left" valign="top"><p>Identifieringen av diskar är beroende på ordningen som deras drivrutiner läses in i. Om det finns flera diskar i systemet, bör du vara mycket säker på att den rätta disken kommer att väljas före förinställningen används. </p></td></tr>
</table></div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-example"></a>B.4.7.1. Partitioneringsexempel</h4></div></div></div>
<div class="informalexample"><pre class="screen"># If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the three predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false
</pre></div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-raid"></a>B.4.7.2. Partitionering med RAID</h4></div></div></div>
<p>Du kan även använda förinställning för att konfigurera partitioner på programvaru-RAID-kedjor. Nivåer som stöds är RAID 0, 1, 5, 6 och 10, skapa trasiga kedjor och ange reservenheter. </p>
<p>Om du använder RAID 1 kan du förinställa grub att installera sig på alla enheter som används i kedjan; se <a class="xref" href="apbs04.html#preseed-bootloader" title="B.4.11. Installation av starthanteraren">Avsnitt B.4.11, ”Installation av starthanteraren”</a>. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Varning]" src="images/warning.png"></td>
<th align="left">Varning</th>
</tr>
<tr><td align="left" valign="top"><p>Den här typen av automatiserad partitionering är lätt att göra fel. Det är också funktionalitet som har fått relativt lite testning från utvecklarna av <code class="classname">debian-installer</code>. Ansvaret att få ordning på de olika planerna (så att de fungerar och inte är i konflikt med annat) ligger hos användaren. Kontrollera <code class="filename">/var/log/syslog</code> om du springer på problem. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># The method should be set to "raid".
#d-i partman-auto/method string raid
# Specify the disks to be partitioned. They will all get the same layout,
# so this will only work if the disks are the same size.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Next you need to specify the physical partitions that will be used. 
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Last you need to specify how the previously defined partitions will be
# used in the RAID setup. Remember to use the correct partition numbers
# for logical partitions. RAID levels 0, 1, 5, 6 and 10 are supported;
# devices are separated using "#".
# Parameters are:
# &lt;raidtype&gt; &lt;devcount&gt; &lt;sparecount&gt; &lt;fstype&gt; &lt;mountpoint&gt; \
#          &lt;devices&gt; &lt;sparedevices&gt;

#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# For additional information see the file partman-auto-raid-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository.

# This makes partman automatically partition without confirmation.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
</pre></div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-mount-styles"></a>B.4.7.3. Kontrollera hur partitioner monteras</h4></div></div></div>
<p>Vanligtvis så monteras filsystem med hjälp av en universiellt unik identifierare (UUID) som en nyckel; detta tillåter att de monteras korrekt även om deras enhetsnamn ändras. UUID är långa och svåra att läsa, så om du föredrar, installationsprogrammet kan montera filsystem som är baserade på de traditionella enhetsnamnen, eller baserade på en etikett som du tilldelar det. Om du frågar installationsprogrammet att montera efter etikett så kommer alla filsystem som inte har en etikett att monteras efter ett UUID istället. </p>
<p>Enheter med stabila namn, såsom logiska LVM-volymer, kommer att fortsätta att använda deras traditionella namn istället för UUID. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Varning]" src="images/warning.png"></td>
<th align="left">Varning</th>
</tr>
<tr><td align="left" valign="top"><p>Traditionella enhetsnamn kan ändras baserat på ordningen i vilken kärnan upptäcker enheter vid uppstart, vilket kan orsaka att fel filsystem monteras. På samma sätt kan etiketter krocka om du ansluter en ny disk eller en USB-enhet och om det händer så kan beteendet för ditt system vara slumpmässigt. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># Standard är att montera efter UUID, men du kan även välja "traditional" för
# att använda traditionella enhetsnamn, eller "label" för att prova filsystemsetiketter
# innan installationsprogrammet faller tillbaka på UUID.
#d-i partman/mount_style select uuid
</pre></div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-base-installer"></a>B.4.8. Installation av grundsystem</h3></div></div></div>
<p>Det finns faktiskt inte speciellt mycket som kan förinställas för det här steget av installationen. De enda frågorna som ställs är angående installationen av kärnan. </p>
<div class="informalexample"><pre class="screen"># Configure APT to not install recommended packages by default. Use of this
# option can result in an incomplete system and should only be used by very
# experienced users.
#d-i base-installer/install-recommends boolean false

# The kernel image (meta) package to be installed; "none" can be used if no
# kernel is to be installed.
#d-i base-installer/kernel/image string linux-image-686
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-apt"></a>B.4.9. Apt-inställning</h3></div></div></div>
<p>Konfiguration av <code class="filename">/etc/apt/sources.list</code> och grundläggande konfigurationsalternativ är fullständigt automatiserade baserat på din installationsmetod och svar på tidigare ställda frågor. Du kan valfritt lägga till andra (lokala) förråd. </p>
<div class="informalexample"><pre class="screen"># You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out
#d-i apt-setup/local0/key string http://local.server/key

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386

</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-pkgsel"></a>B.4.10. Paketval</h3></div></div></div>
<p>Du kan välja att installera alla kombinationer av funktioner som finns tillgängliga. Tillgängliga funktioner just nu inkluderar: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><strong class="userinput"><code>standard</code></strong> (standard tools) </p></li>
<li class="listitem"><p><strong class="userinput"><code>desktop</code></strong> (graphical desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>gnome-desktop</code></strong> (Gnome desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>xfce-desktop</code></strong> (XFCE desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>kde-desktop</code></strong> (KDE Plasma desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>cinnamon-desktop</code></strong> (Cinnamon desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>mate-desktop</code></strong> (MATE desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>lxde-desktop</code></strong> (LXDE desktop) </p></li>
<li class="listitem"><p><strong class="userinput"><code>web-server</code></strong> (web server) </p></li>
<li class="listitem"><p><strong class="userinput"><code>print-server</code></strong> (print server) </p></li>
<li class="listitem"><p><strong class="userinput"><code>ssh-server</code></strong> (SSH server) </p></li>
</ul></div>
<p>Du kan även välja att inte installera några funktioner, och tvinga fram installationen av en uppsättning paket på något annat sätt. Vi rekommenderar alltid att inkludera funktionen <strong class="userinput"><code>standard</code></strong>. </p>
<p>Om du vill installera några individuella paket i tillägg till de paket som installeras av funktioner, kan du använda parametern <code class="classname">pkgsel/include</code>. Värdet för denna parameter kan vara en lista över paket, komma- eller blankstegsseparerad, vilket även tillåter att den enkelt kan användas på kommandoraden för kärnan. </p>
<div class="informalexample"><pre class="screen">#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Individuella paket att installera
#d-i pkgsel/include string openssh-server build-essential
# Huruvida paket ska uppgraderas efter debootstrap.
# Tillåtna värden: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# Vissa versioner av installationsprogrammet kan rapportera vilken programvara
# du har installerat och vilken programvara som du använder. Standard är att inte
# rapportera men att skicka in rapporter hjälper projektet att bestämma
# vilken programvara som är mest populär och sedan inkludera den på cd-skivorna.
#popularity-contest popularity-contest/participate boolean false
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-bootloader"></a>B.4.11. Installation av starthanteraren</h3></div></div></div>
<div class="informalexample"><pre class="screen"><span class="phrase"># Grub is the default boot loader (for x86). If you want lilo installed
# instead, uncomment this:
#d-i grub-installer/skip boolean true
# To also skip installing lilo, and install no bootloader, uncomment this
# too:
#d-i lilo-installer/skip boolean true</span>


# This is fairly safe to set, it makes grub install automatically to the MBR
# if no other operating system is detected on the machine.
d-i grub-installer/only_debian boolean true

# This one makes grub-installer install to the MBR if it also finds some other
# OS, which is less safe as it might not be able to boot that other OS.
d-i grub-installer/with_other_os boolean true

# Due notably to potential USB sticks, the location of the MBR can not be
# determined safely in general, so this needs to be specified:
#d-i grub-installer/bootdev  string /dev/sda
# To install to the first device (assuming it is not a USB stick):
#d-i grub-installer/bootdev  string default

# Alternatively, if you want to install to a location other than the mbr,
# uncomment and edit these lines:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# To install grub to multiple disks:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optional password for grub, either in clear text
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# or encrypted using an MD5 hash, see grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use the following option to add additional boot parameters for the
# installed system (if supported by the bootloader installer).
# Note: options passed to the installer will be added automatically.
#d-i debian-installer/add-kernel-opts string nousb
</pre></div>
<p>En MD5-hash för ett lösenord för <code class="classname">grub</code> kan genereras med kommandot <span class="command"><strong>grub-md5-crypt</strong></span> eller med kommandot från exemplet i <a class="xref" href="apbs04.html#preseed-account" title="B.4.5. Kontoinställning">Avsnitt B.4.5, ”Kontoinställning”</a>. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-finish"></a>B.4.12. Färdigställande av installationen</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Under installationer från seriellkonsoll är de vanliga virtuella konsollerna
# (VT1-VT6) vanligtvis inaktiverade i /etc/inittab. Avkommentera nästa
# rad för att förhindra detta.
#d-i finish-install/keep-consoles boolean true

# Undvik det sista meddelandet om att installationen är färdig.
d-i finish-install/reboot_in_progress note

# Det här kommer att förhindra installationsprogrammet från att mata ut cd-skivan
# under omstarten, vilket kan vara användbart i vissa situationer.
#d-i cdrom-detect/eject boolean false

# Så här gör man för att stänga av installationsprogrammet när det är färdigt,
# men utan att starta om till det installerade systemet.
#d-i debian-installer/exit/halt boolean true
# Det här kommer att stänga av maskinen istället för att bara stoppa den.
#d-i debian-installer/exit/poweroff boolean true
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-other"></a>B.4.13. Förinställning av andra paket</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Beroende på vilken programvara du väljer att installera, eller om saker går fel
# under installationsprocessen, är det möjligt att andra frågor kan ställas.
# Du kan förinställa de här också, så klart. För att få en lista på alla
# möjliga frågor som kan ställas under en installation, gör en
# installation, och kör sedan de här kommandona:
#   debconf-get-selections --installer &gt; fil
#   debconf-get-selections &gt;&gt; fil
</pre></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.idm3630" class="footnote"><p><a href="#idm3630" class="para"><sup class="para">[23] </sup></a> Förinställning av <code class="literal">locale</code> till <strong class="userinput"><code>en_NL</code></strong> skulle till exempel resultera i <code class="literal">en_US.UTF-8</code> som standardlokal för det installerade systemet. Om till exempel <code class="literal">en_GB.UTF-8</code> föredras istället så kommer värdena att behöva förinställas individuellt. </p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="apbs03.html"><img src="images/prev.png" alt="Föregående"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="apb.html"><img src="images/up.png" alt="Upp"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="apbs05.html"><img src="images/next.png" alt="Nästa"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">B.3. Skapa en förkonfigurationsfil </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Hem"></a></td>
<td width="40%" align="right" valign="top"> B.5. Avancerade inställningar</td>
</tr>
</table>
</div>
</body>
</html>
