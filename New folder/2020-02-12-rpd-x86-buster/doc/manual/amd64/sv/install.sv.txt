Installationsguide för Debian GNU/Linux

Copyright © 2004 - 2019 Debian Installer-teamet

Den här handboken är fri programvara; du kan distribuera den och/eller
modifiera den under villkoren för GNU General Public License. Referera till
licensen i Appendix F, GNU General Public License.

Sammanfattning

Det här dokumentet innehåller installationsinstruktioner för Debian GNU/Linux
10 system (kodnamn "buster") för arkitekturen 64-bit PC ("amd64"). Den
innehåller även referenser till mer information och information om hur du får
ut det mesta av ditt nya Debian-system.

Varning

This translation of the installation guide is not up-to-date and currently
there is noone actively working on updating it. Keep this in mind when reading
it; it may contain outdated or wrong information. Read or double-check the
English variant, if in doubt. If you can help us with updating the translation,
please contact <debian-boot@lists.debian.org> or the debian-l10n-xxx
mailinglist for this language. Many thanks

Översatt av Daniel Nylander <po@danielnylander.se>. Stort tack till Anders
Lennartsson för korrekturläsningen. GNU General Public License översattes av 
Mikael Pawlo. Skicka synpunkter på översättningen till 
<debian-l10n-swedish@lists.debian.org> eller <tp-sv@listor.tp-sv.se>.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Innehållsförteckning

Installation av Debian GNU/Linux 10 för amd64
1. Välkommen till Debian

    1.1. Vad är Debian?
    1.2. Vad är GNU/Linux?
    1.3. Vad är Debian GNU/Linux?
    1.4. What is the Debian Installer?
    1.5. Få tag på Debian
    1.6. Få tag på senaste versionen av det här dokumentet
    1.7. Organisering av det här dokumentet
    1.8. Om copyright och programvarulicenser

2. Systemkrav

    2.1. Maskinvara som stöds

        2.1.1. Arkitekturer som stöds
        2.1.2. CPU Support
        2.1.3. Bärbara datorer
        2.1.4. Flera processorer
        2.1.5. Graphics Hardware Support
        2.1.6. Maskinvara för anslutning till nätverk
        2.1.7. Punktskriftsskärmar
        2.1.8. Talsyntes (maskinvara)
        2.1.9. Kringutrustning och annan maskinvara

    2.2. Enheter som kräver fast programvara
    2.3. Köpa maskinvara specifikt för GNU/Linux

        2.3.1. Undvik proprietär eller sluten maskinvara

    2.4. Installationsmedia

        2.4.1. Cd-rom/Dvd-rom/Bd-rom
        2.4.2. USB-minne
        2.4.3. Nätverk
        2.4.4. Hårddisk
        2.4.5. Un*x eller GNU-system
        2.4.6. Lagringssystem som stöds

    2.5. Krav för minne och diskplats

3. Före installation av Debian GNU/Linux

    3.1. Översikt av installationsprocessen
    3.2. Säkerhetskopiera dina befintliga data!
    3.3. Information du behöver

        3.3.1. Dokumentation
        3.3.2. Hitta informationskällor för maskinvara
        3.3.3. Maskinvarukompatibilitet
        3.3.4. Nätverksinställningar

    3.4. Matcha minimikrav för maskinvara
    3.5. Förpartionering för system med flera operativsystem
    3.6. Inställning av maskinvara och operativsystem före installation

        3.6.1. Starta BIOS-inställningsmenyn
        3.6.2. Val av uppstartsenhet
        3.6.3. Systems with UEFI firmware
        3.6.4. Disabling the Windows 8 "fast boot" feature
        3.6.5. Maskinvaruproblem att se upp för

4. Få tag på installationsmedia

    4.1. Official Debian GNU/Linux CD/DVD-ROM Sets
    4.2. Hämta filer från Debian-speglar

        4.2.1. Var man får tag på installationsavbildningar

    4.3. Förbereda filer för uppstart med USB-minne

        4.3.1. Preparing a USB stick using a hybrid CD or DVD image
        4.3.2. Manually copying files to the USB stick
        4.3.3. Manually copying files to the USB stick -- the flexible way

    4.4. Förbereda filer för uppstart med hårddisk

        4.4.1. Hard disk installer booting from Linux using LILO or GRUB
        4.4.2. Hard disk installer booting from DOS using loadlin

    4.5. Förbered filerna för nätverksuppstart via TFTP

        4.5.1. Konfigurering av DHCP-server
        4.5.2. Konfigurera en BOOTP-server
        4.5.3. Aktivering av TFTP-server
        4.5.4. Flytta TFTP-avbildningarna till rätt plats

    4.6. Automatisk installation

        4.6.1. Automatisk installation med Debian Installer

5. Starta upp installationssystemet

    5.1. Starta upp installationsprogrammet på 64-bit PC

        5.1.1. Uppstart från USB-minne
        5.1.2. Uppstart från en cd-rom
        5.1.3. Starta upp från Windows
        5.1.4. Booting from DOS using loadlin
        5.1.5. Uppstart från Linux med LILO eller GRUB
        5.1.6. Uppstart via TFTP
        5.1.7. Uppstartsskärmen
        5.1.8. The Graphical Installer

    5.2. Hjälpmedel

        5.2.1. Installer front-end
        5.2.2. Punktskriftsskärmar med USB
        5.2.3. Punktskriftsskärmar med seriekabel
        5.2.4. Software Speech Synthesis
        5.2.5. Talsynteser (maskinvara)
        5.2.6. Brädenheter
        5.2.7. Tema med hög kontrast
        5.2.8. Zoom
        5.2.9. Expert install, rescue mode, automated install
        5.2.10. Accessibility of the installed system

    5.3. Uppstartsparametrar

        5.3.1. Boot console
        5.3.2. Parametrar för Debian Installer
        5.3.3. Använding av uppstartsparametrar för att besvara frågor
        5.3.4. Skicka parametrar till kärnmoduler
        5.3.5. Svartlistning av kärnmoduler

    5.4. Felsök installationsprocessen

        5.4.1. Tillförlitlighet för cd-rom
        5.4.2. Uppstartskonfiguration
        5.4.3. Software Speech Synthesis
        5.4.4. Vanliga installationsproblem på 64-bit PC
        5.4.5. Tolkning av kärnans uppstartsmeddelanden
        5.4.6. Rapportering av installationsproblem
        5.4.7. Skicka installationsrapporter

6. Användning av Debian Installer

    6.1. Hur installationsprogrammet fungerar

        6.1.1. Using the graphical installer

    6.2. Introduktion till komponenter
    6.3. Användning av individuella komponenter

        6.3.1. Konfiguration av Debians installationsprogram och maskinvara
        6.3.2. Skapa användare och lösenord
        6.3.3. Konfigurera klockan och tidszon
        6.3.4. Partitionering och val av monteringspunkter
        6.3.5. Installation av grundsystemet
        6.3.6. Installera ytterligare programvara
        6.3.7. Gör ditt system klart för uppstart
        6.3.8. Färdigställ installationen
        6.3.9. Felsökning
        6.3.10. Installation över nätverket

    6.4. Läsa in saknad fast programvara

        6.4.1. Förbereda ett media
        6.4.2. Fast programvara och det installerade systemet

7. Starta upp ditt nya Debian-system

    7.1. Sanningens minut
    7.2. Montering av krypterade volymer

        7.2.1. Problemlösning

    7.3. Logga in

8. Nästa steg och hur man ska gå vidare

    8.1. Stänga av systemet
    8.2. Orientera dig runt i Debian

        8.2.1. Debians paketsystem
        8.2.2. Ytterligare mjukvara tillgängligt för Debian
        8.2.3. Hantera programversioner
        8.2.4. Hantera cronjobb

    8.3. Ytterligare läsning och information
    8.4. Konfigurera ditt system att använda e-post

        8.4.1. Standardkonfiguration för e-post
        8.4.2. Skicka e-post utanför systemet
        8.4.3. Konfigurera e-postservern Exim4

    8.5. Bygg en ny kärna
    8.6. Återställning av ett trasigt system

A. Installationshjälp

    A.1. Förberedelser
    A.2. Starta upp installationsprogrammet

        A.2.1. Cd-rom
        A.2.2. USB-minne
        A.2.3. Uppstart från nätverk
        A.2.4. Uppstart från hårddisk

    A.3. Installation
    A.4. Sänd oss en installationsrapport
    A.5. Och till slut...

B. Automatiserad installation med förinställningar

    B.1. Introduktion

        B.1.1. Metoder för förinställning
        B.1.2. Begränsningar

    B.2. Användning av förinställningar

        B.2.1. Inläsning av förkonfigurationsfilen
        B.2.2. Användning av uppstartsparametrar för att förinställa frågor
        B.2.3. Auto-läget
        B.2.4. Användbara alias vid förinställning
        B.2.5. Använd en DHCP-server för att ange förkonfigurationsfiler

    B.3. Skapa en förkonfigurationsfil
    B.4. Innehållet av en förkonfigurationsfil (för buster)

        B.4.1. Lokalanpassning
        B.4.2. Nätverkskonfiguration
        B.4.3. Nätverkskonsoll
        B.4.4. Spegelinställningar
        B.4.5. Kontoinställning
        B.4.6. Inställning av klocka och tidszon
        B.4.7. Partitionering
        B.4.8. Installation av grundsystem
        B.4.9. Apt-inställning
        B.4.10. Paketval
        B.4.11. Installation av starthanteraren
        B.4.12. Färdigställande av installationen
        B.4.13. Förinställning av andra paket

    B.5. Avancerade inställningar

        B.5.1. Kör anpassade kommandon under installationen
        B.5.2. Användning av förinställningar för att ändra på standardvärden
        B.5.3. Kedjeinläsning av förkonfigurationsfiler

C. Partitionera för Debian

    C.1. Bestämma Debian-partitioner och storlekar
    C.2. Katalogträdet
    C.3. Rekommenderad partitionstabell
    C.4. Enhetsnamn i Linux
    C.5. Debians partitioneringsprogram

        C.5.1. Partitionera för 64-bit PC

D. Diverse bitar

    D.1. Linux-enheter

        D.1.1. Konfigurera din mus

    D.2. Nödvändig diskplats för funktioner
    D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

        D.3.1. Påbörja arbetet
        D.3.2. Installera debootstrap
        D.3.3. Kör debootstrap
        D.3.4. Konfigurera grundsystemet
        D.3.5. Installera en kärna
        D.3.6. Ställ in starthanteraren
        D.3.7. Remote access: Installing SSH and setting up access
        D.3.8. Slutgiltiga justeringar

    D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

        D.4.1. Krav
        D.4.2. Ställ in källor
        D.4.3. Installera måldatorn

    D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

E. Administrivia

    E.1. Om det här dokumentet
    E.2. Bidrag till det här dokumentet
    E.3. Stora bidragsgivare
    E.4. Varumärken

F. GNU General Public License

Tabellförteckning

3.1. Hardware Information Helpful for an Install
3.2. Rekommenderade minimala systemkrav

Installation av Debian GNU/Linux 10 för amd64

Vi är glada att du har valt att prova Debian och är säkra på att du kommer att
tycka att utgåvan av Debian GNU/Linux är unik. Debian GNU/Linux sammanför
högkvalitativa fria programvaror från hela världen och integrerar dem i en
sammanhängande helhet. Vi tror att du kommer att tycka att resultatet verkligen
är mer än summan av delarna.

Vi förstår att många av er vill installera Debian utan att läsa den här
handboken och Debian Installer är designad för att göra det möjligt. Om du inte
har tid att läsa hela installationsguiden just nu rekommenderar vi att du läser
installationshjälpen som går igenom den grundläggande installationsprocessen
och länkar till manualen för mer avancerade ämnen eller när saker går fel.
Installationshjälpen kan du hitta i Appendix A, Installationshjälp.

Med det sagt hoppas vi att du får tid att läsa större delen av den här
handboken och genom att göra det bli mer informerad och få positiva
erfarenheter av installationen.

Kapitel 1. Välkommen till Debian

Innehållsförteckning

1.1. Vad är Debian?
1.2. Vad är GNU/Linux?
1.3. Vad är Debian GNU/Linux?
1.4. What is the Debian Installer?
1.5. Få tag på Debian
1.6. Få tag på senaste versionen av det här dokumentet
1.7. Organisering av det här dokumentet
1.8. Om copyright och programvarulicenser

Det här kapitlet ger en överblick av Debian-projektet och Debian GNU/Linux. Om
du redan känner till historien bakom Debian-projektet och Debian GNU/
Linux-utgåvan kan du hoppa till nästa kapitel.

1.1. Vad är Debian?

Debian är en frivilligorganisation som är engagerad med att utveckla fri
programvara och främja idealen för Free Software Foundation. Debian-projektet
startade 1993 när Ian Murdock skickade ut en öppen inbjudan till
programvaruutvecklare om att bidra till en komplett och sammanhållen
programvaruutgåva baserad på den då relativt nya Linux-kärnan. Den relativt
lilla skaran av dedicerade entusiaster, ursprungligen finansierade av Free
Software Foundation och påverkade av GNU:s filosofi, har över åren som gått
växt till en organisation på ungefär 1000 Debian-utvecklare.

Debian-utvecklare är involverade i en uppsjö av aktiviteter såsom
administration av webbplatsen och FTP-servern, grafisk design, juridiska
aspekter för programvarulicenser, dokumentation samt, så klart, underhåll av
programvarupaketen.

Med avsikt att kommunicera vår filosofi och attrahera utvecklare som tror på
principerna som Debian står för har Debian-projektet publicerat ett antal
dokument som pekar ut våra värderingar och fungerar som guider till vad det
betyder att vara en Debian-utvecklare:

  • Debians sociala kontrakt är ett resultat av Debians engagemang för
    användare och utvecklare av fri programvara. Alla som godtar att följa det
    sociala kontraktet kan bli en underhållare. Alla underhållare kan
    introducera ny programvara i Debian -- om programvaran tillgodoser våra
    kriterier för att vara fritt och att paketet följer våra
    kvalitetsstandarder.

  • Debians riktlinjer för fri programvara (DFSG) är klara och koncisa regler
    för Debians kriterier för fri programvara. DFSG är ett mycket
    inflytelserikt dokument i den fria programvarurörelsen och var grundstenen
    för The Open Source Definition.

  • Debians Policymanual är en omfattande specifikation av Debian-projektets
    kvalitetsstandarder.

Debian-utvecklarna är också involverade i ett antal andra projekt, vissa
specifika till Debian, andra involverar några eller alla Linux-relaterade
projekt. Några exempel är:

  • Filesystem Hierarchy Standard (FHS) är ett försök att standardisera
    organiseringen av filsystemet för Linux. FHS kommer att tillåta
    programvaruutvecklare att fokusera på att utveckla program utan att behöva
    oroa sig för hur paketen kommer att installeras i olika utgåvor av GNU/
    Linux.

  • Debian Jr. är ett internt projekt vars mål är att göra Debian attraktivt
    även för unga användare.

För mer allmän information om Debian, se Debian GNU/Linux FAQ.

1.2. Vad är GNU/Linux?

Linux är ett operativsystem: ett antal program som låter dig interagera med din
dator och köra andra program.

Ett operativsystem innehåller olika fundamentala program som behövs för att din
dator så att den kan kommunicera och ta emot instruktioner från användare; läs
och skriva data till hårddiskar, band och skrivare; kontrollera användningen av
minne; och köra annan programvara. Den viktigaste delen av ett operativsystem
är kärnan. I ett GNU/Linux-system är Linux kärnkomponenten. Resten av systemet
innehåller andra program, många av dem skrevs av eller för GNU-projektet. För
att Linux-kärnan själv inte utgör ett fungerande operativsystem har vi
föredragit att använda termen "GNU/Linux" för att referera till system som
många personer vardagligen refererar till som "Linux".

Linux är modellerad efter ett Unix-operativsystem. Från början var Linux
designad att vara ett parallellbearbetande fleranvändarsystem. Dessa fakta är
tillräckliga att göra Linux olikt från andra välkända operativsystem. Dock är
Linux ännu mer olik än du kanske tror. I kontrast till andra operativsystem
äger ingen Linux. Mycket av dess utveckling är gjord av obetalda frivilliga.

Utvecklingen av vad senare blev GNU/Linux började 1984 när Free Software
Foundation började utvecklingen av ett fritt Unix-liknande operativsystem
kallat GNU.

GNU-projektet har utvecklat en omfattande samling av fria programverktyg för
att användas med Unix (tm) och Unix-liknande operativsystem såsom Linux. Dessa
verktyg ger användarna möjligheten att utföra vardagliga uppgifter (såsom
kopiering och borttagning av filer från systemet) till det mystiska (såsom
skriva och bygga program eller göra sofistikerad redigering i ett antal olika
dokumentformat).

Även om många grupper och individer har bidragit till Linux är den största
enskilda bidragsgivaren fortfarande Free Software Foundation som har skapat
inte bara de flesta av verktygen som används i Linux men även filosofin och
gemenskapen som gjorde Linux möjlig.

Linux-kärnan dök ursprungligen upp 1991 när en finsk systemvetare vid namn
Linus Torvalds tillkännagav en tidig version av ett alternativ till Minix till
en diskussionsgrupp på Usenet kallad comp.os.minix. Se Linux Internationals
sida om Linux historia.

Linus Torvalds continues to coordinate the work of several hundred developers
with the help of a number of subsystem maintainers. There is an official
website for the Linux kernel. Information about the linux-kernel mailing list
can be found on the linux-kernel mailing list FAQ.

Linux-användare har ofantlig frihet att välja sin programvara. Till exempel kan
Linux-användare välja från ett dussintal olika kommandoradsskal och flertalet
grafiska skrivbordsmiljöer. Det här urvalet är ofta förvillande för användare
av andra operativsystem som inte är vana att tänka att kommandoraden eller
skrivbordsmiljön faktiskt är något de kan ändra.

Linux är också mindre benägen att krascha, bättre på att köra fler än ett
program samtidigt och säkrare än många andra operativsystem. Med dessa fördelar
är Linux det snabbast växande operativsystemet på servermarknaden. På senare
tid har också Linux börjat bli populärt hos hem- och företagsanvändare.

1.3. Vad är Debian GNU/Linux?

Kombinationen av Debians filosofi, metodik, GNU-verktygen, Linux-kärnan och
andra viktiga fria programvaror formar en unik utgåva av programvaror kallad
Debian GNU/Linux. Den här utgåvan är uppbyggd av ett större antal av
programvarupaket. Varje paket i utgåvan innehåller exekverbara filer, skript,
dokumentation och konfigurationsinformation och har en paketansvarig som är
primärt ansvarig för att hålla paketen uppdaterade, hantera felrapporter och
kommunicera med den ursprungliga upphovsmannen/männen för den paketerade
programvaran. Vår extremt stora användarbas, kombinerad med vårt
felhanteringssystem ser till att problem hittas och löses snabbt.

Debians beaktande av detaljer gör att vi kan skapa en högkvalitativ, stabil och
skalbar utgåva. Installationer kan lätt konfigureras för att hantera olika
roller, från bantade installationer för brandväggar till arbetsstationer för
vetenskapliga ändamål eller högprestandaservrar.

Debian är speciellt populär bland erfarna användare för dess tekniska
förträfflighet och sitt djupa engagemang för behov och förväntningar hos
användare och utvecklare av Linux. Debian har också introducerat många
funktioner till Linux som nu är vardagsmat.

Till exempel var Debian den första Linux-utgåvan som inkluderade ett
pakethanteringssystem för enkel installation och borttagning av programvara.
Den var också den första Linux-utgåvan som kunde bli uppgraderad utan att kräva
ominstallation.

Debian fortsätter att vara ledande inom Linux-utvecklingen. Dess
utvecklingsprocess är ett exempel på hur bra utvecklingsmodellen för öppen
källkod kan fungera -- även för mycket komplexa uppgifter såsom byggnation och
underhåll av ett komplett operativsystem.

Funktionen som mest utmärker Debian från de andra Linux-utgåvorna är dess
pakethanteringssystem. Dessa verktyg ger administratören för Debian-systemet
total kontroll över paketen som installeras på ett system inklusive möjligheten
att installera enstaka paket eller automatiskt uppdatering av hela
operativsystemet. Individuella paket kan också skyddas från att uppdateras. Du
kan även tala om för pakethanteringssystemet om programvara du själv har byggt
och vilka beroenden de uppfyller.

För att skydda ditt system mot "trojanska hästar" och annan ondsint programvara
verifierar Debians servrar att uppskickade paket verkligen kommer från dess
registrerade Debian-ansvarige. Debian-paketerare är också noggranna med att
deras paket konfigureras på ett säkert sätt. Om säkerhetsproblem upptäcks i
utsända paket kommer normalt sett rättningar på problemen mycket snabbt. Men
Debians enkla uppdateringsmöjligheter kan säkerhetsrättningar hämtas och
installeras automatiskt över hela Internet.

Den primära, och bästa, metoden att få support för ditt Debian GNU/Linux-system
och kommunicera med Debians utvecklare är genom de många sändlistor som
underhålls av Debian-projektet (det är mer än 317 listor när det här skrivs).
Det enklaste sättet att prenumerera på en eller flera av dessa listor är att
besöka Prenumerera på Debians sändlistor och fylla i formuläret du hittar där.

1.4. What is the Debian Installer?

Debian Installer, also known as "d-i", is the software system to install a
basic working Debian system. A wide range of hardware such as embedded devices,
laptops, desktops and server machines is supported and a large set of free
software for many purposes is offered.

The installation is conducted by answering a basic set of questions. Also
available are an expert mode that allows to control every aspect of the
installation and an advanced feature to perform automated installations. The
installed system can be used as is or further customized. The installation can
be performed from a multitude of sources: USB, CD/DVD/Blu-Ray or the network.
The installer supports localized installations in more than 80 languages.

The installer has its origin in the boot-floppies project, and it was first
mentioned by Joey Hess in 2000. Since then the installation system has been
continuously developed by volunteers improving and adding more features.

More information can be found on the Debian Installer page, on the Wiki and on
the debian-boot mailing list.

1.5. Få tag på Debian

För information om hur man hämtar Debian GNU/Linux från Internet eller från var
man kan köpa officiella Debian cd-skivor, se webbsidan Få tag på Debian.
Webbsidan Hämta Debian från Internet innehåller en full lista av officiella
Debian-speglar så du lätt kan hitta den närmaste.

Debian kan efter installationen uppgraderas på ett enkelt sätt.
Installationsprocessen kommer att hjälpa till att ställa in systemet så att du
kan göra dessa uppgraderingar när installation är klar, om det behövs.

1.6. Få tag på senaste versionen av det här dokumentet

Det här dokumentet är under konstant omarbetning. Se på webbsidorna för Debian
10 efter den absolut senaste information om 10-utgåvan av Debian GNU/
Linux-systemet. Uppdaterade versioner av den här installationshandboken finns
också tillgängliga från officiella installationshandboken.

1.7. Organisering av det här dokumentet

Det här dokumentet är tänkt att fungera som en handbok för nybörjare av Debian.
Den försöker göra så få antaganden som möjligt om din kunskapsnivå. Dock antar
vi att du har en allmän uppfattning av hur maskinvaran i din dator fungerar.

Expertanvändare kan också hitta intressant referensinformation i det här
dokumentet inklusive minimistorlek för installation, detaljer om vilken
maskinvara som stöds av Debians installationssystem och så vidare. Vi
uppmuntrar expertanvändare att hoppa runt i dokumentet.

I allmänhet är handboken uppbyggd i en linjär form som tar dig genom
installationsprocessen från början till slut. Här är stegen som krävs för att
installera Debian GNU/Linux och avsnitten i det här dokumentet som motsvarar
varje steg:

 1. Ta reda på om din maskinvara möter kraven för att använda
    installationssystemet i Kapitel 2, Systemkrav.

 2. Säkerhetskopiering av ditt system, all nödvändig planering och
    maskinvarukonfigurering före du installerar Debian finns i Kapitel 3, Före
    installation av Debian GNU/Linux. Om du förbereder ett system med flera
    operativsystem kan du behöva skapa ytterligare partitioner på din hårddisk
    som Debian kan användas för.

 3. I Kapitel 4, Få tag på installationsmedia kan du hitta de nödvändiga
    installationsfilerna för din installationsmetod.

 4. The next Kapitel 5, Starta upp installationssystemet describes booting into
    the installation system. This chapter also discusses troubleshooting
    procedures in case you have problems with this step.

 5. Genomför den aktuella installationen enligt Kapitel 6, Användning av Debian
    Installer. Det här innefattar ditt val av språk, konfiguration av
    drivrutiner för kringutrustning, konfiguration av nätverksanslutning så att
    återstående installationsfiler kan hämtas direkt från en Debian-server (om
    du inte installerar från en cd/dvd), partitionering av dina hårddiskar och
    installation av ett grundsystem och efter det val och installation av paket
    för vissa funktioner. (Viss bakgrund om inställning av partitioner för ditt
    Debian-system finns förklarat i Appendix C, Partitionera för Debian.)

 6. Starta upp ditt nyinstallerade grundsystem, från Kapitel 7, Starta upp ditt
    nya Debian-system.

När du har fått ditt system installerat kan du läsa Kapitel 8, Nästa steg och
hur man ska gå vidare. Det här kapitlet förklarar var man letar för att finna
mer information om Unix och Debian och hur du ersätter din kärna.

Till slut, information om det här dokumentet och hur man bidrar till det kan
hittas i Appendix E, Administrivia.

1.8. Om copyright och programvarulicenser

Vi är säkra på att du läst några av licenserna som kommer med de flesta
kommersiella programvaror -- de säger normalt sett att du bara kan använda en
kopia av programvaran på en enda dator. Licensen för det här systemet är inte
alls som sådan. Vi uppmuntrar dig att lägga en kopia av Debian GNU/Linux på
varje dator i din skola eller arbetsplats. Låna ut ditt installationsmedium
till dina vänner och hjälp dem att installera det på deras datorer! Du kan även
göra tusentals kopior och sälja dem -- dock med några få restriktioner. Din
frihet att installera och använda systemet kommer direkt från att Debian är
baserad på fri programvara.

Att kalla programvara för fri betyder inte att programvaran inte är
upphovsrättsskyddad och det betyder inte att cd/dvd-skivor som innehåller den
programvaran måste distribueras gratis. Fri programvara, i den bemärkelsen
betyder att licenser för individuella program inte kräver att du betalar för
rättigheten att distribuera eller använda de programmen. Fri programvara
betyder också att alla inte bara kan utöka, justera och ändra programvaran men
också att du kan distribuera resultatet av sådant arbete.

Notera

Debian-projektet gör som ett praktiskt tillmötesgående mot sina användare vissa
paket med programvara tillgängliga, vilka inte uppfyller våra kriterier för att
vara fria. Dessa paket är dock inte en del av den officiella utgåvan och är
bara tillgängliga från områdena contrib eller non-free av Debian-speglarna
eller på tredjeparts cd/dvd-skivor, se Debian GNU/Linux FAQ under "Debians
FTP-arkiv" för mer information om utseendet och innehåller av arkiven.

Många av programmen i system är licensierade under GNU General Public License
och refereras ofta till som "GPL". GPL kräver att du gör källkoden av
programmen tillgängliga när du distribuerar en binär kopia av programmet; det
villkoret av licensen ser till att alla användare har möjligheten att modifiera
programvaran. På grund av det här villkoret är källkoden^[1] för alla sådana
program är tillgänglig i Debian-systemet.

Det finns ytterligare flera olika copyrightvillkor och programvarulicenser som
används av programmen i Debian. Du kan hitta information om copyright och
licenser för varje installerat paket på ditt system genom att se i filen /usr/
share/doc/paketnamn/copyright .

För mer information om licenser och hur Debian fastställer om programvaran är
tillräckligt fri för att inkluderas i huvudutgåvan, se Debians riktlinjer för
fri programvara.

Den mest viktiga juridiska informationen är att den här programvaran kommer 
utan garanti. Programmerarna som har skapat denna programvara har gjort det som
förmån för gemenskapen. Ingen garanti lämnas för anpassningen av programvaran
för vilket ändamål som helst. Dock, eftersom programvaran är fri, är du
berättigad att modifiera så programvaran passar dina behov -- och att njuta av
fördelarna av de ändringar gjorda av andra som har utökat programvaran på det
här sättet.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] För information om hur man hittar, packar upp och bygger binärer från
Debians källkodspaket, se Debian GNU/Linux FAQ under "Grunder för Debians
pakethanteringssystem".

Kapitel 2. Systemkrav

Innehållsförteckning

2.1. Maskinvara som stöds

    2.1.1. Arkitekturer som stöds
    2.1.2. CPU Support
    2.1.3. Bärbara datorer
    2.1.4. Flera processorer
    2.1.5. Graphics Hardware Support
    2.1.6. Maskinvara för anslutning till nätverk
    2.1.7. Punktskriftsskärmar
    2.1.8. Talsyntes (maskinvara)
    2.1.9. Kringutrustning och annan maskinvara

2.2. Enheter som kräver fast programvara
2.3. Köpa maskinvara specifikt för GNU/Linux

    2.3.1. Undvik proprietär eller sluten maskinvara

2.4. Installationsmedia

    2.4.1. Cd-rom/Dvd-rom/Bd-rom
    2.4.2. USB-minne
    2.4.3. Nätverk
    2.4.4. Hårddisk
    2.4.5. Un*x eller GNU-system
    2.4.6. Lagringssystem som stöds

2.5. Krav för minne och diskplats

Det här avsnittet innehåller information om vilken maskinvara du behöver för
att börja med Debian. Du kommer också att hitta länkar till ytterligare
information om vilken maskinvara som stöds av GNU och Linux.

2.1. Maskinvara som stöds

Debian ställer inga maskinvarukrav utöver kraven ställda för Linux- eller
kFreeBSD-kärnan och GNU:s verktyg. Därför kan alla arkitekturer eller
plattformar till vilka Linuxkärnan, libc, gcc och så vidare, blivit porterade,
och för vilken en portering till Debian finns, köra Debian. Referera till
ports-sidorna på https://www.debian.org/ports/amd64/ för mera detaljer om 
64-bit PC -arkitektursystem som har blivit testade med Debian GNU/Linux.

Hellre än att försöka att beskriva alla de olika maskinvarukonfigurationerna
som finns stöd för i 64-bit PC innehåller det här avsnittet allmän information
och pekar till källor för ytterligare information.

2.1.1. Arkitekturer som stöds

Debian GNU/Linux 10 supports ten major architectures and several variations of
each architecture known as "flavors".

┌───────────────────────┬─────────────────┬────────────────────────┬──────────┐
│      Arkitektur       │Debian-beteckning│    Underarkitektur     │ Variant  │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│                       │                 │default x86 machines    │default   │
│Intel x86-baserad      │i386             ├────────────────────────┼──────────┤
│                       │                 │Xen PV domains only     │xen       │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│AMD64 & Intel 64       │amd64            │                        │          │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│ARM                    │armel            │Marvell Kirkwood and    │marvell   │
│                       │                 │Orion                   │          │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│ARM with hardware FPU  │armhf            │multiplatform           │armmp     │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│64bit ARM              │arm64            │                        │          │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│                       │                 │MIPS Malta              │4kc-malta │
│32bit MIPS (big-endian)│mips             ├────────────────────────┼──────────┤
│                       │                 │Cavium Octeon           │octeon    │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│                       │                 │MIPS Malta              │5kc-malta │
│64bit MIPS             │                 ├────────────────────────┼──────────┤
│(little-endian)        │mips64el         │Cavium Octeon           │octeon    │
│                       │                 ├────────────────────────┼──────────┤
│                       │                 │Loongson 3              │loongson-3│
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│                       │                 │MIPS Malta              │4kc-malta │
│32bit MIPS             │                 ├────────────────────────┼──────────┤
│(little-endian)        │mipsel           │Cavium Octeon           │octeon    │
│                       │                 ├────────────────────────┼──────────┤
│                       │                 │Loongson 3              │loongson-3│
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│Power Systems          │ppc64el          │IBM POWER8 or newer     │          │
│                       │                 │machines                │          │
├───────────────────────┼─────────────────┼────────────────────────┼──────────┤
│64bit IBM S/390        │s390x            │IPL från VM-läsare och  │generic   │
│                       │                 │DASD                    │          │
└───────────────────────┴─────────────────┴────────────────────────┴──────────┘

Det här dokumentet täcker in installationen för 64-bit PC --arkitekturen med 
Linux-kärnan. Om du letar efter information om någon av de andra arkitekturerna
som Debian stöder kan du se på sidorna för Debian-porteringar.

2.1.2. CPU Support

Både AMD64 och Intel 64-processorer stöds.

2.1.3. Bärbara datorer

From a technical point of view, laptops are normal PCs, so all information
regarding PC systems applies to laptops as well. Installations on laptops
nowadays usually work out of the box, including things like automatically
suspending the system on closing the lid and laptop specfic hardware buttons
like those for disabling the wifi interfaces ("airplane mode"). Nonetheless
sometimes the hardware vendors use specialized or proprietary hardware for some
laptop-specific functions which might not be supported. To see if your
particular laptop works well with GNU/Linux, see for example the Linux Laptop
pages.

2.1.4. Flera processorer

Multiprocessor support -- also called "symmetric multiprocessing" or SMP -- is
available for this architecture. The standard Debian 10 kernel image has been
compiled with SMP-alternatives support. This means that the kernel will detect
the number of processors (or processor cores) and will automatically deactivate
SMP on uniprocessor systems.

Having multiple processors in a computer was originally only an issue for
high-end server systems but has become common in recent years nearly everywhere
with the introduction of so called "multi-core" processors. These contain two
or more processor units, called "cores", in one physical chip.

2.1.5. Graphics Hardware Support

Debian's support for graphical interfaces is determined by the underlying
support found in X.Org's X11 system, and the kernel. Basic framebuffer graphics
is provided by the kernel, whilst desktop environments use X11. Whether
advanced graphics card features such as 3D-hardware acceleration or
hardware-accelerated video are available, depends on the actual graphics
hardware used in the system and in some cases on the installation of additional
"firmware" images (see Avsnitt 2.2, "Enheter som kräver fast programvara").

On modern PCs, having a graphical display usually works out of the box. In very
few cases there have been reports about hardware on which installation of
additional graphics card firmware was required even for basic graphics support,
but these have been rare exceptions. For quite a lot of hardware, 3D
acceleration also works well out of the box, but there is still some hardware
that needs binary blobs to work well.

Details on supported graphics hardware and pointing devices can be found at
https://wiki.freedesktop.org/xorg/. Debian 10 ships with X.Org version 7.7.

2.1.6. Maskinvara för anslutning till nätverk

Almost any network interface card (NIC) supported by the Linux kernel should
also be supported by the installation system; drivers should normally be loaded
automatically. This includes most PCI/PCI-Express cards as well as PCMCIA/
Express Cards on laptops.

ISDN stöds men inte under installationen.

2.1.6.1. Trådlösa nätverkskort

Trådlösa nätverk stöds i allmänhet också och ett växande antal av trådlösa
nätverkskort stöds av den officiella Linux-kärnan, även om många av dem kräver
att fast programvara läses in.

Om fast programvara krävs så kommer installationsprogrammet att fråga dig om
att läsa in den fasta programvaran. Se Avsnitt 6.4, "Läsa in saknad fast
programvara" för ytterligare information om hur man läser in fast programvara
under installationen.

Trådlösa nätverkskort som inte stöds av den officiella Linux-kärnan går i
allmänhet att få igång under Debian GNU/Linux men de stöds inte under
installationen.

Om det uppstår ett problem med det trådlösa och det inte finns något annat
nätverkskort som du kan använda under installationen så är det fortfarande
möjligt att installera Debian GNU/Linux med en komplett cd-rom- eller
dvd-avbildning. Välj alternativet att inte konfigurera ett nätverk och
installera endast de paket som finns tillgängliga på cd/dvd-skivan. Du kan
sedan installera drivrutinen och den fasta programvara som du behöver efter att
installationen är färdigställd (efter omstarten) och konfigurera ditt nätverk
manuellt.

I vissa fall finns drivrutinen du behöver inte tillgänglig som ett
Debian-paket. Du kommer då att behöva leta om det finns källkod tillgänglig på
Internet och själv bygga drivrutinen. Hur man gör det här är utanför omfånget
för den här handboken. Om ingen Linux-drivrutin finns tillgänglig, är din sista
utväg att använda paketet ndiswrapper, vilket tillåter att du använder en
drivrutin från Windows.

2.1.7. Punktskriftsskärmar

Stöd för punktskriftsskärmar bestäms av det underliggande stödet som finns i
brltty. De flesta skärmar fungerar under brltty, anslutna via antingen en
serieport, USB eller Bluetooth. Information om vilka punktskriftsenheter som
stöds kan hittas på webbplatsen för brltty. Debian GNU/Linux 10 levereras med
brltty version 5.6.

2.1.8. Talsyntes (maskinvara)

Stöd för talsyntes (maskinvara) bestäms av det underliggande stödet som finns i
speakup. speakup har endast stöd för integrerade kort och external enheter
anslutnas till en serieport (inga USB-, serie-till-USB- eller PCI-adaptrar
stöds). Information om stöd för talsyntesenheter (maskinvara) kan hittas på
webbplatsen för speakup. Debian GNU/Linux 10 levereras med speakup version
3.1.6.

2.1.9. Kringutrustning och annan maskinvara

Linux supports a large variety of hardware devices such as mice, printers,
scanners, PCMCIA/CardBus/ExpressCard and USB devices. However, most of these
devices are not required while installing the system.

USB hardware generally works fine. On some very old PC systems some USB
keyboards may require additional configuration (see Avsnitt 3.6.5,
"Maskinvaruproblem att se upp för"). On modern PCs, USB keyboards and mice work
without requiring any specific configuration.

2.2. Enheter som kräver fast programvara

Besides the availability of a device driver, some hardware also requires
so-called firmware or microcode to be loaded into the device before it can
become operational. This is most common for network interface cards (especially
wireless NICs), but for example some USB devices and even some hard disk
controllers also require firmware. With many graphics cards, basic
functionality is available without additional firmware, but the use of advanced
features requires an appropriate firmware file to be installed in the system.

On many older devices which require firmware to work, the firmware file was
permanently placed in an EEPROM/Flash chip on the device itself by the
manufacturer. Nowadays most new devices do not have the firmware embedded this
way anymore, so the firmware file must be uploaded into the device by the host
operating system every time the system boots.

I de flesta fall så är den fasta programvaran icke-fri enligt de kriteria som
används av Debian GNU/Linux-projektet och kan därför inte inkluderas i
huvuddistributionen eller i installationssystemet. Om själva enhetsdrivrutinen
är inkluderad i distributionen och om Debian GNU/Linux juridiskt sett kan
distribuera den fasta programvaran så finns den ofta tillgänglig som ett
separat paket från sektionen non-free i arkivet.

However, this does not mean that such hardware cannot be used during an
installation. Starting with Debian GNU/Linux 5.0, debian-installer supports
loading firmware files or packages containing firmware from a removable medium,
such as a USB stick. See Avsnitt 6.4, "Läsa in saknad fast programvara" for
detailed information on how to load firmware files or packages during the
installation.

If the debian-installer prompts for a firmware file and you do not have this
firmware file available or do not want to install a non-free firmware file on
your system, you can try to proceed without loading the firmware. There are
several cases where a driver prompts for additional firmware because it may be
needed under certain circumstances, but the device does work without it on most
systems (this e.g. happens with certain network cards using the tg3 driver).

2.3. Köpa maskinvara specifikt för GNU/Linux

Det finns ett flertal tillverkare som levererar system med Debian eller andra
distributioner av GNU/Linux förinstallerat. Du kan betala mer för privilegiet
men det ger en känsla av trygghet eftersom du kan vara säker på att maskinvaran
har bra stöd av GNU/Linux.

Om du måste köpa en maskin paketerad med Windows, läs noga igenom
programvarulicensen som kommer med Windows; du kan ha möjligheten att vägra
licensen och hämta ut en återbetalning från din försäljare. Sök på Internet
efter "windows refund" och du kan hitta användbar information för det här
ändamålet.

Oavsett om du köper ett system paketerat med Linux eller inte, eller kanske
till och med ett begagnat system, är det fortfarande viktigt att kontrollera
att din maskinvara stöds av Linux-kärnan. Kontrollera om din maskinvara finns
listad i referenserna som hittas ovan. Låt din försäljare (om någon) veta att
du vill köpa ett system för Linux. Stöd de maskinvarutillverkare som är
Linux-vänliga.

2.3.1. Undvik proprietär eller sluten maskinvara

Some hardware manufacturers simply won't tell us how to write drivers for their
hardware. Others won't allow us access to the documentation without a
non-disclosure agreement that would prevent us from releasing the driver's
source code, which is one of the central elements of free software. Since we
haven't been granted access to usable documentation on these devices, they
simply won't work under Linux.

In many cases there are standards (or at least some de-facto standards)
describing how an operating system and its device drivers communicate with a
certain class of devices. All devices which comply to such a (de-facto-)
standard can be used with a single generic device driver and no device-specific
drivers are required. With some kinds of hardware (e.g. USB "Human Interface
Devices", i.e. keyboards, mice, etc., and USB mass storage devices like USB
flash disks and memory card readers) this works very well and practically every
device sold in the market is standards-compliant.

In other fields, among them e.g. printers, this is unfortunately not the case.
While there are many printers which can be addressed via a small set of
(de-facto-)standard control languages and therefore can be made to work without
problems in any operating system, there are quite a few models which only
understand proprietary control commands for which no usable documentation is
available and therefore either cannot be used at all on free operating systems
or can only be used with a vendor-supplied closed-source driver.

Even if there is a vendor-provided closed-source driver for such hardware when
purchasing the device, the practical lifespan of the device is limited by
driver availability. Nowadays product cycles have become short and it is not
uncommon that a short time after a consumer device has ceased production, no
driver updates get made available any more by the manufacturer. If the old
closed-source driver does not work anymore after a system update, an otherwise
perfectly working device becomes unusable due to lacking driver support and
there is nothing that can be done in this case. You should therefore avoid
buying closed hardware in the first place, regardless of the operating system
you want to use it with.

You can help improve this situation by encouraging manufacturers of closed
hardware to release the documentation and other resources necessary for us to
provide free drivers for their hardware.

2.4. Installationsmedia

Det här avsnittet hjälper dig att fastställa vilka olika medietyper som du kan
använda för att installera Debian. Det finns ett helt kapitel tillägnat media,
Kapitel 4, Få tag på installationsmedia, som listar fördelar och nackdelar med
varje typ av media. Du kanske vill referera tillbaka till den här sidan när du
har nått fram till det avsnittet.

2.4.1. Cd-rom/Dvd-rom/Bd-rom

Notera

Whenever you see "CD-ROM" in this manual, it applies to all of CD-ROMs,
DVD-ROMs and BD-ROMs, because all these technologies are really the same from
the operating system's point of view.

CD-ROM based installation is supported for most architectures.

On PCs SATA, IDE/ATAPI, USB and SCSI CD-ROMs are supported, as are FireWire
devices that are supported by the ohci1394 and sbp2 drivers.

2.4.2. USB-minne

USB flash disks a.k.a. USB memory sticks have become a commonly used and cheap
storage device. Most modern computer systems also allow booting the
debian-installer from such a stick. Many modern computer systems, in particular
netbooks and thin laptops, do not have a CD/DVD-ROM drive anymore at all and
booting from USB media is the standard way of installing a new operating system
on them.

2.4.3. Nätverk

Nätverket kan användas under installationen för att hämta filer som behövs för
installationen. Huruvida nätverket används eller inte beror på
installationsmetoden du valde samt dina svar på vissa frågor som kommer att
ställas under installationen. Installationssystemet har stöd för de flesta
typer av nätverksanslutningar (inkluderat PPPoE, men inte ISDN eller PPP),
antingen via HTTP eller FTP. Efter att installationen är färdig, kan du även
konfigurera ditt system att använda ISDN och PPP.

You can also boot the installation system over the network without needing any
local media like CDs/DVDs or USB sticks. If you already have a
netboot-infrastructure available (i.e. you are already running DHCP and TFTP
services in your network), this allows an easy and fast deployment of a large
number of machines. Setting up the necessary infrastructure requires a certain
level of technical experience, so this is not recommended for novice users.

Disklös installation med nätverksuppstart från ett lokalt nätverk och
nfs-montering av alla lokala filsystem är ett annat alternativ.

2.4.4. Hårddisk

Booting the installation system directly from a hard disk is another option for
many architectures. This will require some other operating system to load the
installer onto the hard disk. This method is only recommended for special cases
when no other installation method is available.

2.4.5. Un*x eller GNU-system

If you are running another Unix-like system, you could use it to install Debian
GNU/Linux without using the debian-installer described in the rest of this
manual. This kind of install may be useful for users with otherwise unsupported
hardware or on hosts which can't afford downtime. If you are interested in this
technique, skip to the Avsnitt D.3, "Installera Debian GNU/Linux från ett Unix/
Linux-system". This installation method is only recommended for advanced users
when no other installation method is available.

2.4.6. Lagringssystem som stöds

The Debian installer contains a kernel which is built to maximize the number of
systems it runs on.

Generally, the Debian installation system includes support for IDE (also known
as PATA) drives, SATA and SCSI controllers and drives, USB, and FireWire. The
supported file systems include FAT, Win-32 FAT extensions (VFAT) and NTFS.

2.5. Krav för minne och diskplats

Du måste ha minst 550MB minne och 850MB hårddiskutrymme för att genomföra en
normal installation. Observera att dessa siffror endast är ett absolut minimum.
Se Avsnitt 3.4, "Matcha minimikrav för maskinvara" för mer realistiska siffror.

Installation on systems with less memory^[2] or disk space available may be
possible but is only advised for experienced users.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installation images that support the graphical installer require more
memory than images that support only the textual installer and should not be
used on systems with less than 550MB of memory. If there is a choice between
booting the text-based and the graphical installer, the former should be
selected on such systems.

Kapitel 3. Före installation av Debian GNU/Linux

Innehållsförteckning

3.1. Översikt av installationsprocessen
3.2. Säkerhetskopiera dina befintliga data!
3.3. Information du behöver

    3.3.1. Dokumentation
    3.3.2. Hitta informationskällor för maskinvara
    3.3.3. Maskinvarukompatibilitet
    3.3.4. Nätverksinställningar

3.4. Matcha minimikrav för maskinvara
3.5. Förpartionering för system med flera operativsystem
3.6. Inställning av maskinvara och operativsystem före installation

    3.6.1. Starta BIOS-inställningsmenyn
    3.6.2. Val av uppstartsenhet
    3.6.3. Systems with UEFI firmware
    3.6.4. Disabling the Windows 8 "fast boot" feature
    3.6.5. Maskinvaruproblem att se upp för

Det här kapitlet går igenom förberedelser för installation av Debian innan du
ens startar upp installationsprogrammet. Det inkluderar säkerhetskopiering av
ditt data, insamling av information om din maskinvara och att hitta all
nödvändig information.

3.1. Översikt av installationsprocessen

Först, bara som en notering angående ominstallationer. Med Debian är
omständigheter som kräver en total ominstallation av ditt system mycket
ovanliga; kanske är mekaniska fel på hårddisken vanligaste orsaken.

Många vanliga operativsystem kan kräva att en total installation genomförs när
kritiska fel inträffar eller för uppgraderingar till nyare versioner av
operativsystemet. Även om en total nyinstallation inte krävs måste ofta program
du använder installeras om för att fungera korrekt i det nya operativsystemet.

Med Debian GNU/Linux är det troligt att ditt operativsystem kan lagas istället
för att bytas ut om saker går fel. Uppgraderingar kräver aldrig en total
fullständig installation; du kan alltid uppgradera direkt. Program är nästan
alltid kompatibla med tidigare utgåvor av operativsystemet. Om en ny
programversion kräver nyare hjälpprogramvara kommer Debians paketsystem att se
till att all nödvändig programvara automatiskt identifieras och installeras.
Mycket arbete har lagts på att ominstallationer inte ska behövas, så utgå
därför ifrån att det är din absolut sista utväg. Installationsprogrammet är 
inte designad för att ominstallera ett befintligt system.

Här är en översikt av de steg du kommer att ta under installationsprocessen.

 1. Säkerhetskopiera befintliga data eller dokument från hårddisken där du
    planerar att installera.

 2. Samla information om din dator och annan behövlig dokumentation innan du
    startar installationen.

 3. Locate and/or download the installer software and any specialized driver or
    firmware files your machine requires.

 4. Set up boot media such as CDs/DVDs/USB sticks or provide a network boot
    infrastructure from which the installer can be booted.

 5. Starta upp installationssystemet.

 6. Välj installationsspråket.

 7. Aktivera anslutning mot Ethernet-nätverket, om tillgängligt.

 8. If necessary, resize existing partitions on your target harddisk to make
    space for the installation.

 9. Skapa och montera partitioner på vilka Debian kommer att installeras.

10. Se den automatiska hämtningen, installeringen och konfigureringen av
    grundsystemet.

11. Select and install additional software.

12. Installera en starthanterare som kan starta upp Debian GNU/Linux eller dina
    andra operativsystem.

13. Starta det nyligen installerade systemet för första gången.

För 64-bit PC har du möjligheten att använda en grafisk version av
installationssystemet. För mer information om det grafiska
installationsprogrammet, se Avsnitt 5.1.8, "The Graphical Installer".

Om du får problem under installationen hjälper det att veta vilka paket som
ingår i varje steg. Här är de ledande programvaruskådisarna i det här
installationsdramat:

Installeringsprogramvaran, debian-installer, är det primära målet för den här
handboken. Den identifierar maskinvara och läser in lämpliga drivrutiner,
använder dhcp-client för att ställa in nätverksanslutningen, och kör
debootstrap för att installera paketen för grundsystemet och kör tasksel för
att låta dig installera ytterligare programvara. Många fler skådespelare spelar
mindre roller i den här processen, men debian-installer har gjort klart sin
funktion när du startar upp det nya systemet för första gången.

För att anpassa systemet för att passa dina behov, låter tasksel dig välja att
installera olika fördefinierade samlingar av programvara såsom en webbserver
eller en skrivbordsmiljö.

One important option during the installation is whether or not to install a
graphical desktop environment, consisting of the X Window System and one of the
available graphical desktop environments. If you choose not to select the "
Desktop environment" task, you will only have a relatively basic, command line
driven system. Installing the Desktop environment task is optional because in
relation to a text-mode-only system it requires a comparatively large amount of
disk space and because many Debian GNU/Linux systems are servers which don't
really have any need for a graphical user interface to do their job.

Just be aware that the X Window System is completely separate from
debian-installer, and in fact is much more complicated. Troubleshooting of the
X Window System is not within the scope of this manual.

3.2. Säkerhetskopiera dina befintliga data!

Before you start, make sure to back up every file that is now on your system.
If this is the first time a non-native operating system is going to be
installed on your computer, it is quite likely you will need to re-partition
your disk to make room for Debian GNU/Linux. Anytime you partition your disk,
you run a risk of losing everything on the disk, no matter what program you use
to do it. The programs used in the installation of Debian GNU/Linux are quite
reliable and most have seen years of use; but they are also quite powerful and
a false move can cost you. Even after backing up, be careful and think about
your answers and actions. Two minutes of thinking can save hours of unnecessary
work.

If you are creating a multi-boot system, make sure that you have the
distribution media of any other present operating systems on hand. Even though
this is normally not necessary, there might be situations in which you could be
required to reinstall your operating system's boot loader to make the system
boot or in a worst case even have to reinstall the complete operating system
and restore your previously made backup.

3.3. Information du behöver

3.3.1. Dokumentation

3.3.1.1. Installationshandbok

Det här dokumentet du nu läser, finns i ren ASCII, HTML eller PDF-format.

  • install.sv.txt

  • install.sv.html

  • install.sv.pdf

3.3.1.2. Maskinvarudokumentation

Innehåller ofta användbar information om hur du konfigurerar eller använder din
maskinvara.

  • The Debian Wiki hardware page

3.3.2. Hitta informationskällor för maskinvara

I många fall kan installationsprogrammet automatiskt identifiera din
maskinvara. Men för att vara förberedd rekommenderar vi att du gör dig
hemmastadd med din maskinvara före installationen.

Maskinvaruinformation kan samlas in från:

  • Handböckerna som kommer med varje maskinvarudel.

  • The BIOS setup screens of your computer. You can view these screens when
    you start your computer by pressing a combination of keys. Check your
    manual for the combination. Often, it is the Delete or the F2 key, but some
    manufacturers use other keys or key combinations. Usually upon starting the
    computer there will be a message stating which key to press to enter the
    setup screen.

  • Förpackningarna och lådorna för varje del av maskinvaran.

  • Systemfönstret i Windows kontrollpanel.

  • Systemkommandon eller verktyg i ett annat operativsystem, inklusive
    filhanterarskärmar. Den här källan är speciellt användbar för information
    om RAM-minne och hårddisksutrymme.

  • Din systemadministratör eller Internetleverantör. De här källorna kan
    informera dig om de inställningar du behöver för att ställa in din
    nätverksanslutning och e-post.

Tabell 3.1. Hardware Information Helpful for an Install

┌──────────────────┬─────────────────────────────────────────────────────┐
│    Maskinvara    │              Information du kan behöva              │
├──────────────────┼─────────────────────────────────────────────────────┤
│                  │Hur många du har.                                    │
│                  ├─────────────────────────────────────────────────────┤
│                  │Deras ordning i systemet.                            │
│                  ├─────────────────────────────────────────────────────┤
│                  │Om IDE (även känd som PATA), SATA eller SCSI används.│
│Hårddiskar        ├─────────────────────────────────────────────────────┤
│                  │Tillgängligt ledigt utrymme.                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner.                                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner där andra operativsystem är installerade.│
├──────────────────┼─────────────────────────────────────────────────────┤
│Network interfaces│Type/model of available network interfaces.          │
├──────────────────┼─────────────────────────────────────────────────────┤
│Skrivare          │Modell och tillverkare.                              │
├──────────────────┼─────────────────────────────────────────────────────┤
│Grafikkort        │Type/model and manufacturer.                         │
└──────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Maskinvarukompatibilitet

Many products work without trouble on Linux. Moreover, hardware support in
Linux is improving daily. However, Linux still does not run as many different
types of hardware as some operating systems.

Drivers in Linux in most cases are not written for a certain "product" or "
brand" from a specific manufacturer, but for a certain hardware/chipset. Many
seemingly different products/brands are based on the same hardware design; it
is not uncommon that chip manufacturers provide so-called "reference designs"
for products based on their chips which are then used by several different
device manufacturers and sold under lots of different product or brand names.

This has advantages and disadvantages. An advantage is that a driver for one
chipset works with lots of different products from different manufacturers, as
long as their product is based on the same chipset. The disadvantage is that it
is not always easy to see which actual chipset is used in a certain product/
brand. Unfortunately sometimes device manufacturers change the hardware base of
their product without changing the product name or at least the product version
number, so that when having two items of the same brand/product name bought at
different times, they can sometimes be based on two different chipsets and
therefore use two different drivers or there might be no driver at all for one
of them.

For USB and PCI/PCI-Express/ExpressCard devices, a good way to find out on
which chipset they are based is to look at their device IDs. All USB/PCI/
PCI-Express/ExpressCard devices have so called "vendor" and "product" IDs, and
the combination of these two is usually the same for any product based on the
same chipset.

On Linux systems, these IDs can be read with the lsusb command for USB devices
and with the lspci -nn command for PCI/PCI-Express/ExpressCard devices. The
vendor and product IDs are usually given in the form of two hexadecimal
numbers, seperated by a colon, such as "1d6b:0001".

An example for the output of lsusb: "Bus 001 Device 001: ID 1d6b:0002 Linux
Foundation 2.0 root hub", whereby 1d6b is the vendor ID and 0002 is the product
ID.

An example for the output of lspci -nn for an Ethernet card: "03:00.0 Ethernet
controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express
Gigabit Ethernet controller [10ec:8168] (rev 06)". The IDs are given inside the
rightmost square brackets, i.e. here 10ec is the vendor- and 8168 is the
product ID.

As another example, a graphics card could give the following output: "04:00.0
VGA compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI RV710
[Radeon HD 4350] [1002:954f]".

On Windows systems, the IDs for a device can be found in the Windows device
manager on the tab "details", where the vendor ID is prefixed with VEN_ and the
product ID is prefixed with DEV_. On Windows 7 systems, you have to select the
property "Hardware IDs" in the device manager's details tab to actually see the
IDs, as they are not displayed by default.

Searching on the internet with the vendor/product ID, "Linux" and "driver" as
the search terms often results in information regarding the driver support
status for a certain chipset. If a search for the vendor/product ID does not
yield usable results, a search for the chip code names, which are also often
provided by lsusb and lspci ("RTL8111"/"RTL8168B" in the network card example
and "RV710" in the graphics card example), can help.

3.3.3.1. Testing hardware compatibility with a Live-System

Debian GNU/Linux is also available as a so-called "live system" for certain
architectures. A live system is a preconfigured ready-to-use system in a
compressed format that can be booted and used from a read-only medium like a CD
or DVD. Using it by default does not create any permanent changes on your
computer. You can change user settings and install additional programs from
within the live system, but all this only happens in the computer's RAM, i.e.
if you turn off the computer and boot the live system again, everything is
reset to its defaults. If you want to see whether your hardware is supported by
Debian GNU/Linux, the easiest way is to run a Debian live system on it and try
it out.

There are a few limitations in using a live system. The first is that as all
changes you do within the live system must be held in your computer's RAM, this
only works on systems with enough RAM to do that, so installing additional
large software packages may fail due to memory constraints. Another limitation
with regards to hardware compatibility testing is that the official Debian GNU/
Linux live system contains only free components, i.e. there are no non-free
firmware files included in it. Such non-free packages can of course be
installed manually within the system, but there is no automatic detection of
required firmware files like in the debian-installer, so installation of
non-free components must be done manually if needed.

Information about the available variants of the Debian live images can be found
at the Debian Live Images website.

3.3.4. Nätverksinställningar

If your computer is connected to a fixed network (i.e. an Ethernet or
equivalent connection -- not a dialup/PPP connection) which is administered by
somebody else, you should ask your network's system administrator for this
information:

  • Ditt datornamn (du kanske kan välja det här helt på egen hand).

  • Ditt domännamn.

  • Din dators IP-adress.

  • Nätmasken som används på ditt nätverk.

  • IP-adressen till den gateway som är standardrutten ut från ditt nätverk, om
    ditt nätverk har en gateway.

  • Systemet på ditt nätverk som du ska använda som en DNS-server
    (Domännamnstjänst).

If the network you are connected to uses DHCP (Dynamic Host Configuration
Protocol) for configuring network settings, you don't need this information
because the DHCP server will provide it directly to your computer during the
installation process.

If you have internet access via DSL or cable modem (i.e. over a cable tv
network) and have a router (often provided preconfigured by your phone or catv
provider) which handles your network connectivity, DHCP is usually available by
default.

As a rule of thumb: if you run a Windows system in your home network and did
not have to manually perform any network settings there to achieve Internet
access, network connectivity in Debian GNU/Linux will also be configured
automatically.

If you use a WLAN/WiFi network, you should find out:

  • The ESSID ("network name") of your wireless network.

  • The WEP or WPA/WPA2 security key to access the network (if applicable).

3.4. Matcha minimikrav för maskinvara

När du har samlat in information om maskinvaran i din dator, kontrollera att
din maskinvara låter dig göra den typ av installation som du vill göra.

Beroende på dina behov, kan du klara dig med mindre än vad som rekommenderas av
maskinvaran listad i tabellen nedan. Många användare riskerar dock troligen att
bli frustrerade om de ignorerar de här förslagen.

En Pentium 4 med 1 GHz-processor är minsta rekommenderade datorn för ett
skrivbordssystem.

Tabell 3.2. Rekommenderade minimala systemkrav

┌─────────────────────┬─────────────┬───────────────────┬───────────┐
│  Installationstyp   │RAM (minimum)│RAM (rekommenderat)│ hårddisk  │
├─────────────────────┼─────────────┼───────────────────┼───────────┤
│Ingen skrivbordsmiljö│256 megabyte │512 megabyte       │2 gigabyte │
├─────────────────────┼─────────────┼───────────────────┼───────────┤
│Med skrivbordsmiljö  │512 megabyte │2 gigabyte         │10 gigabyte│
└─────────────────────┴─────────────┴───────────────────┴───────────┘


The minimum value assumes that swap will be enabled.

The actual minimum memory requirements are a lot less than the numbers listed
in this table. With swap enabled, it is possible to install Debian with as
little as 170MB. The same goes for the disk space requirements, especially if
you pick and choose which applications to install; see Avsnitt D.2, "Nödvändig
diskplats för funktioner" for additional information on disk space
requirements.

It is possible to run a graphical desktop environment on older or low-end
systems, but in that case it is recommended to install a window manager that is
less resource-hungry than those of the GNOME or KDE Plasma desktop
environments; alternatives include xfce4, icewm and wmaker, but there are
others to choose from.

Det är praktiskt omöjligt att ge allmänna krav för minne eller diskutrymme för
serverinstallationer eftersom det beror mycket på vad servern kommer att
användas till.

Kom ihåg att dessa storlekar inte inkluderar alla de andra material som
vanligtvis hittas på ett system, såsom användarfiler, e-post och data. Det är
alltid bäst att vara generös när du uppskattar utrymmet för dina egna filer och
data.

Disk space required for the smooth operation of the Debian GNU/Linux system
itself is taken into account in these recommended system requirements. Notably,
the /var partition contains a lot of state information specific to Debian in
addition to its regular contents, like logfiles. The dpkg files (with
information on all installed packages) can easily consume 40MB. Also, apt puts
downloaded packages here before they are installed. You should usually allocate
at least 200MB for /var, and a lot more if you install a graphical desktop
environment.

3.5. Förpartionering för system med flera operativsystem

Partitionering av din disk refererar helt enkelt till processen att dela upp
din disk i sektioner. Varje sektion blir då oberoende av de andra. Det är grovt
sett likvärdigt med att sätta upp väggar inne i ett hus; om du ställer in
möbler i ett rum så påverkar de inte något annat rum.

If you already have an operating system on your system (Windows 9x, Windows NT/
2000/XP/2003/Vista/7, OS/2, MacOS, Solaris, FreeBSD, ...) which uses the whole
disk and you want to stick Debian on the same disk, you will need to
repartition it. Debian requires its own hard disk partitions. It cannot be
installed on Windows or Mac OS X partitions. It may be able to share some
partitions with other Unix systems, but that's not covered here. At the very
least you will need a dedicated partition for the Debian root filesystem.

You can find information about your current partition setup by using a
partitioning tool for your current operating system, such as the integrated
Disk Manager in Windows or fdisk in DOS. Partitioning tools always provide a
way to show existing partitions without making changes.

Normalt sett så kommer data och filer i ett filsystem på en partition att
förstöras om partitionen ändras. Därför bör du alltid göra säkerhetskopior
innan du partitionerar om. Om man använder jämförelsen med huset skulle du
antagligen vilja flytta ut alla möbler innan väggarna flyttas då de annars
riskerar att de förstörs.

Several modern operating systems offer the ability to move and resize certain
existing partitions without destroying their contents. This allows making space
for additional partitions without losing existing data. Even though this works
quite well in most cases, making changes to the partitioning of a disk is an
inherently dangerous action and should only be done after having made a full
backup of all data. For FAT/FAT32 and NTFS partitions as used by DOS and
Windows systems, the ability to move and resize them losslessly is provided
both by debian-installer as well as by the integrated Disk Manager of Windows
7.

To losslessly resize an existing FAT or NTFS partition from within
debian-installer, go to the partitioning step, select the option for manual
partitioning, select the partition to resize, and simply specify its new size.

Creating and deleting partitions can be done from within debian-installer as
well as from an existing operating system. As a rule of thumb, partitions
should be created by the system for which they are to be used, i.e. partitions
to be used by Debian GNU/Linux should be created from within debian-installer
and partitions to be used from another operating system should be created from
there. debian-installer is capable of creating non-Linux partitions, and
partitions created this way usually work without problems when used in other
operating systems, but there are a few rare corner cases in which this could
cause problems, so if you want to be sure, use the native partitioning tools to
create partitions for use by other operating systems.

If you are going to install more than one operating system on the same machine,
you should install all other system(s) before proceeding with the Debian
installation. Windows and other OS installations may destroy your ability to
start Debian, or encourage you to reformat non-native partitions.

Du kan oftast reparera eventuella fel som uppstår efter de här åtgärderna eller
undvika att felen uppstår, men att installera det ursprungliga systemet först
besparar dig troligen en hel del problem.

3.6. Inställning av maskinvara och operativsystem före installation

This section will walk you through pre-installation hardware setup, if any,
that you will need to do prior to installing Debian. Generally, this involves
checking and possibly changing BIOS/system firmware settings for your system.
The "BIOS" or "system firmware" is the core software used by the hardware; it
is most critically invoked during the bootstrap process (after power-up).

3.6.1. Starta BIOS-inställningsmenyn

The BIOS provides the basic functions needed to boot your machine and to allow
your operating system to access your hardware. Your system provides a BIOS
setup menu, which is used to configure the BIOS. To enter the BIOS setup menu
you have to press a key or key combination after turning on the computer. Often
it is the Delete or the F2 key, but some manufacturers use other keys. Usually
upon starting the computer there will be a message stating which key to press
to enter the setup screen.

3.6.2. Val av uppstartsenhet

Within the BIOS setup menu, you can select which devices shall be checked in
which sequence for a bootable operating system. Possible choices usually
include the internal harddisks, the CD/DVD-ROM drive and USB mass storage
devices such as USB sticks or external USB harddisks. On modern systems there
is also often a possibility to enable network booting via PXE.

Depending on the installation media (CD/DVD ROM, USB stick, network boot) you
have chosen you should enable the appropriate boot devices if they are not
already enabled.

Most BIOS versions allow you to call up a boot menu on system startup in which
you select from which device the computer should start for the current session.
If this option is available, the BIOS usually displays a short message like "
press F12 for boot menu" on system startup. The actual key used to select this
menu varies from system to system; commonly used keys are F12, F11 and F8.
Choosing a device from this menu does not change the default boot order of the
BIOS, i.e. you can start once from a USB stick while having configured the
internal harddisk as the normal primary boot device.

If your BIOS does not provide you with a boot menu to do ad-hoc choices of the
current boot device, you will have to change your BIOS setup to make the device
from which the debian-installer shall be booted the primary boot device.

Unfortunately some computers contain buggy BIOS versions. Booting
debian-installer from a USB stick might not work even if there is an
appropriate option in the BIOS setup menu and the stick is selected as the
primary boot device. On some of these systems using a USB stick as boot medium
is impossible; others can be tricked into booting from the stick by changing
the device type in the BIOS setup from the default "USB harddisk" or "USB stick
" to "USB ZIP" or "USB CDROM". In particular if you use an isohybrid CD/DVD
image on a USB stick (see Avsnitt 4.3.1, "Preparing a USB stick using a hybrid
CD or DVD image"), changing the device type to "USB CDROM" helps on some BIOSes
which will not boot from a USB stick in USB harddisk mode. You may need to
configure your BIOS to enable "USB legacy support".

If you cannot manipulate the BIOS to boot directly from a USB stick you still
have the option of using an ISO copied to the stick. Boot debian-installer
using Avsnitt 4.4, "Förbereda filer för uppstart med hårddisk" and, after
scanning the hard drives for an installer ISO image, select the USB device and
choose an installation image.

3.6.3. Systems with UEFI firmware

UEFI ("Unified Extensible Firmware Interface") is a new kind of system firmware
that is used on many modern systems and is - among other uses - intended to
replace the classic PC BIOS.

Currently most PC systems that use UEFI also have a so-called "Compatibility
Support Module" (CSM) in the firmware, which provides exactly the same
interfaces to an operating system as a classic PC BIOS, so that software
written for the classic PC BIOS can be used unchanged. Nonetheless UEFI is
intended to one day completely replace the old PC BIOS without being fully
backwards-compatible and there are already a lot of systems with UEFI but
without CSM.

On systems with UEFI there are a few things to take into consideration when
installing an operating system. The way the firmware loads an operating system
is fundamentally different between the classic BIOS (or UEFI in CSM mode) and
native UEFI. One major difference is the way the harddisk partitions are
recorded on the harddisk. While the classic BIOS and UEFI in CSM mode use a DOS
partition table, native UEFI uses a different partitioning scheme called "GUID
Partition Table" (GPT). On a single disk, for all practical purposes only one
of the two can be used and in case of a multi-boot setup with different
operating systems on one disk, all of them must therefore use the same type of
partition table. Booting from a disk with GPT is only possible in native UEFI
mode, but using GPT becomes more and more common as hard disk sizes grow,
because the classic DOS partition table cannot address disks larger than about
2 Terabytes while GPT allows for far larger disks. The other major difference
between BIOS (or UEFI in CSM mode) and native UEFI is the location where boot
code is stored and in which format it has to be. This means that different
bootloaders are needed for each system.

The latter becomes important when booting debian-installer on a UEFI system
with CSM because debian-installer checks whether it was started on a BIOS- or
on a native UEFI system and installs the corresponding bootloader. Normally
this simply works but there can be a problem in multi-boot environments. On
some UEFI systems with CSM the default boot mode for removable devices can be
different from what is actually used when booting from hard disk, so when
booting the installer from a USB stick in a different mode from what is used
when booting another already installed operating system from the hard disk, the
wrong bootloader might be installed and the system might be unbootable after
finishing the installation. When choosing the boot device from a firmware boot
menu, some systems offer two seperate choices for each device, so that the user
can select whether booting shall happen in CSM or in native UEFI mode.

Another UEFI-related topic is the so-called "secure boot" mechanism. Secure
boot means a function of UEFI implementations that allows the firmware to only
load and execute code that is cryptographically signed with certain keys and
thereby blocking any (potentially malicious) boot code that is unsigned or
signed with unknown keys. In practice the only key accepted by default on most
UEFI systems with secure boot is a key from Microsoft used for signing the
Windows bootloader. As the boot code used by debian-installer is not signed by
Microsoft, booting the installer requires prior deactivation of secure boot in
case it is enabled. Secure boot is often enabled by default on systems that
come preinstalled with a 64-bit version of Windows 8 and there is unfortunately
no standard way to disable it in the UEFI setup. On some systems, the option to
disable secure boot is only made visible when a BIOS password has been set by
the user, so if you have a system with secure boot enabled, but cannot find an
option to disable it, try setting a BIOS password, powercycle the machine and
look again for an appropriate option.

3.6.4. Disabling the Windows 8 "fast boot" feature

Windows 8 offers a feature called "fast boot" to cut down system startup time.
Technically, when this feature is enabled, Windows 8 does not do a real
shutdown and a real cold boot afterwards when ordered to shut down, but instead
does something resembling a partial suspend to disk to reduce the "boot" time.
As long as Windows 8 is the only operating system on the machine, this is
unproblematic, but it can result in problems and data loss when you have a dual
boot setup in which another operating system accesses the same filesystems as
Windows 8 does. In that case the real state of the filesystem can be different
from what Windows 8 believes it to be after the "boot" and this could cause
filesystem corruption upon further write accesses to the filesystem. Therefore
in a dual boot setup, to avoid filesystem corruption the "fast boot" feature
has to be disabled within Windows.

It may also be necessary to disable "fast boot" to even allow access to UEFI
setup to choose to boot another operating system or debian-installer. On some
UEFI systems, the firmware will reduce "boot" time by not initialising the
keyboard controller or USB hardware; in these cases, it is necessary to boot
into Windows and disable this feature to allow for a change of boot order.

3.6.5. Maskinvaruproblem att se upp för

USB BIOS-stöd och tangentbord. If you have no PS/2-style keyboard, but only a
USB model, on some very old PCs you may need to enable legacy keyboard
emulation in your BIOS setup to be able to use your keyboard in the bootloader
menu, but this is not an issue for modern systems. If your keyboard does not
work in the bootloader menu, consult your mainboard manual and look in the BIOS
for "Legacy keyboard emulation" or "USB keyboard support" options.

Kapitel 4. Få tag på installationsmedia

Innehållsförteckning

4.1. Official Debian GNU/Linux CD/DVD-ROM Sets
4.2. Hämta filer från Debian-speglar

    4.2.1. Var man får tag på installationsavbildningar

4.3. Förbereda filer för uppstart med USB-minne

    4.3.1. Preparing a USB stick using a hybrid CD or DVD image
    4.3.2. Manually copying files to the USB stick
    4.3.3. Manually copying files to the USB stick -- the flexible way

4.4. Förbereda filer för uppstart med hårddisk

    4.4.1. Hard disk installer booting from Linux using LILO or GRUB
    4.4.2. Hard disk installer booting from DOS using loadlin

4.5. Förbered filerna för nätverksuppstart via TFTP

    4.5.1. Konfigurering av DHCP-server
    4.5.2. Konfigurera en BOOTP-server
    4.5.3. Aktivering av TFTP-server
    4.5.4. Flytta TFTP-avbildningarna till rätt plats

4.6. Automatisk installation

    4.6.1. Automatisk installation med Debian Installer

4.1. Official Debian GNU/Linux CD/DVD-ROM Sets

By far the easiest way to install Debian GNU/Linux is from an Official Debian
CD/DVD-ROM Set. You can buy a set from a vendor (see the CD vendors page). You
may also download the CD/DVD-ROM images from a Debian mirror and make your own
set, if you have a fast network connection and a CD/DVD burner (see the Debian
CD page and Debian CD FAQ for detailed instructions). If you have a Debian CD/
DVD set and CDs/DVDs are bootable on your machine, which is the case on all
modern PCs, you can skip right to Kapitel 5, Starta upp installationssystemet.
Much effort has been expended to ensure the most-used files are on the first
CDs and DVDs, so that a basic desktop installation can be done with only the
first DVD or - to a limited extent - even with only the first CD.

As CDs have a rather limited capacity by today's standards, not all graphical
desktop environments are installable with only the first CD; for some desktop
environments a CD installation requires either network connectivity during the
installation to download the remaining files or additional CDs.

Also, keep in mind: if the CDs/DVDs you are using don't contain some packages
you need, you can always install those packages afterwards from your running
new Debian system (after the installation has finished). If you need to know on
which CD/DVD to find a specific package, visit https://
cdimage-search.debian.org/.

If your machine doesn't support CD booting (only relevant on very old PC
systems), but you do have a CD set, you can use an alternative strategy such as
hard disk, usb stick, net boot, or manually loading the kernel from the CD to
initially boot the system installer. The files you need for booting by another
means are also on the CD; the Debian network archive and CD folder organization
are identical. So when archive file paths are given below for particular files
you need for booting, look for those files in the same directories and
subdirectories on your CD.

När installationsprogrammet har startat upp kan den hämta de andra filerna den
behöver från cd-skivan.

If you don't have a CD set, then you will need to download the installer system
files and place them on the hard disk or usb stick or a connected computer so
they can be used to boot the installer.

4.2. Hämta filer från Debian-speglar

För att hitta den närmaste (och kanske även den snabbaste) spegeln, se Hämta
Debian från Internet.

4.2.1. Var man får tag på installationsavbildningar

Installationsavbildningar finns på varje Debian-spegel i katalogen debian/dists
/buster/main/installer-amd64/current/images/ -- MANIFEST listar varje avbild
och dess funktion.

4.3. Förbereda filer för uppstart med USB-minne

För att förbereda USB-minnet behöver du ett system där GNU/Linux redan körs och
där USB stöds. Med aktuella GNU/Linux-system ska USB-minnet automatiskt kännas
igen när du ansluter det. Om det inte gör det bör du kontrollera att
kärnmodulen usb-storage har lästs in. När USB-minnet är anslutet så kommer det
att kopplas till en enhet med namnet /dev/sdX, där "X" är en bokstav i
intervallet a-z. Du bör kunna se till vilken enhet som USB-minnet kopplades
genom att köra kommandot dmesg efter minnet anslutits. För att skriva till ditt
minne så måste du stänga av dess skrivskydd (om sådant finns).

Varning

Procedurerna som beskrivs i detta avsnitt kommer att förstöra allt som redan
finns på enheten! Försäkra dig om att du använder det korrekta enhetsnamnet för
ditt USB-minne. Om du använder fel enhet kommer resultatet bli att all
information går förlorad på till exempel en hårddisk.

4.3.1. Preparing a USB stick using a hybrid CD or DVD image

Debian CD and DVD images can now be written directly to a USB stick, which is a
very easy way to make a bootable USB stick. Simply choose a CD or DVD image
(such as the netinst, CD-1, DVD-1, or netboot) that will fit on your USB stick.
See Avsnitt 4.1, "Official Debian GNU/Linux CD/DVD-ROM Sets" to get a CD or DVD
image.

Alternatively, for very small USB sticks, only a few megabytes in size, you can
download the mini.iso image from the netboot directory (at the location
mentioned in Avsnitt 4.2.1, "Var man får tag på installationsavbildningar").

The CD or DVD image you choose should be written directly to the USB stick,
overwriting its current contents. For example, when using an existing GNU/Linux
system, the CD or DVD image file can be written to a USB stick as follows,
after having made sure that the stick is unmounted:

# cp debian.iso /dev/sdX
# sync

Information about how to do this on other operating systems can be found in the
Debian CD FAQ.

Viktigt

The image must be written to the whole-disk device and not a partition, e.g. /
dev/sdb and not /dev/sdb1. Do not use tools like unetbootin which alter the
image.

Viktigt

Simply writing the CD or DVD image to USB like this should work fine for most
users. The other options below are more complex, mainly for people with
specialised needs.

The hybrid image on the stick does not occupy all the storage space, so it may
be worth considering using the free space to hold firmware files or packages or
any other files of your choice. This could be useful if you have only one stick
or just want to keep everything you need on one device.

Create a second, FAT partition on the stick, mount the partition and copy or
unpack the firmware onto it. For example:

# mount /dev/sdX2 /mnt
# cd /mnt
# tar zxvf /sökväg/till/fast-programvara.tar.gz
# cd /
# umount /mnt

You might have written the mini.iso to the USB stick. In this case the second
partition doesn't have to be created as, very nicely, it will already be
present. Unplugging and replugging the USB stick should make the two partitions
visible.

4.3.2. Manually copying files to the USB stick

An alternative way to set up your USB stick is to manually copy the installer
files, and also a CD image to it. Note that the USB stick should be at least 1
GB in size (smaller setups are possible if you follow Avsnitt 4.3.3, "Manually
copying files to the USB stick -- the flexible way").

Det finns en allt-i-ett-fil kallad hd-media/boot.img.gz som innehåller alla
installationsprogrammets filer (inklusive kärnan) såväl som syslinux och dess
konfigurationsfil .

Observera att, även om det är bekvämt, denna metod har en stor nackdel: den
logiska storleken för enheten kommer att vara begränsad till 1 GB, även om
kapaciteten för USB-minnet är större. Du kommer att behöva partitionera om
USB-minnet och skapa nya filsystem för att få dess fullständiga kapacitet
tillbaka om du någon gång vill använda det för andra ändamål.

För att använda denna avbildning så behöver du bara extrahera den direkt till
ditt USB-minne:

# zcat boot.img.gz > /dev/sdX

After that, mount the USB memory stick (mount /dev/sdX /mnt), which will now
have a FAT filesystem on it, and copy a Debian ISO image (netinst or full CD)
to it. Unmount the stick (umount /mnt) and you are done.

4.3.3. Manually copying files to the USB stick -- the flexible way

If you like more flexibility or just want to know what's going on, you should
use the following method to put the files on your stick. One advantage of using
this method is that -- if the capacity of your USB stick is large enough -- you
have the option of copying any ISO image, even a DVD image, to it.

4.3.3.1. Partitionera USB-minnet

Vi kommer nu att visa hur man ställer in USB-minnet att använda första
partitionen, istället för hela enheten.

Notera

Since most USB sticks come pre-configured with a single FAT16 partition, you
probably won't have to repartition or reformat the stick. If you have to do
that anyway, use cfdisk or any other partitioning tool to create a FAT16
partition^[3], install an MBR using:

# install-mbr /dev/sdX

The install-mbr command is contained in the mbr Debian package. Then create the
filesystem using:

# mkdosfs /dev/sdX1

Take care that you use the correct device name for your USB stick. The mkdosfs
command is contained in the dosfstools Debian package.

För att kunna starta kärnan efter uppstart från USB-minnet så lägger vi på en
starthanterare på minnet. Även om valfri starthanterare (exempelvis lilo) bör
fungera så är det bekvämt att använda syslinux, eftersom den använder en
FAT16-partition och kan konfigureras om genom att redigera en textfil. Alla
operativsystem som har stöd för FAT-filsystemet kan användas för att göra
ändringar i konfigurationen av starthanteraren.

För att lägga syslinux på FAT16-partitionen på ditt USB-minne, installera
paketen syslinux och mtools på ditt system och kör:

# syslinux /dev/sdX1

Än en gång, se till att du använder det korrekta enhetsnamnet. Partitionen får
inte vara monterad när syslinux startas. Den här proceduren skriver en
startsektor till partitionen och skapar filen ldlinux.sys som innehåller
starthanterarens programkod.

4.3.3.2. Lägg till installationsavbildningen

Mount the partition (mount /dev/sdX1 /mnt) and copy the following installer
image files to the stick:

  • vmlinuz or linux (kernel binary)

  • initrd.gz (initial ramdisk image)

You can choose between either the text-based or the graphical version of the
installer. The latter can be found in the gtk subdirectory. If you want to
rename the files, please note that syslinux can only process DOS (8.3) file
names.

Next you should create a syslinux.cfg configuration file, which at a bare
minimum should contain the following line (change the name of the kernel binary
to "linux" if you used a netboot image):

default vmlinuz initrd=initrd.gz

For the graphical installer you should add vga=788 to the line. Other
parameters can be appended as desired.

To enable the boot prompt to permit further parameter appending, add a prompt 1
line.

If you used an hd-media image, you should now copy the ISO file of a Debian ISO
image^[4] onto the stick. When you are done, unmount the USB memory stick (
umount /mnt).

4.4. Förbereda filer för uppstart med hårddisk

Installationsprogrammet kan startas upp med uppstartsfiler placerade på en
befintlig hårddiskpartition, antingen startade från ett annat operativsystem
eller genom att kalla upp en starthanterare direkt från BIOS.

En full installation, "helt över nätverket" kan göras med den här tekniken. Det
här förhindrar problem med flyttbar media, hitta och bränna cd-avbildningar
eller kämpa med för många och ej tillförlitliga disketter.

4.4.1. Hard disk installer booting from Linux using LILO or GRUB

Det här avsnittet förklarar hur man lägger till eller ersätter en befintlig
Linux-installation med antingen LILO eller GRUB.

Vid uppstart har båda starthanterarna stöd för att läsa in en kärna och även en
diskavbildning i minnet. Den här RAM-disken kan användas som rotfilsystem av
kärnan.

Kopiera följande filer från Debian-arkiven till en lämplig plats på din
hårddisk (observera att LILO inte kan starta upp från filer på ett
NTFS-filsystem), exempelvis till /boot/newinstall/.

  • vmlinuz (kärnbinär)

  • initrd.gz (ramdiskavbildning)

Till slut, för att konfigurera starthanteraren kan du fortsätta till
Avsnitt 5.1.5, "Uppstart från Linux med LILO eller GRUB".

4.4.2. Hard disk installer booting from DOS using loadlin

Det här avsnittet förklarar hur man förbereder din hårddisk för att starta upp
installationsprogrammet från DOS med loadlin.

Kopiera följande kataloger från en cd-avbildning av Debian till c:\.

  • /install.amd (kärnans binärfil och ramdisk-avbildning)

  • /tools (loadlin-verktyg)

4.5. Förbered filerna för nätverksuppstart via TFTP

Om din maskin är ansluten till ett lokalt nätverk har du möjligheten att starta
upp via nätverket från en annan maskin med TFTP. Om du tänker starta upp
installationssystemet från en annan maskin behöver uppstartsfilerna placeras på
specifika platser på den maskinen och maskinen konfigureras för att få stöd för
uppstart av din specifika maskin.

Du behöver konfigurera en TFTP-server, och för många maskiner även en
DHCP-server, eller BOOTP-server.

BOOTP är ett IP-protokoll som informerar en dator om dess IP-adress och var på
nätverket den kan hämta en uppstartsavbildning. DHCP (Dynamic Host
Configuration Protocol) är en mer flexibel, bakåtkompatibel utökning av BOOTP.
Vissa system kan endast konfigureras via DHCP.

Trivial File Transfer Protocol (TFTP) används för att erbjuda
uppstartsavbildningar till klienten. Teoretiskt sett kan alla servrar, på alla
plattformar, som implementerat de här protokollen, kan användas. I exemplen i
det här avsnittet, tillhandahåller vi kommandon för SunOS 4.x, SunOS 5.x (även
kallad Solaris) och GNU/Linux.

Notera

För en Debian GNU/Linux-server så rekommenderar vi tftpd-hpa. Den är skriven av
samma upphovsman som starthanteraren syslinux och är därför minst sannolik att
orsaka problem. Ett bra alternativ är atftpd.

4.5.1. Konfigurering av DHCP-server

En fri DHCP-serverprogramvara är ISC dhcpd. För Debian GNU/Linux, rekommenderas
paketet isc-dhcp-server. Här är en exempelkonfigurationsfil för det (se /etc/
dhcp/dhcpd.conf):

option domain-name "exempel.se";
option domain-name-servers ns1.exempel.se;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "servernamn";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host klientnamn {
  filename "/tftpboot.img";
  server-name "servernamn";
  next-server servernamn;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

I det här exemplet finns det en server kallad servernamn som gör allt arbete
som DHCP-server, TFTP-server och nätverksgateway. Du behöver nästan säkert
ändra domännamnsalternativen, såväl som servernamnet och klientens
maskinvaruadress. Alternativet filename bör vara ange namnet på den fil som ska
hämtas via TFTP.

Efter du har redigerat konfigurationsfilen för dhcpd, starta om den med /etc/
init.d/isc-dhcp-server restart.

4.5.1.1. Aktivera PXE-uppstart i DHCP-konfigurationen

Här är ett annat exempel på en dhcp.conf, som använder Pre-boot Execution
Environment-metoden (PXE) för TFTP.

option domain-name "exempel.se";

default-lease-time 600;
max-lease-time 7200;

allow booting;
allow bootp;

# Nästa paragraf behöver ändras för att passa din miljö
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# gatewayadressen kan vara olik
# (tillgång till Internet till exempel)
  option routers 192.168.1.1;
# indikerar dns-servern du vill använda
  option domain-name-servers 192.168.1.3;
}

group {
 next-server 192.168.1.3;
 host tftpclient {
# maskinvaruadressen för tftp-klienten
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Observera att för PXE-uppstarter är klientfilnamnet pxelinux.0 en
starthanterare, inte en kärnavbildning (se Avsnitt 4.5.4, "Flytta
TFTP-avbildningarna till rätt plats" nedan).

If your machine uses UEFI to boot, you will have to specify a boot loader
appropriate for UEFI machines, for example

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Konfigurera en BOOTP-server

Det finns två BOOTP-servrar tillgängliga för GNU/Linux. Den första är CMU 
bootpd. Den andra är faktiskt en DHCP-server: ISC dhcpd. I Debian GNU/Linux
finns dessa i paketen bootp respektive isc-dhcp-server.

För att använda CMU bootpd, måste du först kommentera bort (eller lägga till)
den relevanta raden i /etc/inetd.conf. På Debian GNU/Linux kan du köra
update-inetd --enable bootps, sedan /etc/init.d/inetd reload för att göra det.
Om din BOOTP-server inte kör Debian, bör raden i fråga se ut så här:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Nu måste du skapa filen /etc/bootptab. Den har samma sorts familjära och
kryptiska format som de gamla goda BSD-filerna printcap, termcap och disktab.
Se manualsidan för bootptab för mer information. För CMU bootpd behöver du
känna till maskinvaruadressen (MAC) för klienten. Här är ett exempel på en /etc
/bootptab:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Du behöver ändra åtminstone alternativet "ha", som anger maskinvaruadressen för
klienten. Alternativet "bf" anger filen som klienten bör hämta via TFTP; se
Avsnitt 4.5.4, "Flytta TFTP-avbildningarna till rätt plats" för mer detaljer.

Tvärtemot är konfigurering av BOOTP med ISC dhcpd riktigt enkelt, för att den
behandlar BOOTP-klienter som vanliga specialfall av DHCP-klienter. Vissa
arkitekturer kräver en komplex konfiguration för att starta upp klienter via
BOOTP. Om din dator är en av dessa, läs avsnittet Avsnitt 4.5.1, "Konfigurering
av DHCP-server". Om inte, kommer du antagligen komma undan med att bara lägga
till direktivet allow bootp till konfigurationsblocket för subnätet som
innehåller klienten i /etc/dhcp/dhcpd.conf, och starta om dhcpd med /etc/init.d
/isc-dhcp-server restart.

4.5.3. Aktivering av TFTP-server

För att få igång TFTP-servern så bör du först försäkra dig om att tftpd är
aktiverad.

I det fallet med tftpd-hpa så finns det två sätt som tjänsten kan köras på. Den
kan startas vid behov av systemets inetd-demon, eller så kan den konfigureras
till att köras som en oberoende demon. Vilken av dessa metoder som används
väljs när paketet installeras och kan ändras genom att konfigurera om paketet.

Notera

Historiskt sett hanterade TFTP-servrarna avbildningar från katalogen /tftpboot.
Dock kan Debian GNU/Linux-paket använda andra kataloger för att följa
Filesystem Hierarchy Standard. Till exempel, tftpd-hpa använder som standard /
srv/tftp. Du kan därför behöva justera konfigurationsexemplen i det här
avsnittet.

Alla tillgängliga alternativ för in.tftpd i Debian bör logga TFTP-begäran till
systemloggarna som standard. Vissa av dem har stöd för argumentet -v för att
öka informationsnivån. Det rekommenderas att kontrollera dessa loggmeddelanden
när uppstartsproblem sker eftersom de är en bra startpunkt för att
diagnostisera orsaken till felen.

4.5.4. Flytta TFTP-avbildningarna till rätt plats

Placera sedan TFTP-uppstartsavbildningen du behöver, som du hittar i
Avsnitt 4.2.1, "Var man får tag på installationsavbildningar", i katalogen för
uppstartsavbildningar för tftpd. Du kan behöva att skapa en länk från den filen
till den fil som tftpd kommer att använda för att starta upp en specifik
klient. Tyvärr fastställs filnamnet av TFTP-klienten och det finns inga riktiga
standarder.

For PXE booting, everything you should need is set up in the netboot/
netboot.tar.gz tarball. Simply extract this tarball into the tftpd boot image
directory. Make sure your dhcp server is configured to pass pxelinux.0 to tftpd
as the filename to boot. For UEFI machines, you will need to pass an
appropriate EFI boot image name (such as /debian-installer/amd64/
bootnetx64.efi).

4.6. Automatisk installation

For installing on multiple computers it's possible to do fully automatic
installations. Debian packages intended for this include fai-quickstart (which
can use an install server) and the Debian Installer itself. Have a look at the
FAI home page for detailed information.

4.6.1. Automatisk installation med Debian Installer

Debian Installer har stöd för att automatisera installationer via
förkonfigurationsfiler. En förkonfigurationsfil kan läsas in från nätverket
eller från flyttbart media, och används för att fylla i svar på frågor som
ställs under installationsprocessen.

Full dokumentation om förinställning inklusive ett fungerande exempel som du
kan redigera finns i Appendix B, Automatiserad installation med
förinställningar.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] Don't forget to set the "bootable" bootable flag.

^[4] You can use either a netinst or a full CD image (see Avsnitt 4.1,
"Official Debian GNU/Linux CD/DVD-ROM Sets"). Be sure to select one that fits.
Note that the "netboot mini.iso" image is not usable for this purpose.

Kapitel 5. Starta upp installationssystemet

Innehållsförteckning

5.1. Starta upp installationsprogrammet på 64-bit PC

    5.1.1. Uppstart från USB-minne
    5.1.2. Uppstart från en cd-rom
    5.1.3. Starta upp från Windows
    5.1.4. Booting from DOS using loadlin
    5.1.5. Uppstart från Linux med LILO eller GRUB
    5.1.6. Uppstart via TFTP
    5.1.7. Uppstartsskärmen
    5.1.8. The Graphical Installer

5.2. Hjälpmedel

    5.2.1. Installer front-end
    5.2.2. Punktskriftsskärmar med USB
    5.2.3. Punktskriftsskärmar med seriekabel
    5.2.4. Software Speech Synthesis
    5.2.5. Talsynteser (maskinvara)
    5.2.6. Brädenheter
    5.2.7. Tema med hög kontrast
    5.2.8. Zoom
    5.2.9. Expert install, rescue mode, automated install
    5.2.10. Accessibility of the installed system

5.3. Uppstartsparametrar

    5.3.1. Boot console
    5.3.2. Parametrar för Debian Installer
    5.3.3. Använding av uppstartsparametrar för att besvara frågor
    5.3.4. Skicka parametrar till kärnmoduler
    5.3.5. Svartlistning av kärnmoduler

5.4. Felsök installationsprocessen

    5.4.1. Tillförlitlighet för cd-rom
    5.4.2. Uppstartskonfiguration
    5.4.3. Software Speech Synthesis
    5.4.4. Vanliga installationsproblem på 64-bit PC
    5.4.5. Tolkning av kärnans uppstartsmeddelanden
    5.4.6. Rapportering av installationsproblem
    5.4.7. Skicka installationsrapporter

5.1. Starta upp installationsprogrammet på 64-bit PC

Varning

Om du har andra operativsystem på din dator som du önskar att behålla (via en
uppstartsmeny), bör du försäkra dig om att de har stängts av på ett korrekt
sätt innan du startar installationsprogrammet. Installation av ett
operativsystem under tiden ett annat operativsystem står i viloläge (har
växlats ut till disk) kan resultera i att tillståndsinformationen om
operativsystemet går förlorad eller skadas, vilket kan leda till problem vid en
omstart.

Notera

För information om hur man startar upp det grafiska installationsprogrammet, se
Avsnitt 5.1.8, "The Graphical Installer".

5.1.1. Uppstart från USB-minne

If your computer will boot from USB, this will probably be the easiest route
for installation. Assuming you have prepared everything from Avsnitt 3.6.2,
"Val av uppstartsenhet" and Avsnitt 4.3, "Förbereda filer för uppstart med
USB-minne", just plug your USB stick into some free USB connector and reboot
the computer. The system should boot up, and unless you have used the flexible
way to build the stick and not enabled it, you should be presented with a
graphical boot menu (on hardware that supports it). Here you can select various
installer options, or just hit Enter.

5.1.2. Uppstart från en cd-rom

Om du har en cd-uppsättning och om din maskin har stöd för att starta upp
direkt från cd, bra! Bara att konfigurera ditt system för att starta upp från
en cd som beskrivs i Avsnitt 3.6.2, "Val av uppstartsenhet", mata in din
cd-skiva, starta om och fortsätt till nästa kapitel.

Observera att vissa cd-enheter kan kräva speciella drivrutiner och kan därför
vara otillgängliga i de tidiga stegen av installationen. Om det visar sig att
det vanliga sättet att starta upp från en cd inte fungerar på din maskinvara,
besök det här kapitlet igen och läs om alternativa kärnor och
installationsmetoder som kan fungera för dig.

Even if you cannot boot from CD-ROM, you can probably install the Debian system
components and any packages you want from CD-ROM. Simply boot using a different
medium and when it's time to install the operating system, base system, and any
additional packages, point the installation system at the CD-ROM drive.

Om du har problem att starta upp, se Avsnitt 5.4, "Felsök
installationsprocessen".

5.1.3. Starta upp från Windows

To start the installer from Windows, you can either

  • obtain CD-ROM/DVD-ROM or USB memory stick installation media as described
    in Avsnitt 4.1, "Official Debian GNU/Linux CD/DVD-ROM Sets" respective
    Avsnitt 4.3, "Förbereda filer för uppstart med USB-minne" or

  • download a standalone Windows executable, which is available as tools/
    win32-loader/stable/win32-loader.exe on the Debian mirrors.

Om du använder installationsmedia på cd eller dvd kommer ett
förinstallationsprogram att startas automatiskt när du matar in skivan. I fall
att Windows inte startar det automatiskt eller om du använder en
USB-minnespinne, kan du starta det manuellt genom att gå in på enheten och
starta setup.exe.

After the program has been started, a few preliminary questions will be asked
and the system will be prepared to reboot into the Debian GNU/Linux installer.

5.1.4. Booting from DOS using loadlin

Boot into DOS (not Windows). To do this, you can for instance boot from a
recovery or diagnostic disk.

If you can access the installation CD, change the current drive to the CD-ROM
drive, e.g.

d:

else make sure you have first prepared your hard disk as explained in
Avsnitt 4.4.2, "Hard disk installer booting from DOS using loadlin", and change
the current drive to it if needed.

Enter the subdirectory for the flavor you chose, e.g.,

cd \install.amd

If you prefer using the graphical installer, enter the gtk sub-directory.

cd gtk

Next, execute install.bat. The kernel will load and launch the installer
system.

5.1.5. Uppstart från Linux med LILO eller GRUB

För att starta upp installationsprogrammet från hårddisk måste du första hämta
och placera de nödvändiga filerna som beskrivs i Avsnitt 4.4, "Förbereda filer
för uppstart med hårddisk".

Om du tänkte använda hårddisken bara för att starta upp och sedan hämta allt
över nätverket, bör du hämta filen netboot/debian-installer/amd64/initrd.gz och
dess motsvarande kärna, netboot/debian-installer/amd64/linux. Den låter dig
partionera om hårddisken från vilken du startar upp installationsprogrammet,
dock bör du göra med försiktighet.

Alternativt, om du tänker behålla en befintlig partition på hårddisken i
oförändrat skick under installationen så kan du hämta filen hd-media/initrd.gz
och dess kärna, såväl som en kopia av en cd-avbildning (eller dvd) till enheten
(försäkra dig om att filnamnet slutar på .iso). Installationsprogrammet kan
sedan starta upp från enheten och installera från cd-avbildningen, utan behov
av nätverk.

För LILO, behöver du konfigurera två viktiga saker i /etc/lilo.conf:

  • för att läsa in initrd.gz vid uppstart;

  • få kärnan vmlinuz att använda en RAM-disk som sin rotpartition.

Här är ett exempel på en /etc/lilo.conf:

image=/boot/newinstall/vmlinuz
       label=newinstall
       initrd=/boot/newinstall/initrd.gz

För fler detaljer, referera till manualsidorna initrd(4) och lilo.conf(5). Kör
nu lilo och starta om.

The procedure for GRUB1 is quite similar. Locate your menu.lst in the /boot/
grub/ directory (or sometimes /boot/boot/grub/) and add an entry for the
installer, for example (assuming /boot is on the first partition of the first
disk in the system):

title  Ny installation
root   (hd0,0)
kernel /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz

The procedure for GRUB2 is very similar. The file is named grub.cfg instead of
menu.lst. An entry for the installer would be for instance for example:

menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}

Från och med nu bör det inte vara några skillnader mellan GRUB och LILO.

5.1.6. Uppstart via TFTP

Booting from the network requires that you have a network connection and a TFTP
network boot server (and probably also a DHCP, RARP, or BOOTP server for
automatic network configuration).

The server-side setup to support network booting is described in Avsnitt 4.5,
"Förbered filerna för nätverksuppstart via TFTP".

Det finns olika sätt att göra en TFTP-uppstart på i386.

5.1.6.1. Nätverkskort eller moderkort med stöd för PXE

Det kan vara så att ditt nätverkskort eller moderkort tillhandahåller
funktionalitet för uppstart via PXE. Det är en återimplementation av
TFTP-uppstart från Intel (tm). Om så är fallet kan du konfigurera ditt BIOS att
starta upp från nätverket.

5.1.6.2. Nätverkskort med Network BootROM

Det kan vara så att ditt nätverkskort erbjuder funktionalitet för att starta
upp via TFTP.

5.1.6.3. Etherboot

Etherboot-projektet erbjuder startdisketter och även ROM-filer som kan göra
uppstarter via TFTP.

5.1.7. Uppstartsskärmen

When the installer boots, you should be presented with a friendly graphical
screen showing the Debian logo and a menu:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options             >
Help
Install with speech synthesis

Notera

This graphical screen will look very slightly different depending on how your
computer has booted (BIOS or UEFI), but the same options will be shown.

Depending on the installation method you are using, the "Graphical install"
option may not be available. Bi-arch images additionally have a 64 bit variant
for each install option, right below it, thus almost doubling the number of
options.

For a normal installation, select either the "Graphical install" or the "
Install" entry -- using either the arrow keys on your keyboard or by typing the
first (highlighted) letter -- and press Enter to boot the installer. The "
Graphical install" entry is already selected by default.

Alternativet "Advanced options" ger dig åtkomst till en annan meny som låter
dig starta upp installationsprogrammet i expertläge, räddningsläge och för
automatiserade installationer.

If you wish or need to add any boot parameters for either the installer or the
kernel, press Tab (BIOS boot), or e then down arrow three times then end (UEFI
boot). This will bring the boot command for the selected menu entry and allow
you to edit it to suit your needs. Note that the keyboard layout at this point
is still QWERTY. The help screens (see below) list some common possible
options. Press Enter (BIOS boot) or F10 (UEFI boot) to boot the installer with
your options; pressing Esc will return you to the boot menu and undo any
changes you made.

Choosing the "Help" entry will result in the first help screen being displayed
which gives an overview of all available help screens. To return to the boot
menu after the help screens have been displayed, type 'menu' at the boot prompt
and press Enter. All help screens have a boot prompt at which the boot command
can be typed:

Press F1 for the help index, or ENTER to boot:

At this boot prompt you can either just press Enter to boot the installer with
default options or enter a specific boot command and, optionally, boot
parameters. A number of boot parameters which might be useful can be found on
the various help screens. If you do add any parameters to the boot command
line, be sure to first type the boot method (the default is install) and a
space before the first parameter (e.g., install fb=false).

Notera

Tangentbordet antas ha standardlayouten Amerikansk engelska vid det här
tillfället. Detta betyder att om ditt tangentbord har en annan (språkspecifik)
layout kan bokstäverna som visas på skärmen att vara olika från vad du
förväntar dig när du anger parametrar. Wikipedia har ett schema över den
amerikanska tangentbordslayouten som kan användas som en referens för att hitta
de korrekta tangenterna.

Notera

Om du använder ett system som har BIOS konfigurerat att använda en seriell
konsoll så kanske du inte kan se den initiala startbilden vid uppstart av
installationsprogrammet; du kanske inte ens ser uppstartsmenyn. Det samma kan
ske om du installerar systemet via en fjärrhanteringsenhet som tillhandahåller
ett textgränssnitt till VGA-konsollen. Exempel på dessa enheter inkluderar
textkonsollen för Compaqs "integrated Lights Out" (iLO) och HP:s "Integrated
Remote Assistant" (IRA).

To bypass the graphical boot screen you can either blindly press Esc to get a
text boot prompt, or (equally blindly) press "H" followed by Enter to select
the "Help" option described above. After that your keystrokes should be echoed
at the prompt. To prevent the installer from using the framebuffer for the rest
of the installation, you will also want to add vga=normal fb=false to the boot
prompt, as described in the help text.

5.1.8. The Graphical Installer

The graphical version of the installer is only available for a limited number
of architectures, including 64-bit PC . The functionality of the graphical
installer is essentially the same as that of the text-based installer as it
basically uses the same programs, but with a different frontend.

Although the functionality is identical, the graphical installer still has a
few significant advantages. The main advantage is that it supports more
languages, namely those that use a character set that cannot be displayed with
the text-based "newt" frontend. It also has a few usability advantages such as
the option to use a mouse, and in some cases several questions can be displayed
on a single screen.

The graphical installer is available with all CD images and with the hd-media
installation method. To boot the graphical installer simply select the relevant
option from the boot menu. Expert and rescue mode for the graphical installer
can be selected from the "Advanced options" menu. The previously used boot
methods installgui, expertgui and rescuegui can still be used from the boot
prompt which is shown after selecting the "Help" option in the boot menu.

There is also a graphical installer image that can be netbooted. And there is a
special "mini" ISO image^[5], which is mainly useful for testing.

Just as with the text-based installer it is possible to add boot parameters
when starting the graphical installer.

Notera

The graphical installer requires significantly more memory to run than the
text-based installer: 800MB. If insufficient memory is available, it will
automatically fall back to the text-based "newt" frontend.

If the amount of memory in your system is below 550MB, the graphical installer
may fail to boot at all while booting the text-based installer would still
work. Using the text-based installer is recommended for systems with little
available memory.

5.2. Hjälpmedel

Some users may need specific support because of e.g. some visual impairment. 
USB braille displays are detected automatically (not serial displays connected
via a serial-to-USB converter), but most other accessibility features have to
be enabled manually. On machines that support it, the boot menu emits beeps
when it is ready to receive keystrokes. It beeps once on BIOS systems, and
beeps twice on UEFI systems. Some boot parameters can then be appended to
enable accessibility features (see also Avsnitt 5.1.7, "Uppstartsskärmen").
Note that on most architectures the boot loader interprets your keyboard as a
QWERTY keyboard.

5.2.1. Installer front-end

The Debian installer supports several front-ends for asking questions, with
varying convenience for accessibility: notably, text uses plain text while newt
uses text-based dialog boxes. The choice can be made at the boot prompt, see
the documentation for DEBIAN_FRONTEND in Avsnitt 5.3.2, "Parametrar för Debian
Installer".

5.2.2. Punktskriftsskärmar med USB

Punktskriftsskärmar för USB ska identifieras automatiskt. En textversion av
installationsprogrammet kommer sedan att väljas automatiskt och stöd för
punktskriftsskärmen kommer att installeras automatiskt på målsystemet. Du kan
därför bara trycka på Enter vid uppstartsmenyn. När brltty har startats så kan
du välja en punktskriftstabell genom att gå in i inställningsmenyn.
Dokumentation för tangentbindingar för punktskriftsskärmar finns tillgänglig på
webbsidan för brltty.

5.2.3. Punktskriftsskärmar med seriekabel

Serial braille displays cannot safely be automatically detected (since that may
damage some of them). You thus need to append the brltty=driver,port boot
parameter to tell brltty which driver and port it should use. driver should be
replaced by the two-letter driver code for your terminal (see the BRLTTY manual
). port should be replaced by the name of the serial port the display is
connected to, ttyS0 is the default, ttyUSB0 can be typically used when using a
serial-to-USB converter. A third parameter can be provided, to choose the name
of the braille table to be used (see the BRLTTY manual); the English table is
the default. Note that the table can be changed later by entering the
preference menu. A fourth parameter can be provided to pass parameters to the
braille driver, such as protocol=foo which is needed for some rare models.
Documentation on key bindings for braille devices is available on the brltty
website.

5.2.4. Software Speech Synthesis

Support for software speech synthesis is available on all installer images
which have the graphical installer, i.e. all netinst, CD and DVD images, and
the netboot gtk variant. It can be activated by selecting it in the boot menu
by typing s Enter. The textual version of the installer will then be
automatically selected, and support for software speech synthesis will be
automatically installed on the target system.

If several sound cards are detected, you will be prompted to press Enter when
you hear speech from the desired sound card.

The first question (language) is spoken in english, and the remainder of
installation is spoken in the selected language (if available in espeak).

The default speech rate is quite slow. To make it faster, press CapsLock+6. To
make it slower, press CapsLock+5. The default volume should be medium. To make
it louder, press CapsLock+2. To make it quieter, press CapsLock+1. To get more
details on the browsing shortcuts, see the Speakup guide. To just accept the
default answer for a question, simply press Enter at the prompt. To provide an
empty answer for a question, type ! at the prompt. To get back to the previous
question, type < at the prompt.

5.2.5. Talsynteser (maskinvara)

Support for hardware speech synthesis devices is available on all installer
images which have the graphical installer, i.e. all netinst, CD and DVD images,
and the netboot gtk variant. You thus need to select a "Graphical install"
entry in the boot menu.

Talsyntesenheter (maskinvara) kan inte identifieras automatiskt. Du behöver
därför lägga till uppstartsparametern speakup.synth=drivrutin för att berätta
för speakup vilken drivrutin som den ska använda. drivrutin ska ersättas med
koden för drivrutinen för din enhet (se kodlista för drivrutiner).
Textversionen av installationsprogrammet kommer sedan att väljas automatiskt
och stöd för talsynteser kommer automatiskt att installeras på målsystemet.

5.2.6. Brädenheter

Some accessibility devices are actual boards that are plugged inside the
machine and that read text directly from the video memory. To get them to work
framebuffer support must be disabled by using the vga=normal fb=false boot
parameter. This will however reduce the number of available languages.

If desired a textual version of the bootloader can be activated before adding
the boot parameter by typing h Enter.

5.2.7. Tema med hög kontrast

For users with low vision, the installer can use a high-contrast color theme
that makes it more readable. To enable it, you can use the "Accessible high
contrast" entry from the boot screen with the c shortcut, or append the theme=
dark boot parameter.

5.2.8. Zoom

For users with low vision, the graphical installer has a very basic zoom
support: the Control++ and Control+- shortcuts increase and decrease the font
size.

5.2.9. Expert install, rescue mode, automated install

Expert, Rescue, and Automated installation choices are also available with
accessibility support. To access them, one has to first enter the "Advanced
options" submenu from the boot menu by typing a. When using a BIOS system (the
boot menu will have beeped only once), this has to be followed by Enter ; for
UEFI systems (the boot menu will have beeped twice) that must not be done.
Then, to enable speech synthesis, s can optionally be pressed (followed again
by Enter on BIOS systems but not on UEFI systems). From there, various
shortcuts can be used: x for expert installation, r for rescue mode, or a for
automated installation. Again these need to be followed by Enter when using a
BIOS system.

The automated install choice allows to install Debian completely automatically
by using preseeding, whose source can be entered after accessibility features
get started. Preseeding itself is documented in Appendix B, Automatiserad
installation med förinställningar.

5.2.10. Accessibility of the installed system

Documentation on accessibility of the installed system is available on the
Debian Accessibility wiki page.

5.3. Uppstartsparametrar

Uppstartsparametrar är parametrar för Linux-kärnan som generellt sett används
för att se till att kringutrustning hanteras korrekt. För det mesta kan kärnan
automatiskt identifiera information om din kringutrustning. Ibland behöver du
dock hjälpa kärnan en bit på vägen.

Om det här är första gången du startar upp systemet kan du prova de
uppstartsparametrar som är standard (alltså, ställ inte in några parametrar)
och se om det fungerar korrekt. Det kommer säkert att göra det. Om inte, kan du
starta om senare och leta efter några speciella parametrar som informerar
systemet om din maskinvara.

Information om många uppstartsparametrar kan hittas i Linux BootPrompt HOWTO,
inklusive tips för ovanlig maskinvara. Det här avsnittet innehåller endast en
del av de mest vanliga parametrarna. Vissa vanliga problem finns beskrivna i
Avsnitt 5.4, "Felsök installationsprocessen".

5.3.1. Boot console

If you are booting with a serial console, generally the kernel will autodetect
this. If you have a videocard (framebuffer) and a keyboard also attached to the
computer which you wish to boot via serial console, you may have to pass the
console=device argument to the kernel, where device is your serial device,
which is usually something like ttyS0.

You may need to specify parameters for the serial port, such as speed and
parity, for instance console=ttyS0,9600n8; other typical speeds may be 57600 or
115200. Be sure to specify this option after "---", so that it is copied into
the bootloader configuration for the installed system (if supported by the
installer for the bootloader).

In order to ensure the terminal type used by the installer matches your
terminal emulator, the parameter TERM=type can be added. Note that the
installer only supports the following terminal types: linux, bterm, ansi, vt102
and dumb. The default for serial console in debian-installer is vt102. If you
are using an IPMI console, or a virtualization tool which does not provide
conversion into such terminals types itself, e.g. QEMU/KVM, you can start it
inside a screen session. That will indeed perform translation into the screen
terminal type, which is very close to vt102.

5.3.2. Parametrar för Debian Installer

The installation system recognizes a few additional boot parameters^[6] which
may be useful.

Ett antal parametrar har en "kort form" som hjälper till att undvika
begränsningarna i kärnans kommandoradsflaggor och gör dem enklare att ange. Om
en parameter har en kort form, kommer den att listas inom hakparanteser bakom
den (normala) långa formen. Exemplen i den här handboken kommer vanligtvis att
använda den korta formen också.

debconf/priority (priority)

    Den här parametern ställer in så att meddelanden med lägst prioritet visas.

    Standardinstallationen använder priority=high. Det betyder att både
    meddelanden med prioriteterna hög och kritisk visas, men meddelanden med
    prioriteterna medium och låg hoppas över. Om problem påträffas justerar
    installationsprogrammet prioriteten efter behov.

    Om du lägger till priority=medium som uppstartsparameter kommer du att få
    se installationsmenyn och få mer kontroll över installationen. När priority
    =low används kommer alla meddelanden visas (det här är likvärdigt med
    uppstartsmetoden expert). Med priority=critical kommer
    installationssystemet endast att visa kritiska meddelanden och försöka göra
    det rätta utan att krångla till det.

DEBIAN_FRONTEND

    This boot parameter controls the type of user interface used for the
    installer. The current possible parameter settings are:

      □ DEBIAN_FRONTEND=noninteractive

      □ DEBIAN_FRONTEND=text

      □ DEBIAN_FRONTEND=newt

      □ DEBIAN_FRONTEND=gtk

    The default frontend is DEBIAN_FRONTEND=newt. DEBIAN_FRONTEND=text may be
    preferable for serial console installs. Some specialized types of install
    media may only offer a limited selection of frontends, but the newt and
    text frontends are available on most default install media. On
    architectures that support it, the graphical installer uses the gtk
    frontend.

BOOT_DEBUG

    Ställ in den här uppstartsparametern till 2 innebär att
    installationsprogrammets uppstartsprocess kommer att loggas på ett
    informativt sätt. Ställ in den till 3 och felsökningsloggar blir
    tillgängliga på strategiska punkter i uppstartsprocessen. (Avsluta skalen
    för att fortsätta uppstartsprocessen.)

    BOOT_DEBUG=0

        Det här är standardinställningen.

    BOOT_DEBUG=1

        Mer information än normalt.

    BOOT_DEBUG=2

        Mycket felsökningsinformation.

    BOOT_DEBUG=3

        Skal kommer att köras på olika punkter i uppstartsprocessen för
        detaljerad felsökning. Avsluta skalet för att fortsätta uppstarten.

INSTALL_MEDIA_DEV

    Värdet för parametern är sökvägen till enheten som Debian Installer ska
    läsas in från. Till exempel, INSTALL_MEDIA_DEV=/dev/floppy/0

    Startdisketten, som normalt sett söker av alla disketter den kan hitta
    efter rotdisketten, kan åsidosättas av den här parametern för att endast
    söka på en enhet.

log_host, log_port

    Causes the installer to send log messages to a remote syslog on the
    specified host and port as well as to a local file. If not specified, the
    port defaults to the standard syslog port 514.

lowmem

    Kan användas för att tvinga installationsprogrammet till en lowmem-nivå
    högre än den som installationsprogrammet ställer in som standard baserat på
    tillgängligt minne. Möjliga värden är 1 och 2. Se även Avsnitt 6.3.1.1,
    "Kontrollera tillgängligt minne / minimalt minnesläge".

noshell

    Förhindrar att installationsprogrammet erbjuder interaktiva skal på tty2
    och tty3. Användbart för oövervakade installationer där fysisk säkerhet är
    begränsad.

debian-installer/framebuffer (fb)

    Some architectures use the kernel framebuffer to offer installation in a
    number of languages. If framebuffer causes a problem on your system you can
    disable the feature using the parameter vga=normal fb=false. Problem
    symptoms are error messages about bterm or bogl, a blank screen, or a
    freeze within a few minutes after starting the install.

debian-installer/theme (theme)

    Ett tema bestämmer hur användargränssnittet för installationsprogrammet ser
    ut (färger, ikoner, etc). Vilka teman som finns tillgängliga beror på
    gränssnittet. För närvarande har endast gränssnitten newt och gtk ett "
    mörkt" tema som blev designat för användare med nedsatt syn. Ställ in temat
    genom att starta upp med parametern theme=dark.

netcfg/disable_autoconfig

    By default, the debian-installer automatically probes for network
    configuration via IPv6 autoconfiguration and DHCP. If the probe succeeds,
    you won't have a chance to review and change the obtained settings. You can
    get to the manual network setup only in case the automatic configuration
    fails.

    If you have an IPv6 router or a DHCP server on your local network, but want
    to avoid them because e.g. they give wrong answers, you can use the
    parameter netcfg/disable_autoconfig=true to prevent any automatic
    configuration of the network (neither v4 nor v6) and to enter the
    information manually.

hw-detect/start_pcmcia

    Ställ in till false för att förhindra att PCMCIA-tjänster startas, om det
    orsakar problem. Vissa bärbara datorer är kända för det här problemet.

disk-detect/dmraid/enable (dmraid)

    Ställ in till true för att aktivera stöd för Serial ATA RAID-diskar (kallas
    även för ATA RAID, BIOS RAID eller fake RAID) i installationsprogrammet.
    Observera att stödet för närvarande är experimentellt. Ytterligare
    information kan hittas på Debian Installer Wiki.

preseed/url (url)

    Ange url:en till en förkonfigurationsfil som ska hämtas ner och användas
    för att automatisera installationen. Se Avsnitt 4.6, "Automatisk
    installation".

preseed/file (file)

    Ange sökvägen till en förkonfigurationsfil som ska läsas in för att
    automatisera installationen. Se Avsnitt 4.6, "Automatisk installation".

preseed/interactive

    Ställ in till true för att visa frågor även om de har blivit förinställda.
    Kan vara användbart för testning eller felsökning av en
    förkonfigurationsfil. Observera att det här inte har någon effekt på
    parametrar som skickas som uppstartsparametrar, men för de kan en speciell
    syntax användas. Se Avsnitt B.5.2, "Användning av förinställningar för att
    ändra på standardvärden" för detaljer.

auto-install/enable (auto)

    Fördröj frågor som vanligtvis frågas innan förinställning är möjlig efter
    att nätverket har konfigurerats. Se Avsnitt B.2.3, "Auto-läget" för
    detaljer om hur man automatiserar installationer.

finish-install/keep-consoles

    Under installationer från seriella eller hanteringskonsoller är de vanliga
    virtuella konsollerna (VT1 till VT6) oftast inaktiverade i /etc/inittab.
    Ställ in till true för att förhindra detta.

cdrom-detect/eject

    Som standard, före omstart, matar debian-installer automatiskt ut det
    optiska mediat som användes under installationen. Det kan vara onödigt om
    systemet inte startar upp automatiskt på cd. I vissa fall kan det inte vara
    önskvärt, till exempel om den optiska enheten inte kan mata in mediat själv
    om användaren inte finns där för att göra det manuellt. Många cd-läsare kan
    inte mata in media automatiskt.

    Ställ in till false för att inaktivera automatisk utmatning och tänk på att
    du kan behöva se till att systemet inte startar upp automatiskt från den
    optiska enheten efter den initiala installationen.

base-installer/install-recommends (recommends)

    Genom att ställa in denna flagga till false så kommer
    pakethanteringssystemet att konfigureras till att inte automatiskt
    installera paket som anges med "Recommends", både under installationen och
    för det installerade systemet. Se även Avsnitt 6.3.5, "Installation av
    grundsystemet".

    Observera att denna flagga ger ett smidigare system men kan även resultera
    i att funktioner saknas som du kanske vanligtvis skulle förvänta dig vara
    tillgängliga. Du kan behöva att manuellt installera några av de
    rekommenderade paketen för att få den fullständiga funktionalitet som du
    vill uppnå. Denna flagga bör därför endast användas av mycket erfarna
    användare.

debian-installer/allow_unauthenticated

    Som standard kräver installationsprogrammet att förråden autentiseras med
    en känd gpg-nyckel. Ställ in till true för att inaktivera den
    autentiseringen. Varning: osäkert, rekommenderas inte.

rescue/enable

    Ställ in till true för att gå in i räddningsläget istället för att
    genomföra en normal installation. Se Avsnitt 8.6, "Återställning av ett
    trasigt system".

5.3.3. Använding av uppstartsparametrar för att besvara frågor

Med några undantag kan ett värde ställas in vid uppstartsprompten för valfri
fråga som ställs under installationen, även om det här bara är verkligen
användbart i specifika fall. Allmänna instruktioner om hur man kan göra det här
kan hittas i Avsnitt B.2.2, "Användning av uppstartsparametrar för att
förinställa frågor". Några specifika exempel listas här nedan.

debian-installer/language (language), debian-installer/country (country), 
    debian-installer/locale (locale)

    Det finns två sätt att ange språk, land och lokal att använda för
    installationen och det installerade systemet.

    Första och enklaste är att endast skicka parametern locale. Språk och land
    kommer sedan att ställas in efter dess värde. Du kan till exempel använda
    locale=sv_SE för att välja svenska som språk och Sverige som land
    (sv_SE.UTF-8 kommer att ställas in som standardlokal för det installerade
    systemet). Begränsningen är att inte alla möjliga kombinationer av språk,
    land och lokal kan uppnås på detta sätt.

    Det andra, mer flexibla alternativet är att ange language och country
    separat. I detta fall kan locale valfritt läggas till för att ange en
    specifik standardlokal för det installerade systemet. Exempel: language=sv
    country=SE locale=sv_SE.UTF-8.

anna/choose_modules (modules)

    Kan användas för att automatiskt läsa in installerarkomponenter som inte
    läses in som standard. Exempel på valfria komponenter som kan vara
    användbara är openssh-client-udeb (så att du kan använda scp under
    installationen) och ppp-udeb (se Avsnitt D.5, "Installera Debian GNU/Linux
    över PPP over Ethernet (PPPoE)").

netcfg/disable_autoconfig

    Set to true if you want to disable IPv6 autoconfiguration and DHCP and
    instead force static network configuration.

mirror/protocol (protocol)

    Som standard använder installationsprogrammet http-protokollet för att
    hämta filer från Debian-speglar och ändring av det till ftp är inte möjligt
    under installationer med normal prioritet. Genom att ställa in den här
    parametern till ftp, kan du tvinga installationsprogrammet att använda det
    protokollet istället. Observera att du inte kan välja en ftp-spegel från en
    lista, du måste ange värdnamnet manuellt.

tasksel:tasksel/first (tasks)

    Kan användas för att välja funktioner som inte finns tillgängliga från den
    interaktiva funktionslistan, såsom funktionen kde-desktop. Se
    Avsnitt 6.3.6.2, "Val och installation av programvara" för ytterligare
    information.

5.3.4. Skicka parametrar till kärnmoduler

Om drivrutiner är kompilerade in i kärnan kan du skicka parametrar till dem som
beskrivs i dokumentationen för kärnan. Dock om drivrutinerna är byggda som
moduler och därför att kärnmoduler läses in lite annorlunda under en
installation än vid uppstart av ett installerat system, är det inte möjligt att
skicka parametrar till moduler kan samma sätt som du normalt gör. Istället
behöver du använda en speciell syntax som känns igen av installationsprogrammet
som ser till att parametrarna sparas i de korrekta konfigurationsfilerna och på
så sätt kommer att användas när modulerna faktiskt läses in. Parametrarna
kommer även att propageras automatiskt till konfigurationen för det
installerade systemet.

Observera att det är nuförtiden ganska ovanligt att parametrar behöver skickas
till moduler. I de flesta fall kommer kärnan att söka av befintlig hårdvara i
ett system och ställa in bra standardvärden på det sättet. Dock, i vissa fall,
kan det fortfarande krävas att parametrar ställs in manuellt.

Syntaxen att använda för att ställa in parametrar för moduler är:

modulnamn.parameternamn=värde

Om du behöver skicka flera parametrar till samma eller olika moduler är det
bara att upprepa detta. Till exempel, för att ställa in ett gammalt
3Com-nätverkskort till att använda BNC-kontakten (coax) och IRQ 10, skulle du
skicka:

3c509.xcvr=3 3c509.irq=10

5.3.5. Svartlistning av kärnmoduler

Ibland är kan det vara nödvändigt att svartlista en modul för att förhindra den
från att automatiskt läsas in av kärnan och udev. En anledning kan vara attt en
specifik modul orsakar problem med din maskinvara. Kärnan kan ibland även lista
två olika drivrutiner för samma enhet. Det här kan orsaka att enheten inte
fungerar korrekt om drivrutinerna är i konflikt eller om fel drivrutin läses in
först.

Du kan svartlista en modul genom att använda följande syntax: modulnamn
.blacklist=yes. Det här kommer att göra att modulen blir svartlistad i /etc/
modprobe.d/blacklist.local, både under installationen och för det installerade
systemet.

Observera att en modul fortfarande kan läsas in av själva
installationssystemet. Du kan förhindra det från att hända genom att köra
installationen i expertläget och avmarkera modulen från listan över moduler som
visas under maskinvaruidentifieringsfaserna.

5.4. Felsök installationsprocessen

5.4.1. Tillförlitlighet för cd-rom

Ibland, speciellt med äldre cd-rom-enhet, kan installationsprogrammet
misslyckas att starta upp från en cd-skiva. Installationsprogrammet kan även --
även efter en lyckad uppstart från cd-skiva -- misslyckas att känna igen
cd-rom-enheten eller svara med fel vid läsning från den under installationen.

Det finns många olika möjliga orsaker till dessa problem. Vi kan endast lista
några vanliga problem och tillhandahålla allmänna förslag på hur man hanterar
dem. Resten är upp till dig.

Det finns två mycket enkla saker som du bör prova först.

  • Om cd-skivan inte startar upp, kontrollera att den blev inmatad korrekt och
    att den inte är smutsig.

  • If the installer fails to recognize a CD-ROM, try just running the option 
    Detect and mount CD-ROM a second time. Some DMA related issues with very
    old CD-ROM drives are known to be resolved in this way.

Om det inte fungerar, prova nedanstående förslag. De flesta, men inte alla,
förslag som diskuteras där gäller för både cd-rom och dvd, men vi använder
termen cd-rom för enkelhet.

Om du inte kan få installationen att fungera från cd-rom, prova en av de andra
installationsmetoderna som finns tillgängliga.

5.4.1.1. Vanliga problem

  • Några äldre cd-rom-enheter saknar stöd för att läsa från skivor som blev
    brända med höga hastigheter med en modern cd-brännare.

  • Some very old CD-ROM drives do not work correctly if "direct memory access"
    (DMA) is enabled for them.

5.4.1.2. Hur man undersöker och kanske även löser problem

Prova förslagen som listas här nedan om uppstart med cd-rom misslyckas.

  • Check that your BIOS actually supports booting from CD-ROM (only an issue
    for very old systems) and that CD booting is enabled in the BIOS.

  • Om du hämtat en iso-avbildning, kontrollera att md5-kontrollsumman för
    avbildningar matchar den som listas för avbildningen i filen MD5SUMS som
    bör finnas på samma plats som där du hämtade avbildningen från.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    Kontrollera sedan att md5-kontrollsumman för den brända cd-skivan matchar
    också. Följande kommando bör fungera. Det använder storleken på
    avbildningen för att läsa det korrekta antalet byte från cd-skivan.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 poster in
    262668+0 poster ut
    134486016 bytes (134 MB) kopierade, 97.474 sekunder, 1.4 MB/s

Om, efter att installationsprogrammet har startat upp korrekt, identifieras
inte cd-rom-enheten, kan ibland ett nytt försök lösa problemet. Om du har fler
än en cd-rom-enhet, prova att byta cd-rom-enheten till den andra enheten. Om
det inte fungerar eller om cd-rom-enheten identifieras men det uppstod fel vid
läsningen från den, prova förslagen som listas nedan. Viss grundläggande
kunskap om Linux krävs för det här. För att köra något av kommandona, bör du
först växla till den andra virtuella konsollen (VT2) och aktivera skalet där.

  • Växla till VT4 eller visa innehållet i /var/log/syslog (använd nano som
    redigerare) för att leta efter specifika felmeddelenden. Efter det,
    kontrollera även utskriften för dmesg.

  • Se efter i utdatat från dmesg om din cd-rom-enhet identifierades. Du bör se
    någonting som liknar (raderna behöver inte nödvändigtvis vara lika):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Om du inte ser någonting som liknar det här, är chansen att styrkortet som
    din cd-rom är ansluten till, inte känns igen eller inte stöds alls. Om du
    vet vilken drivrutin som behövs för styrkortet, kan du prova att läsa in
    den manuellt med modprobe.

  • Kontrollera att det finns en enhetsnod för din cd-rom-enhet under /dev/. I
    ovanstående exempel skulle detta vara /dev/sr0. Det bör även finnas en /dev
    /cdrom.

  • Använd kommandot mount för att kontrollera att din cd-rom redan är
    monterad, om inte, försök att montera den manuellt:

    $ mount /dev/hdc /cdrom

    Kontrollera om det uppstod felmeddelanden efter körning av kommandot.

  • Kontrollera om DMA för närvarande är aktiverat:

    $ cd /proc/ide/hdc
    $ grep dma settings
    using_dma      1       0       1       rw

    En "1" i första kolumnen efter using_dma betyder att det är aktiverat. Om
    det är, försök att inaktivera det:

    $ echo -n "using_dma:0" >settings

    Se till att du är i katalogen för enheten som motsvarar din cd-rom-enhet.

  • Om det uppstår problem under installationen, prova att kontrollera
    integriteten för cd-skivan med alternativen nära slutet på
    installationsprogrammets huvudmeny. Det här alternativet kan även användas
    som ett allmänt test för att se om cd-skivan kan läsas tillförlitligt.

5.4.2. Uppstartskonfiguration

Om du har problem med att kärnan hänger sig under uppstartsprocessen, inte
känner igen kringutrustning som du faktiskt har, eller inte korrekt detekterar
vissa enheter, är uppstartsparametrarna det första att kontrollera, vilket
diskuteras i Avsnitt 5.3, "Uppstartsparametrar".

In some cases, malfunctions can be caused by missing device firmware (see
Avsnitt 2.2, "Enheter som kräver fast programvara" and Avsnitt 6.4, "Läsa in
saknad fast programvara").

5.4.3. Software Speech Synthesis

If software speech synthesis does not work, there is most probably an issue
with your sound board, usually because either the driver for it is not included
in the installer, or because it has unusual mixer level names which are set to
muted by default. You should thus submit a bug report which includes the output
of the following commands, run on the same machine from a Linux system which is
known to have sound working (e.g., a live CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Vanliga installationsproblem på 64-bit PC

Det finns några vanliga installationsproblem som kan lösas eller undvikas genom
att skicka med vissa uppstartsparametrar till installationsprogrammet.

Om din skärm börjar visa en konstig bild vid uppstart av kärnan, exempelvis
vitt, svart eller färgat bildpunktsskräp, kan ditt system innehålla ett
problematiskt grafikkort som inte kan byta till framebuffer-läget korrekt. Då
kan du använda uppstartsparametern fb=false för att inaktivera
framebuffer-konsollen. Endast ett fåtal språk kommer då att finnas tillgängliga
under installationen på grund av begränsade konsollfunktioner. Se Avsnitt 5.3,
"Uppstartsparametrar" för detaljer.

5.4.4.1. Systemet fryser under konfigurationsfasen för PCMCIA

Some very old laptop models produced by Dell are known to crash when PCMCIA
device detection tries to access some hardware addresses. Other laptops may
display similar problems. If you experience such a problem and you don't need
PCMCIA support during the installation, you can disable PCMCIA using the
hw-detect/start_pcmcia=false boot parameter. You can then configure PCMCIA
after the installation is completed and exclude the resource range causing the
problems.

Alternativt kan du starta upp installationsprogrammet i expertläget. Du kommer
då att bli frågad att ange inställningar för resursintervall som din maskinvara
behöver. Till exempel, om du har en av Dells bärbara datorer som nämndes ovan,
bör du ange exclude port 0x800-0x8ff här. Det finns också en lista på några
vanliga resursintervall i System resource settings section of the PCMCIA HOWTO.
Observera att du måste ta bort eventuella kommatecken när du anger det här
värdet i installationsprogrammet.

5.4.5. Tolkning av kärnans uppstartsmeddelanden

Under uppstartssekvensen kanske du se många meddelanden liknande can't find
någonting , eller någonting not present, can't initialize någonting, eller till
och med this driver release depends on någonting. De flesta av de här
meddelandena är harmlösa. Du ser dem för att kärnan för installationssystemet
är byggd för att köras på många olika datorer och med många olika
kringutrustningsenheter. Ingen dator kommer så klart att innehålla alla
tänkbara kringutrustningsenheter, så operativsystemet kan klaga en hel del när
den letar efter kringutrustning som du inte har. Du kan också se att systemet
gör en paus. Det händer när det väntar på att en enhet ska svara, och att den
enheten finns inte i ditt system. Om du tycker att tiden det tar att starta upp
systemet är på tok för lång, kan du skapa en anpassad kärna senare (se
Avsnitt 8.5, "Bygg en ny kärna").

5.4.6. Rapportering av installationsproblem

Om du kommer igenom den initiala uppstartsfasen men inte kan färdigställa
installationen, kan menyalternativet Spara felsökningsloggar vara till hjälp.
Det låter dig lagra felloggar från systemet och information om konfigurationen
från installationsprogrammet på en diskett, eller hämta dem med en webbläsare.
Den informationen kan innehålla ledtrådar till vad som gick fel och hur man
rättar till det. Om du skickar in en felrapport kan du bifoga den här
informationen i felrapporten.

Andra relevanta installationsmeddelanden kan hittas i /var/log/ under
installationen, och /var/log/installer/ efter datorn har startats om till det
nyligen installerade systemet.

5.4.7. Skicka installationsrapporter

Om du fortfarande har problem, skicka in en installationsrapport. Vi uppmuntrar
att installationsrapporter skickas in även om installationen lyckats, så att vi
kan få så mycket information som möjligt om många olika
maskinvarukonfigurationer.

Observera att din installationsrapport kommer att publiceras i Debians
felhanteringssystem (BTS) och vidarebefordras till en publik sändlista. Se till
att du använder en e-postadress som du inte har några problem med att den
används publikt.

If you have a working Debian system, the easiest way to send an installation
report is to install the installation-report and reportbug packages (apt
install installation-report reportbug), configure reportbug as explained in
Avsnitt 8.4.2, "Skicka e-post utanför systemet", and run the command reportbug
installation-reports.

Du kan även använda den här mallen när du fyller i installationsrapporter, och
sedan skicka rapporten som en felrapport mot pseudopaketet
installation-reports, genom att skicka den till <submit@bugs.debian.org> (skriv
på engelska).

Package: installation-reports

Boot method: <Hur startade du upp installationsprogrammet? Cd? Diskett? Nätverk?>
Image version: <Fullständig url till avbildningen du hämtade är bäst>
Date: <Datum och tid för installationen>

Machine: <Beskrivning av maskinen (exempelvis IBM Thinkpad R32)>
Processor:
Memory:
Partitions: <df -Tl räcker; en rå partitionstabell föredras>

Utskrift från lspci -nn och lspci -vnn:

Base System Installation Checklist:
[O] = OK, [E] = Fel (förklara nedan), [ ] = provade det inte

Initial boot:           [ ]
Detect network card:    [ ]
Configure network:      [ ]
Detect CD:              [ ]
Load installer modules: [ ]
Detect hard drives:     [ ]
Partition hard drives:  [ ]
Install base system:    [ ]
Clock/timezone setup:   [ ]
User/password setup:    [ ]
Install tasks:          [ ]
Install boot loader:    [ ]
Overall install:        [ ]

Comments/Problems:

<Beskrivning av installationen, i prosa, och eventuella tankar, kommentarer
      och idéer du hade under installationen.>

Beskriv i felrapporten vad problemet var, inklusive de sista meddelandena från
kärnan om problemet var att kärnan hängde sig. Beskriv de steg du tog som
slutade i att systemet fick problem.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[5] The mini ISO image can be downloaded from a Debian mirror as described in
Avsnitt 4.2, "Hämta filer från Debian-speglar". Look for netboot/gtk/mini.iso.

^[6] With current kernels (2.6.9 or newer) you can use 32 command line options
and 32 environment options. If these numbers are exceeded, the kernel will
panic. Also there is a limit of 255 characters for the whole kernel command
line, everything above this limit may be silently truncated.

Kapitel 6. Användning av Debian Installer

Innehållsförteckning

6.1. Hur installationsprogrammet fungerar

    6.1.1. Using the graphical installer

6.2. Introduktion till komponenter
6.3. Användning av individuella komponenter

    6.3.1. Konfiguration av Debians installationsprogram och maskinvara
    6.3.2. Skapa användare och lösenord
    6.3.3. Konfigurera klockan och tidszon
    6.3.4. Partitionering och val av monteringspunkter
    6.3.5. Installation av grundsystemet
    6.3.6. Installera ytterligare programvara
    6.3.7. Gör ditt system klart för uppstart
    6.3.8. Färdigställ installationen
    6.3.9. Felsökning
    6.3.10. Installation över nätverket

6.4. Läsa in saknad fast programvara

    6.4.1. Förbereda ett media
    6.4.2. Fast programvara och det installerade systemet

6.1. Hur installationsprogrammet fungerar

Debians installationsprogram innehåller ett antal komponenter för speciella
ändamål för att genomföra varje funktion i installationen. Varje komponent gör
sin funktion och ställer frågor till användaren vars svar behövs för att utföra
jobbet. Själva frågorna ger olika prioriteringar och prioriteten för frågorna
som kommer att ställas ställs in när installationsprogrammet startas.

När en standardinstallation är genomförd kommer endast viktiga (hög prioritet)
frågor att ställas. Det här resulterar i en mycket automatiserad
installationsprocess med liten interaktivitet för användaren. Komponenter körs
automatiskt i sekvens; vilka komponenter som körs beror huvudsakligen på
installationsmetoden du använder och på din maskinvara. Installationsprogrammet
kommer att använda förvalda värden för frågor som inte ställs.

Om problem uppstår kommer användaren att se ett felmeddelande och
installationsmenyn kan visas för att välja en alternativ åtgärd. Om det inte
uppstår problem kommer användaren aldrig att se installationsmenyn utan kommer
helt enkelt svara på frågor för varje komponent i turordning. Meddelanden om
allvarliga fel har "kritisk" prioritet så att användaren alltid blir
notifierad.

Some of the defaults that the installer uses can be influenced by passing boot
arguments when debian-installer is started. If, for example, you wish to force
static network configuration (IPv6 autoconfiguration and DHCP are used by
default if available), you could add the boot parameter netcfg/
disable_autoconfig=true. See Avsnitt 5.3.2, "Parametrar för Debian Installer"
for available options.

Erfarna användare kan känna sig mer komfortabla med ett menydrivet gränssnitt
där varje steg kontrolleras av användaren i stället för att
installationsprogrammet genomför varje steg automatiskt i sekvens. För att
använda installationsprogrammet på ett manuellt menydrivet sätt kan du lägga
till uppstartsargumentet priority=medium.

Om din maskinvara kräver att du skickar med flaggor till kärnmodulerna när de
installeras behöver du starta upp installationsprogrammet i "expert"läget. Det
här kan göras genom att antingen använda kommandot expert för att starta
installationsprogrammet eller genom att lägga till uppstartsargumentet priority
=low. Expertläget ger dig full kontroll över debian-installer.

I den teckenbaserade miljön stöds inte användningen av en mus. Här är
tangenterna som du kan använda för att navigera i de olika dialogrutorna. Tab
eller höger piltangent flyttar "framåt" och Skift+Tabb eller vänster piltangent
flyttar "bakåt" mellan visade knappar och val. Piltangenterna upp och ned
väljer olika poster i den rullbara listan och rullar även själva listan.
Dessutom går det att, i långa listor, trycka en bokstav för att rulla direkt
till det avsnitt som börjar med den bokstav du tryckte. Det går också att
använda Pg-Up och Pg-Down för att rulla listan i avsnitt. Blanksteg väljer en
post såsom en kryssruta. Använd Enter för att aktivera val.

Vissa dialogrutor kan erbjuda ytterligare hjälp. Om hjälp finns så kommer det
att indikeras på nedre raden i skärmen och den hjälpinformationen kan kommas åt
genom att trycka på F1-tangenten.

Felmeddelanden omdirigeras till den tredje konsollen. Du kan tillgå den här
konsollen genom att trycka Vänster Alt+F3 (håll nere vänster Alt-tangent när du
trycker ned funktionstangenten F3); gå tillbaka till huvudkonsollen för
installationsprogrammet med Vänster Alt+F1.

Dessa meddelanden kan också hittas i /var/log/syslog. Efter installation blir
den här loggen kopierad till /var/log/installer/syslog på ditt nya system.
Andra installationsmeddelanden kan hittas i /var/log/ under installationen och
/var/log/installer/ efter att datorn har startats om till det nya systemet.

6.1.1. Using the graphical installer

The graphical installer basically works the same as the text-based installer
and thus the rest of this manual can be used to guide you through the
installation process.

If you prefer using the keyboard over the mouse, there are two things you need
to know. To expand a collapsed list (used for example for the selection of
countries within continents), you can use the + and - keys. For questions where
more than one item can be selected (e.g. task selection), you first need to tab
to the Fortsätt button after making your selections; hitting enter will toggle
a selection, not activate Fortsätt.

If a dialog offers additional help information, a Help button will be
displayed. The help information can be accessed either by activating the button
or by pressing the F1 key.

To switch to another console, you will also need to use the Ctrl key, just as
with the X Window System. For example, to switch to VT2 (the first debug shell)
you would use: Ctrl+Left Alt+F2. The graphical installer itself runs on VT5, so
you can use Left Alt+F5 to switch back.

6.2. Introduktion till komponenter

Här är en lista på installationskomponenter med en kort beskrivning av varje
komponents syfte. Detaljer du kanske behöver känna till om en specifik
komponent finns i Avsnitt 6.3, "Användning av individuella komponenter".

main-menu

    Visar listan av komponenter för användaren under installationen och startar
    en komponent när den väljs. Huvudmenyns frågor är satta till medium
    prioritet så om din prioritet är satt till hög eller kritisk (hög är
    förvald) kommer du inte att se den här menyn. Om det inträffar fel som
    kräver ingripande från dig kommer prioriteten att nergraderas temporärt för
    att låta dig lösa problemet och i så fall kommer menyn att visas.

    Du kan komma till huvudmenyn genom att välja Bakåt-knappen flera gånger för
    att backa hela vägen ut ur nuvarande komponent.

localechooser

    Låter användaren lokalanpassa installationen och det installerade systemet:
    språk, land och lokaler. Installationsprogrammet kommer att visa
    meddelanden på det valda språket om inte översättningen för det språket
    inte är komplett och då kommer vissa meddelanden att visas på engelska.

console-setup

    Visar en lista på tangentbord från vilken användaren kan välja den modell
    som passar bäst.

hw-detect

    Identifierar automatiskt det mesta av systemets maskinvara inklusive
    nätverkskort, diskettenheter och PCMCIA.

cdrom-detect

    Letar efter och monterar Debians installations-cd.

netcfg

    Konfigurerar datorns nätverksanslutning så att den kan kommunicera mot
    Internet.

iso-scan

    Söker efter ISO-avbildningar (.iso-filer) på hårddiskar.

choose-mirror

    Presenterar en lista av Debian-arkivets speglar. Användaren kan välja
    källan för sina installationspaket.

cdrom-checker

    Kontrollerar integriteten på en cd-rom. På det här sättet kan användare
    förlita sig på att installationsskivan inte är felaktig.

lowmem

    Lowmem försöker att identifiera system med lite minne och gör då olika
    trick att ta bort onödiga delar av debian-installer från minnet (på
    bekostnad av vissa funktioner).

anna

    Anna's Not Nearly APT. Installerar paket som har hämtats från den valda
    spegeln eller cd-skiva.

user-setup

    Ställer in root-lösenordet och lägger till en icke-root-användare.

clock-setup

    Uppdaterar systemklockan och fastställer huruvida klockan är inställd till
    UTC eller inte.

tzsetup

    Väljer tidszonen, baserat på platsen som valdes tidigare.

partman

    Låter användaren partitionera hårddiskar ansluta till systemet, skapa
    filsystem på de valda partitionerna och ansluta dem till monteringspunkter.
    Inkluderat är också intressanta funktioner som ett fullt automatiskt läge
    eller stöd för LVM. Det här är det verktyg som föredras för partitionering
    i Debian.

partitioner

    Låter användaren partitionera disks kopplade till systemet. Ett
    partitioneringsprogram som lämpar sig för din dators arkitektur väljs.

partconf

    Visar en lista av partitioner och skapar filsystem på de valda
    partitionerna enligt användarens instruktioner.

lvmcfg

    Hjälper användaren med konfigurationen av LVM (logisk volymhantering).

mdcfg

    Låter användaren ställa in programvaru-RAID (Redundant Array of Inexpensive
    Disks). Den här programvaru-RAID är normalt sett överlägsen till de billiga
    IDE (pseudomaskinvara) RAID-styrkort som finns på nyare moderkort.

base-installer

    Installerar de mest enkla paketuppsättningar som tillåter datorn att köra
    Debian GNU/Linux efter omstart.

apt-setup

    Konfigurerar apt, mestadels automatiskt, baserad på vilket media som
    installationsprogrammet körs från.

pkgsel

    Använder tasksel för att välja och installera ytterligare programvara.

os-prober

    Identifierar nuvarande installerade operativsystem på datorn och skickar
    informationen till bootloader-installer vilken kan erbjuda dig möjligheten
    att lägga till upptäckta operativsystem till starthanterarens startmeny.
    Det här sättet gör att användaren lätt kan välja vilken operativsystem som
    ska startas vid uppstart.

bootloader-installer

    De olika installerarna av starthanterare installerar ett
    starthanteringsprogram på hårddisken som är nödvändig för att datorn ska
    starta upp med Linux utan att använda en diskett eller cd-rom. Många
    starthanterare låter användaren välja ett alternativt operativsystem varje
    gång datorn startas.

shell

    Låter användaren starta ett skal från menyn eller på den andra konsollen.

save-logs

    Ger ett sätt för användaren att spela in information på en diskett,
    nätverk, hårddisk eller andra media när problem påträffas för att senare
    kunna skicka en noggrann rapport om problem i installationsprogramvaran
    till Debian-utvecklarna.

6.3. Användning av individuella komponenter

I det här avsnittet kommer vi att beskriva varje installationskomponent i
detalj. Komponenterna har blivit grupperade i steg som bör kännas igen av
användarna. De presenteras i den ordning de dyker upp under installationen.
Observera att inte alla moduler kommer att användas för varje installation;
vilka moduler som faktiskt används beror på installationsmetoden du använder
och på din maskinvara.

6.3.1. Konfiguration av Debians installationsprogram och maskinvara

Låt oss anta att Debian Installer har startat upp och du ser dess första skärm.
Vid den här punkten är de färdigheter som debian-installer har ganska
begränsade. Den vet inte mycket om din maskinvara, vilket språk som föredras
eller inte ens vilken funktion installation ska ha. Var lugn. På grund av att
debian-installer är ganska smart kan den automatiskt söka av din maskinvara,
lokalisera resten av sina komponenter och uppgradera sig själv till ett
kapabelt installationssystem. Dock, du behöver fortfarande hjälpa
debian-installer med viss information som den inte kan fastställa automatiskt
(såsom välja ditt föredragna språk, tangentbordslayout eller val av
nätverksspegel).

Du kommer att märka att debian-installer genomför identifiering av maskinvara
flera gånger under det här steget. Första gången är målet den maskinvara som
behövs för att läsa in komponenter för installationsprogrammet (exempelvis din
cd-rom eller nätverkskort). Eftersom alla drivrutiner kanske inte finns
tillgängliga under den första körningen behövs en repetering av identifieringen
senare i processen.

Under maskinvarudetektering så kontrollerar debian-installer om några av
drivrutinerna för maskinvaran i ditt system kräver att fast programvara läses
in. Om någon fast programvara begärs men inte finns tillgänglig så kommer en
dialogruta att visas där saknad fast programvara läses in från ett flyttbart
media. Se Avsnitt 6.4, "Läsa in saknad fast programvara" för ytterligare
detaljer.

6.3.1.1. Kontrollera tillgängligt minne / minimalt minnesläge

En av de första sakerna som debian-installer gör är att kontrollera
tillgängligt minne. Om det tillgängliga minnet är begränsat kommer den här
komponenten att göra ändringar i installationsprocessen som förhoppningsvis
låter dig installera Debian GNU/Linux på ditt system.

Den första åtgärden man kan göra för att minska installationsprogrammets
minneskonsumtion är att inaktivera översättningar, vilket betyder att
installationen endast kan göras på engelska. Du kan så klart fortfarande
lokalanpassa det installerade system tefter installationen har färdigställts.

Om detta inte är tillräckligt kommer installationsprogrammet att minska
minnesbehovet ytterligare genom att enbart läsa in de komponenter som är
nödvändiga för att genomföra en grundinstallation. Det här minskar
installationssystemets funktionalitet. Du kommer att ges möjlighet att läsa in
individuella komponenter manuellt, men du ska vara medveten om att varje
komponent du väljer använder ytterligare minne och kan således göra att
installationen misslyckas.

När installationsprogrammet har anpassat sig till ett litet minne så bör du
skapa en förhållandevis stor växlingspartition (64-128 MB). Växlingspartitionen
används som virtuellt minne och ökar således mängden minne som är tillgängligt
för systemet. Installationsprogrammet kommer att använda växlingspartitionen så
snart som möjligt i installationsprocessen. Observera att mycket användning av
växlingsutrymmet kommer att minska ditt systems prestanda och kan leda till hög
nyttjandegrad av systemets disk.

Trots dessa åtgärder är det ändå möjligt att ditt system låser sig, att
oväntade fel uppstår eller att processer avslutas av kärnan för att systemet
har slut på minne (vilket resulterar i "Out of memory"-meddelanden på VT4 och i
systemloggen).

Det har till exempel rapporterats om misslyckanden med att skapa ett stort
filsystem av typen ext3 i lågminnesläget, när det finns för lite
växlingsutrymme. Om ett stort växlingsutrymme inte hjälper, prova då istället
att skapa filsystemet som ext2 (vilket är en basfunktion i
installationsprogrammet). Det är möjligt att ändra en ext2-partition till ext3
efter installationen.

Det är möjligt att tvinga installationsprogrammet till att använda en högre
lowmem-nivå än den som är baserad på tillgängligt minne genom att använda
uppstartsparametern "lowmem" som beskrivs i Avsnitt 5.3.2, "Parametrar för
Debian Installer".

6.3.1.2. Val av lokalanpassningsalternativ

In most cases the first questions you will be asked concern the selection of
localization options to be used both for the installation and for the installed
system. The localization options consist of language, location and locales.

Språket du väljer kommer att användas i resten av installationsprocessen om en
översättning av de olika dialogerna finns tillgänglig. Om ingen giltig
översättning finns tillgänglig för det valda språket kommer
installationsprogrammet att falla tillbaka på engelska.

The selected geographic location (in most cases a country) will be used later
in the installation process to select the correct time zone and a Debian mirror
appropriate for that country. Language and country together will help determine
the default locale for your system and select the correct keyboard layout.

Du kommer först att bli frågad att välja ditt föredragna språk. Namnen på
språken listas på både engelska (vänstra sidan) och på själva språket (högra
sidan); namnen på högra sidan visas också i språkets korrekta skrift. Listan är
sorterad efter de engelska namnen. På toppen av listan finns ett extra
alternativ som låter dig att välja lokalen "C" istället för ett språk. Välja
lokalen "C" betyder att installationen fortsätter på engelska; det installerade
systemet kommer inte att ha något stöd för lokalanpassning eftersom paketet
locales inte kommer att installeras.

Next you will be asked to select your geographic location. If you selected a
language that is recognized as an official language for more than one country^
[7], you will be shown a list of only those countries. To select a country that
is not in that list, choose other (the last option). You will then be presented
with a list of continents; selecting a continent will lead to a list of
relevant countries on that continent.

If the language has only one country associated with it, a list of countries
will be displayed for the continent or region the country belongs to, with that
country selected as the default. Use the Go Back option to select countries on
a different continent.

Notera

It is important to select the country where you live or where you are located
as it determines the time zone that will be configured for the installed
system.

If you selected a combination of language and country for which no locale is
defined and there exist multiple locales for the language, then the installer
will allow you to choose which of those locales you prefer as the default
locale for the installed system^[8]. In all other cases a default locale will
be selected based on the selected language and country.

Any default locale selected as described in the previous paragraph will use
UTF-8 as character encoding.

If you are installing at low priority, you will have the option of selecting
additional locales, including so-called "legacy" locales^[9], to be generated
for the installed system; if you do, you will be asked which of the selected
locales should be the default for the installed system.

6.3.1.3. Val av tangentbord

Tangentbord är ofta anpassade efter de tecken som används i ett språk. Välj en
layout som gäller för tangentbordet du använder, eller välj något som liknar
det om tangentbordslayouten du vill välja inte finns. När installationen av
systemet är färdig kommer du kunna välja en tangentbordslayout från en bredare
skala (kör dpkg-reconfigure keyboard-configuration som root efter att du har
färdigställt installationen).

Flytta markören till tangentbordsvalet du önskar och tryck på Enter. Använd
piltangenterna för att flytta markören -- de är på samma plats för alla
tangentbordslayouter på alla språk, så de är oberoende av
tangentbordskonfiguration.

6.3.1.4. Leta efter en ISO-avbildning för Debian Installer

När installation görs via metoden hd-media kommer du till en punkt där du
behöver hitta och montera iso-avbildningen för Debian Installer för att få tag
på resten av installationsfilerna. Komponenten iso-scan gör exakt det.

At first, iso-scan automatically mounts all block devices (e.g. partitions and
logical volumes) which have some known filesystem on them and sequentially
searches for filenames ending with .iso (or .ISO for that matter). Beware that
the first attempt scans only files in the root directory and in the first level
of subdirectories (i.e. it finds /whatever.iso, /data/whatever.iso, but not /
data/tmp/whatever.iso). After an iso image has been found, iso-scan checks its
content to determine if the image is a valid Debian iso image or not. In the
former case we are done, in the latter iso-scan seeks for another image.

Om det tidigare försöket att hitta en iso-avbildning för
installationsprogrammet misslyckades, kommer iso-scan att fråga dig om du vill
genomföra en mer genomgående sökning. Den här fasen kommer inte bara att se på
de översta katalogerna utan gå igenom hela filsystemet.

Om iso-scan inte hittar din iso-avbildning för installationsprogrammet, starta
om till ditt ursprungliga operativsystem och kontrollera om avbilden är
namngiven korrekt (slutar på .iso), om den är placerad på ett filsystem som
känns igen av debian-installer, och om det inte är skadat (validera
kontrollsumman). Erfarna Unix-användare kunde ha gjort det här på andra
konsollen, utan att starta om.

Note that the partition (or disk) hosting the ISO image can't be reused during
the installation process as it will be in use by the installer. To work-around
this, and provided that you have enough system memory, the installer can copy
the ISO image into RAM before mounting it. This is controlled by the low
priority iso-scan/copy_iso_to_ram debconf question (it is only asked if the
memory requirement is met).

6.3.1.5. Konfigurera nätverket

När du kommer till det här steget, om systemet upptäcker att du har fler än en
nätverksenhet, kommer du att bli frågad att välja vilken enhet som ska vara
ditt primära nätverksgränssnitt, alltså det som du vill använda för
installationen. Övriga gränssnitt kommer inte att bli konfigurerade vid den här
tidpunkten. Du kan konfigurera ytterligare gränssnitt efter att installationen
är färdig; se manualsidan interfaces(5).

6.3.1.5.1. Automatic network configuration

By default, debian-installer tries to configure your computer's network
automatically as far as possible. If the automatic configuration fails, that
may be caused by many factors ranging from an unplugged network cable to
missing infrastructure for automatic configuration. For further explanation in
case of errors, check the error messages on the fourth console. In any case,
you will be asked if you want to retry, or if you want to perform a manual
setup. Sometimes the network services used for autoconfiguration can be slow in
their responses, so if you are sure everything is in place, simply start the
autoconfiguration attempt again. If autoconfiguration fails repeatedly, you can
instead choose the manual network setup.

6.3.1.5.2. Manual network configuration

The manual network setup in turn asks you a number of questions about your
network, notably IP address, Netmask, Gateway, Name server addresses, and a
Hostname. Moreover, if you have a wireless network interface, you will be asked
to provide your Wireless ESSID ("wireless network name") and a WEP key or WPA/
WPA2 passphrase. Fill in the answers from Avsnitt 3.3, "Information du behöver"
.

Notera

Några tekniska detaljer du kanske, eller kanske inte, tycker är smidiga:
programmet antar att nätverkets IP-adress är bitvis-OCH av ditt systems
IP-adress och din nätmask. Den kommer att gissa att broadcast-adressen är
bitvis-ELLER av ditt systems IP-adress med bitvis negation av nätmasken. Den
kommer även att gissa din gateway. Om du inte kan hitta något av de här svaren,
använd dessa standardvärden -- du kan ändra dem när systemet har installerats,
om det behövs, genom att redigera /etc/network/interfaces när systemet har
blivit installerat.

6.3.1.5.3. IPv4 and IPv6

From Debian GNU/Linux 7.0 ("Wheezy") onwards, debian-installer supports IPv6 as
well as the "classic" IPv4. All combinations of IPv4 and IPv6 (IPv4-only,
IPv6-only and dual-stack configurations) are supported.

Autoconfiguration for IPv4 is done via DHCP (Dynamic Host Configuration
Protocol). Autoconfiguration for IPv6 supports stateless autoconfiguration
using NDP (Neighbor Discovery Protocol, including recursive DNS server (RDNSS)
assignment), stateful autoconfiguration via DHCPv6 and mixed stateless/stateful
autoconfiguration (address configuration via NDP, additional parameters via
DHCPv6).

6.3.2. Skapa användare och lösenord

Just before configuring the clock, the installer will allow you to set up the "
root" account and/or an account for the first user. Other user accounts can be
created after the installation has been completed.

6.3.2.1. Ställa in ett lösenord för root

Kontot root kallas även för superanvändare; det är ett konto som kringgår alla
säkerhetsskydd på ditt system. Root-kontot bör endast användas för
systemadministration och endast användas under en så kort tid som möjligt.

Lösenord som du skapar bör innehålla åtminstone 6 tecken och bör innehålla både
versaler och gemener, såväl som specialtecken. Ta extra hänsyn när du ställer
in ditt root-lösenord eftersom det är ett sådant kraftfullt konto. Undvik ord
som man hittar i ordböcker eller användning av personlig information som lätt
kan gissas.

Om någon berättar för dig att de behöver ditt root-lösenord, var extremt
försiktig. Du bör normalt sett aldrig ge ut ditt root-lösenord, om du inte
administrerar en maskin med fler än en systemadministratör.

In case you do not specify a password for the "root" user here, this account
will be disabled but the sudo package will be installed later to enable
administrative tasks to be carried out on the new system. By default, the first
user created on the system will be allowed to use the sudo command to become
root.

6.3.2.2. Skapa en vanlig användare

Systemet kommer att fråga dig om du önskar att skapa ett vanligt användarkonto
vid den här punkten. Det här kontot bör vara ditt huvudsakliga personliga
konto. Du bör inte använda rootkontot för dagligt bruk eller som ditt
personliga konto.

Varför inte? Tja, en anledning är att undvika att använda roots privilegier är
att det är mycket lätt att skada något som root och som inte går att rätta
till. En annan anledning är att du kanske luras till att köra en trojansk häst
-- det är ett program som utnyttjar krafterna av din superanvändare för att
åsidosätta säkerheten i ditt system bakom din rygg. En bra bok om
systemadministration i Unix täcker in det här ämnet mer i detalj -- om det här
är nytt för dig, fundera på att läsa en sådan bok.

Du kommer första att bli frågad efter användarens fullständiga namn. Sedan
kommer du att bli frågad efter ett namn på användarens konto; generellt sett
ditt förnamn eller något liknande det bör räcka och det är även standardvalet
här. Till slut kommer du bli frågad efter ett lösenord för kontot.

Om du vill skapa en annan användare vid en senare punkt efter installationen,
använd kommandot adduser.

6.3.3. Konfigurera klockan och tidszon

Installationsprogrammet kommer först att försöka att ansluta till en tidsserver
på Internet (med NTP-protokollet) för att ställa in systemtiden korrekt. Om
detta inte lyckas kommer installationsprogrammet att anta att den tid och datum
som hämtas från systemklockan, när installationssystemet startades upp, är
korrekt. Det är inte möjligt att manuellt ställa in systemtiden under
installationsprocessen.

Depending on the location selected earlier in the installation process, you may
be shown a list of time zones relevant for that location. If your location has
only one time zone and you are doing a default installation, you will not be
asked anything and the system will assume that time zone.

In expert mode or when installing at medium priority, you will have the
additional option to select "Coordinated Universal Time" (UTC) as time zone.

Om du av någon anledning vill ställa in en tidszon för det installerade
systemet som inte matchar den valda platsen så finns det två alternativ.

 1. The simplest option is to just select a different time zone after the
    installation has been completed and you've booted into the new system. The
    command to do this is:

    # dpkg-reconfigure tzdata

 2. Alternativt kan tidszonen ställas in i början av installationen genom att
    skicka parametern time/zone=värde när du startar upp installationssystemet.
    Värdet ska så klart vara en giltig tidszon, till exempel Europe/London
    eller UTC.

For automated installations the time zone can be set to any desired value using
preseeding.

6.3.4. Partitionering och val av monteringspunkter

Vid den här tidpunkten, efter identifiering av maskinvara har startats en sista
gång, bör debian-installer vara vid sin fulla kraft, anpassad för användarens
behov och klar att göra ett riktigt jobb. Precis som titeln på det här
avsnittet indikerar är huvudfunktionen för de nästkommande komponenterna
partitionering av dina diskar, skapande av filsystem, tilldelning av
monteringspunkter och även konfigurering av närliggande saker som krypterade
LVM eller RAID-enheter.

Om du känner dig osäker med partitionering eller bara vill veta mer detaljer,
se Appendix C, Partitionera för Debian.

Först kommer du få möjligheten att automatiskt partitionera antingen en hel
disk eller ledigt utrymme på en disk. Det finns också en så kallad "guidad"
partitionering. Om du inte vill partitionera automatiskt, välj Manuell från
menyn.

6.3.4.1. Partitionsflaggor som stöds

The partitioner used in debian-installer is fairly versatile. It allows to
create many different partitioning schemes, using various partition tables,
file systems and advanced block devices.

Exactly which options are available depends mainly on the architecture, but
also on other factors. For example, on systems with limited internal memory
some options may not be available. Defaults may vary as well. The type of
partition table used by default can for example be different for large capacity
hard disks than for smaller hard disks. Some options can only be changed when
installing at medium or low debconf priority; at higher priorities sensible
defaults will be used.

Installationsprogrammet har stöd för olika former av avancerad partitionering
och användningen av lagringsenheter, vilket i många fall kan kombineras.

  • Logisk volymhantering (LVM)

  • Programvaru-RAID

    RAID-nivåer som stöds är 0, 1, 4, 5, 6 och 10.

  • Kryptering

  • Serial ATA RAID (med dmraid)

    Also called "fake RAID" or "BIOS RAID". Support for Serial ATA RAID is
    currently only available if enabled when the installer is booted. Further
    information is available on our Wiki.

  • Multipath (experimental)

    See our Wiki for information. Support for multipath is currently only
    available if enabled when the installer is booted.

Följande filsystem stöds.

  • ext2, ext3, ext4

    The default file system selected in most cases is ext4; for /boot
    partitions ext2 will be selected by default when guided partitioning is
    used.

  • jfs (inte tillgänglig på alla arkitekturer)

  • xfs (inte tillgänglig på alla arkitekturer)

  • reiserfs (valfri; inte tillgänglig på alla arkitekturer)

    Support for the Reiser file system is no longer available by default. When
    the installer is running at medium or low debconf priority it can be
    enabled by selecting the partman-reiserfs component. Only version 3 of the
    file system is supported.

  • qnx4

    Existing partitions will be recognized and it is possible to assign mount
    points for them. It is not possible to create new qnx4 partitions.

  • FAT16, FAT32

  • NTFS (skrivskyddad)

    Existing NTFS partitions can be resized and it is possible to assign mount
    points for them. It is not possible to create new NTFS partitions.

6.3.4.2. Guidad partitionering

Om du väljer guidad partitionering har du tre alternativ: skapa partitioner
direkt på hårddisken (klassisk metod), skapa dem med logisk volymhantering
(LVM), eller att skapa dem med krypterad LVM^[10].

Notera

Alternativet att använda (krypterad) LVM kanske inte är tillgängligt på alla
arkitekturer.

När LVM eller krypterad LVM används kommer installationsprogrammet att skapa de
flesta partitioner inne i en stor partition; fördelen med den här metoden är
att partitioner inne i den här stora partitionen kan man enkelt ändra storlek
på senare. I fallet med krypterad LVM, kommer den stora partitionen inte vara
läsbar utan att känna till en speciell nyckelfras, vilket ger extra säkerhet
för ditt (personliga) data.

När krypterad LVM används, kommer installationsprogrammet även att automatiskt
radera disken genom att skriva slumpmässig data till den. Det här ökar på
säkerheten ytterligare (och gör det omöjligt att se vilka delar av disken som
används och ser även till att eventuella spår av tidigare installationer
raderas), men kan ta lite tid beroende på storleken på din disk.

Notera

Om du väljer guidad partitionering med LVM eller krypterad LVM, kommer vissa
ändringar i partitionstabellen att behöva skrivas till den valda disken när LVM
konfigureras. Dessa ändringar raderar effektivt all data som för närvarande
finns på den valda hårddisken och du kommer inte kunna ångra den här åtgärden.
Dock kommer installationsprogrammet fråga dig att bekräfta dessa ändringar
innan de skrivs till disken.

If you choose guided partitioning (either classic or using (encrypted) LVM) for
a whole disk, you will first be asked to select the disk you want to use. Check
that all your disks are listed and, if you have several disks, make sure you
select the correct one. The order they are listed in may differ from what you
are used to. The size of the disks may help to identify them.

Any data on the disk you select will eventually be lost, but you will always be
asked to confirm any changes before they are written to the disk. If you have
selected the classic method of partitioning, you will be able to undo any
changes right until the end; when using (encrypted) LVM this is not possible.

Härnäst kommer du att kunna välja från de planer som listas i tabellen nedan.
Alla planer har sina för- och nackdelar, vissa av dem diskuteras i Appendix C, 
Partitionera för Debian. Om du är osäker, välj den första. Tänk dock på att
guidad partitionering behöver en viss minimal mängd av ledigt utrymme att
arbeta med. Om du inte ger den åtminstone 1 GB utrymme (beroende på vald plan),
kommer den guidade partitioneringen att misslyckas.

┌────────────────────────────────────────┬────────────┬───────────────────────┐
│          Partitioneringsplan           │   Minsta   │  Skapade partitioner  │
│                                        │  utrymme   │                       │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Alla filer på en partition              │600 MB      │/, växl                │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Separat partition för /home             │500 MB      │/, /home, växl         │
├────────────────────────────────────────┼────────────┼───────────────────────┤
│Separata partitioner för /home, /var och│1 GB        │/, /home, /var, /tmp,  │
│/tmp                                    │            │växl                   │
└────────────────────────────────────────┴────────────┴───────────────────────┘

Om du väljer guidad partitionering med (krypterad) LVM kommer
installationsprogrammet även att skapa en separat partition för /boot. De andra
partitionerna, inklusive växlingsutrymmet, kommer att skapas inom
LVM-partitionen.

If you have booted in EFI mode then within the guided partitioning setup there
will be an additional partition, formatted as a FAT32 bootable filesystem, for
the EFI boot loader. This partition is known as an EFI System Partition (ESP).
There is also an additional menu item in the formatting menu to manually set up
a partition as an ESP.

Efter du valt en plan kommer nästa skärm att visa din nya partitionstabell,
inklusive information om hur och om partitionerna kommer att formateras och var
de kommer att monteras.

Listan över partitioner kan se ut som den här:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primär    16.4 MB  B f ext2       /boot
        #2 primär   551.0 MB      växl       växl
        #3 primär     5.8 GB      ntfs
           pri/log    8.2 MB      LEDIGT UTRYMME

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primär    15.9 MB      ext3
        #2 primär   996.0 MB      fat16
        #3 primär     3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logisk     1.0 GB    f ext3       /var
        #7 logisk   498.8 MB      ext3

Det här exemplet visar två hårddiskar som delats upp i flera partitioner;
första disken har ledigt utrymme. Varje partitionsrad innehåller
partitionsnumret, dess typ, storlek, valfria flaggor, filsystem och
monteringspunkt (om det finns någon). Observera: denna specifika konfiguration
kan inte skapas med en guidad partitionering men det visar en möjlig variation
som kan uppnås med manuell partitionering.

Det här sammanfattar den guidade partitioneringen. Om du är nöjd med den
genererade partitionstabellen kan du välja Slutför partitioneringen och skriv
ändringarna till hårddisken från menyn för att implementera den nya
partitionstabellen (som beskrivs i slutet av det här avsnittet). Om du inte är
nöjd kan du välja att Ångra ändringarna på partitionerna och köra den guidade
partitioneringen igen eller modifiera de föreslagna ändringarna som beskrivs
nedan för manuell partitionering.

6.3.4.3. Manuell partitionering

En liknande skärm till den som visades ovanför kommer att visas om du väljer
manuell partitionering förutom att din befintliga partitionstabell kommer att
visas och utan monteringspunkterna. Hur du manuellt konfigurerar din
partitionstabell och användningen av partitioner av ditt nya Debian-system
kommer att täckas in av den återstående delen av det här avsnittet.

Om du väljer en ren disk som inte har några partitioner eller ledigt utrymme på
sig, kommer du bli tillfrågad om en ny partitionstabell ska skapas (det behövs
så att du kan skapa nya partitioner). Efter det här ska en ny rad med texten "
LEDIGT UTRYMME" visas i tabellen under en valda disken.

If you select some free space, you will have the opportunity to create a new
partition. You will have to answer a quick series of questions about its size,
type (primary or logical), and location (beginning or end of the free space).
After this, you will be presented with a detailed overview of your new
partition. The main setting is Use as:, which determines if the partition will
have a file system on it, or be used for swap, software RAID, LVM, an encrypted
file system, or not be used at all. Other settings include mountpoint, mount
options, and bootable flag; which settings are shown depends on how the
partition is to be used. If you don't like the preselected defaults, feel free
to change them to your liking. E.g. by selecting the option Use as:, you can
choose a different filesystem for this partition, including options to use the
partition for swap, software RAID, LVM, or not use it at all. When you are
satisfied with your new partition, select Done setting up the partition and you
will return to partman's main screen.

Om du bestämmer dig för att du vill ändra någonting på din partition, välj helt
enkelt partitionen för att ta dig till konfigurationsmenyn för partitioner. Det
här är samma skärm som när man skapar en ny partition, så du kan ändra samma
inställningar. En sak som kanske inte är självklar vid första anblicken är att
du kan ändra storleken på partitionen genom att välja posten som visar
partitionens storlek. Filsystem som är kända att fungera är bland annat fat16,
fat32, ext2, ext3 och swap (växlingsutrymme). Den här menyn låter dig även ta
bort en partition.

Var säker på att du skapar åtminstone två partitioner: en för rotfilsystemet
(som måste monteras som /) och en för swap (växlingsutrymme). Om du glömde att
montera rotfilsystemet kommer partman inte låta dig fortsätta förrän du har
rättat till det.

If you boot in EFI mode but forget to select and format an EFI System
Partition, partman will detect this and will not let you continue until you
allocate one.

Färdigheterna som partman besitter kan utökas med moduler, men är beroende på
din systemarkitektur. Om du inte kan se alla utlovade godsaker, kontrollera om
du har läst in alla nödvändiga moduler (exempelvis partman-ext3, partman-xfs
eller partman-lvm).

Efter att du är nöjd med partitioneringen, välj Slutför partitioneringen och
skriv ändringarna till hårddisken från partitioneringsmenyn. Du kommer att bli
visad ett sammandrag på ändringar gjorda på diskarna och bli frågad att
bekräfta skapandet av begärda filsystem.

6.3.4.4. Konfiguration av multidiskenheter (Programvaru-RAID)

Om du har fler än en hårddisk^[11] i din dator, kan du använda mdcfg för att
ställa in dina diskar för ökad prestanda eller bättre tillförlitlighet på ditt
data. Resultatet kallas för Multidisk Device (eller efter dess mest kända
variant programvaru-RAID).

MD är enkelt sett en samling partitioner som finns på olika diskar och
kombineras ihop för att skapa en logisk enhet. Den här enheten kan sedan
användas som en vanlig partition (alltså, i partman kan du formatera den, ge
den en monteringspunkt, etc.).

Fördelarna som du får beror på den typ av MD-enhet du skapar. För närvarande
stöds:

RAID0

    Är huvudsakligen riktad mot prestanda. RAID0 delar upp all inkommande data
    i stripes och distribuerar dem jämnt över alla diskar i kedjan. Det här kan
    öka hastigheten på läs- och skrivoperationer men när en av diskarna går
    sönder kommer du att förlora allting (delar av informationen finns
    fortfarande på den friska disken (eller flera), den andra delen fanns på
    den trasiga disken).

    Typisk användning för RAID0 är en partition för videoredigering.

RAID1

    Är lämplig för konfigurationer där tillförlitlighet är ledordet. Den
    innehåller flera (vanligtvis två) lika stora partitioner där varje
    partition innehåller exakt samma data. Det här betyder tre saker. För det
    första, om en av dina diskar går sönder, kommer du fortfarande att ha data
    speglat på de återstående diskarna. För det andra, du kan endast använda en
    liten del av den tillgängliga kapaciteten (mer specifikt, det är storleken
    på den minsta partitionen i RAID-kedjan). För det tredje, filläsningar är
    lastbalanserade mellan diskarna, vilket kan öka prestandan på en server,
    såsom en filserver, som brukar vara belastad med fler diskläsningar än
    skrivningar.

    Du kan även ha en reservdisk i kedjan som kommer att ta över platsen för en
    trasig disk om något går fel.

RAID5

    Är en bra kompromiss mellan hastighet, tillförlitlighet och dataredundans.
    RAID5 delar upp all inkommande data i "stripes" och distribuerar dem jämnt
    på alla utan en disk (liknande RAID0). Tvärtemot RAID0 beräknar även RAID5
    paritetsinformation, som skrivs på den återstående disken. Paritetsdisken
    är inte statisk (det skulle kallas för RAID4), utan förändras periodvis, så
    att partitetsinformationen distribueras jämnt över alla diskar. När en av
    diskarna går sönder, kan den saknade delen av informationen beräknas
    utifrån det återstående datat och dess paritet. RAID5 måste innehålla
    åtminstone tre aktiva partitioner. Du kan även ha en reservdisk i kedjan
    som kommer att ta över platsen för en trasig disk om något går fel.

    Som du kan se, RAID5 har tillförlitlighet som liknar den för RAID1 men
    erbjuder mindre redundans. Å andra sidan är den kanske lite långsammare på
    skrivoperationer än RAID0 på grund av beräkningarna av paritetsinformation.

RAID6

    Liknar RAID5 förutom att den använder två paritetsdiskar istället för en.

    En RAID6-kedja kan överleva upp till två trasiga diskar.

RAID10

    RAID10 kombinerar stripning (som i RAID0) och spegling (som i RAID1). Den
    skapar n kopior av inkommande data och distribuerar dem över partitionerna
    så att ingen av kopiorna av samma data finns på samma disk. Standardvärdet
    för n är 2, men det kan ställas in till något annat expertläget. Antalet
    partitioner som används måste vara minst n. RAID10 har olika layouter för
    distribuering av kopior. Standard är nära kopior. Nära kopior har alla
    kopior på samma position på alla diskarna. Fjärran kopior har kopiorna på
    olika positioner på diskarna. Positionskopior kopierar stripen, men inte de
    individuella kopiorna.

    RAID10 kan användas för att uppnå tillförlitlighet och redundans utan
    nackdelen att behöva beräkna paritetsinformation.

För att summera:

┌──────┬─────────┬───────────┬─────────┬──────────────────────────────────────┐
│      │ Minimum │           │Överlever│                                      │
│ Typ  │  antal  │Reservenhet│diskfel? │          Tillgänglig plats           │
│      │ enheter │           │         │                                      │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID0 │2        │nej        │nej      │multiplicerat med antalet enheter i   │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID1 │2        │valfri     │ja       │Storlek för den minsta partitionen i  │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID5 │3        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus en)                        │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID6 │4        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus två)                       │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID10│2        │valfri     │ja       │Totalen för alla partitioner delat med│
│      │         │           │         │antalet delkopior (standard är två)   │
└──────┴─────────┴───────────┴─────────┴──────────────────────────────────────┘

Om du vill veta mer om programvaru-RAID, ta en titt på Software RAID HOWTO.

För att skapa en MD-enhet behöver du markera de partitioner som den ska
innehålla markerade för användning i ett RAID. (Det här gör man i partman i
menyn Partitionsinställningar där du bör välja Använd som: → fysisk volym för
RAID.)

Notera

Försäkra dig om att systemet kan startas upp med partitioneringsplanen som du
planerar. I allmänhet är det nödvändigt att skapa ett separat filsystem för /
boot när man använder RAID för rotfilsystemet (/). De flesta starthanterare 
(inklusive lilo och grub) har stöd för speglad (inte striped!) RAID1, så om man
till exempel använder RAID5 för / och RAID1 för /boot kan det vara ett
alternativ.

Efter det ska du välja Konfigurera programvaru-RAID från huvudmenyn i partman.
(Menyn kommer endast att visas om du markerat minst en partition för användning
som fysisk volym för RAID.) På första skärmen i mdcfg, välj helt enkelt Skapa
MD-enhet. Du kommer att bli visad en lista på typer av MD-enheter som stöds,
från vilken du bör välja en (t.ex. RAID1). Vad som kommer härnäst beror på den
MD-typ du har valt.

  • RAID0 är enkel -- du kommer att visas en lista över tillgängliga
    RAID-partitioner och du behöver endast välja de partitioner som ska utgöra
    MD-enheten.

  • RAID1 är lite mer besvärlig. Först kommer du bli tillfrågad att ange
    antalet aktiva enheter samt antalet reservenheter som ska utgöra din MD.
    Sedan behöver du från listan av tillgängliga RAID-partitioner välja vilka
    som ska vara aktiva och sedan de som ska vara reserver. Antalet valda
    partitioner måste vara samma som antalet som angavs tidigare. Var lugn, om
    du gör ett misstag och väljer ett olikt antal partitioner kommer
    debian-installer inte låta dig fortsätta förräns du har rättat till det.

  • RAID5 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone tre aktiva partitioner.

  • RAID6 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone fyra aktiva partitioner.

  • RAID10 har också en liknande inställningsprocedur som RAID1 förutom i
    expertläget. I expertläget kommer debian-installer att fråga dig om
    layouten. Layouten har två delar. Den första delen är layouttypen. Den är
    antingen n (för nära kopior), f (för fjärran kopior) eller o (för
    positionskopior). Den andra delen är antalet kopior som ska göras av datat.
    Det måste finnas minst så många aktiva enheter så att var och en av
    kopiorna kan distribueras till olika diskar.

Det är fullt möjligt att ha flera MD-typer samtidigt. Till exempel om du har
tre stycken 200 GB stora hårddiskar dedicerade till MD, där varje hårddisk
innehåller två stycken 100 GB stora partitioner, kan du kombinera de första
partitionerna på alla tre hårddiskar till en RAID0 (300 GB stor för snabb
videoredigering) och använda de övriga tre partitionerna (2 aktiva och 1
reserv) för RAID1 (ganska tillförlitlig 100 GB stor partition för /home).

Efter att du har konfigurerat MD-enheterna efter dina behov kan du välja 
Slutför i mdcfg för att återgå till partman för att skapa filsystem på dina nya
MD-enheter och ge dem de vanliga attributen såsom monteringspunkter.

6.3.4.5. Konfigurering av den logiska volymhanteraren (LVM)

Om du arbetar med datorer som en systemadministratör eller "avancerad"
användare har du säkert upplevt en situation där någon diskpartition (oftast
den mest viktiga) fått slut på ledigt utrymme medan någon annan partition haft
otroligt mycket oanvänt utrymme och du har behövt att hantera den här
situationen genom att flytta runt saker, symboliska länkar, etc.

För att undvika de beskrivna situationen kan du använda logisk volymhantering
(LVM). Med LVM kan du kort sagt kombinera dina partitioner (fysiska volymer på
LVM-språk) för att forma en virtuell disk (en så kallad volymgrupp) som sedan
kan delas upp i virtuella partitioner (logiska volymer). Meningen är att
logiska volymer (och så klart de underliggande volymgrupperna) kan spänna över
ett flertal fysiska diskar.

Nu när du har insett att du behöver mer utrymme för din gamla 160 GB stora /
home-partition kan du helt enkelt lägga till en ny 300 GB stor disk till
datorn, låta den bli medlem av din befintliga volymgrupp och sedan förändra
storleken på den logiska volymen som tillhandahåller filsystemet för /home och
voilá -- dina användare har mer plats igen på sin nya 460 GB stora partition.
Det här exemplet är så klart lite grovt förenklat. Om du inte har läst den än
bör du konsultera LVM HOWTO.

LVM-konfiguration i debian-installer är ganska enkel och stöds fullständigt i 
partman. Först måste du markera de partitioner som ska användas som fysiska
volymer för LVM. Det här görs i menyn Partitionsinställningar där du ska välja 
Använd som: → fysisk volym för LVM.

Varning

Be aware: the new LVM setup will destroy all data on all partitions marked with
an LVM type code. So, if you already have an LVM on some of your disks, and
want to install Debian additionally to that machine, the old (already existing)
LVM will be wiped out! The same counts for partitions, which are (for any
reason) misleadingly marked with an LVM type code, but contain something
different (like an encrypted volume). You need to remove such disks from the
system, before performing a new LVM setup!

När du återvänder till huvudskärmen i partman kommer du att se ett nytt
alternativ Konfigurera den logiska volymhanteraren. När du väljer den kommer du
att först bli frågad om att bekräfta väntande ändringar till partitionstabellen
(om det finns några) och sedan kommer LVM-konfigurationsmenyn att visas.
Ovanför menyn visas en sammanfattning av LVM-konfigurationen. Själva menyn är
sammanhangskänslig och visar endast giltiga åtgärder. De möjliga åtgärderna är:

  • Visa konfigurationsdetaljer: visar LVM-enhetsstrukturen, namn och storlekar
    på logiska volymer och annat

  • Skapa volymgrupp

  • Skapa logisk volym

  • Ta bort volymgrupp

  • Ta bort logisk volym

  • Utöka volymgrupp

  • Minska volymgrupp

  • Slutför: återvänd till huvudskärmen för partman

Använd alternativen i den menyn för att först skapa en volymgrupp och sedan
skapa dina logiska volymer i den.

Efter du återvänt till huvudskärmen i partman kommer du att se skapade logiska
volymer på samma sätt som vanliga partitioner (och du bör även behandla dem som
det).

6.3.4.6. Konfigurera krypterade volymer

debian-installer låter dig konfigurera krypterade partitioner. Varje fil som du
skriver på en sådan partition kommer omedelbart att sparas till enheten i
krypterad form. Tillgång till krypterat data ges endast efter att en lösenfras
har angivits när den krypterade partitionen ursprungligen skapades. Denna
funktion är användbart för att skydda känsligt data om till exempel din bärbara
dator eller hårddisk blir stulna. Tjuven kanske får fysisk tillgång till
hårddisken men utan att känna till den rätta lösenfrasen kommer det data som
finns på hårddisken bara att se ut som slumpmässiga tecken.

De två mest viktiga partitionerna att kryptera är: hempartitionen, där ditt
privata data finns och växlingspartitionen, där känsligt data kan lagras
temporärt under körning. Så klart, ingenting hindrar dig från att kryptera
någon annan partition som är av intresse. Till exempel /var där databasservrar,
e-postservrar eller utskriftsservrar lagras sitt data, eller /tmp som används
av olika program för att lagra möjligen intressanta temporärfiler. Vissa
personer kanske även vill kryptera hela sitt system. Det enda undantaget är
partitionen för /boot som måste kvarstå som okrypterad, på grund av att det för
närvarande inte finns något sätt att läsa in kärnan från en krypterad
partition.

Notera

Observera att prestandan för krypterade partitioner kommer att vara mindre än
för okrypterade eftersom datan behöver dekrypteras eller krypteras för varje
läsning eller skrivning. Prestandaskillnaden beror på din processorhastighet,
vald kryptering och nyckellängd.

För att använda kryptering måste du skapa en ny partition genom att välja ett
fritt utrymme i huvudpartitioneringsmenyn. Ett annat alternativ är att välja en
befintlig partition (t.ex. en vanlig partition, en logisk LVM-volym eller en
RAID-volym). I menyn Partitionsinställningar behöver du välja fysisk volym för
kryptering för alternativet Använd som:. Menyn kommer att ändras till att
inkludera flera krypteringsalternativ för partitionen.

The encryption method supported by debian-installer is dm-crypt (included in
newer Linux kernels, able to host LVM physical volumes).

Let's have a look at the options available when you select encryption via
Device-mapper (dm-crypt). As always: when in doubt, use the defaults, because
they have been carefully chosen with security in mind.

Kryptering: aes

    Detta alternativ låter dig välja krypteringsalgoritm (chiffer) som kommer
    att användas för att kryptera data på partitionen. debian-installer har för
    närvarande stöd för följande blockchiffer: aes, blowfish, serpent och
    twofish. Det är utanför omfånget för detta dokument att diskutera
    kvaliteterna för dessa olika algoritmer, dock kan det hjälpa dig i ditt val
    att år 2000 valdes AES av American National Institute of Standards and
    Technology som standardkrypteringsalgoritm för skydd av känslig information
    för 2000-talet.

Nyckellängd: 256

    Här kan du ange längden för krypteringsnyckeln. En större nyckellängd ökar
    generellt styrkan på krypteringen. På andra sidan, ökning av längden på
    nyckeln har en negativ inverkan på prestandan. Tillgängliga nyckellängder
    är olika beroende på valt chiffer.

IV-algoritm: xts-plain64

    Initieringsvektorn eller IV-algoritm används i kryptografi för att se till
    att tillämpningen av chiffret på samma klartextdata med samma nyckel,
    alltid producerar en unik chiffertext. Idén är att förhindra en attackerare
    från att kunna utläsa information från upprepade mönster i krypterat data.

    Det minst sårbara alternativet för kända attacker av de som tillhandahålls
    är standardvalet xts-plain64. Använd endast de andra alternativen när du
    behöver kompatibilitet med tidigare installerade system som inte kan
    använda nyare algoritmer.

Krypteringsnyckel: Lösenfras

    Här kan du välja typ av krypteringsnyckel för denna partition.

    Lösenfras

        Krypteringsnyckeln kommer att beräknas^[12] med en lösenfras som basis
        och som du kan ange senare i processen.

    Slumpmässig nyckel

        En ny krypteringsnyckel kommer att genereras från slumpmässigt data
        varje gång du försöker att ta fram den krypterade partitionen. Med
        andra ord: vid varje nedstängning av systemet kommer innehållet på
        partitionen att förloras eftersom nyckeln raderas från minnet. (Så
        klart, du kan försöka att ta fram nyckeln via en brute force-attack,
        men såvida det inte finns en okänd sårbarhet i chifferalgoritmen kommer
        detta inte kunna göras under vår livstid.)

        Slumpmässiga nycklar är användbara för växlingspartitioner därför att
        du inte behöver bry dig om att komma ihåg lösenfrasen eller att radera
        känslig information från växlingspartitionen före nedstängning av din
        dator. Dock betyder det även att du inte kommer att kunna använda
        funktionalitet som "suspend-to-disk" som erbjuds av nyare Linux-kärnor
        eftersom det blir omöjligt (under en efterföljande uppstart) att
        återhämta suspenderat data som skrivits på växlingspartitionen.

Radera data: ja

    Bestämmer huruvida innehållet på denna partition ska skrivas över med
    slumpmässigt data före krypteringen ställs in. Detta rekommenderas därför
    att det kan annars vara möjligt för en attackerare att avgöra vilka delar
    av partitionen som används och vilka som inte används. Dessutom blir det
    svårare att återskapa data som partitionen innehållit tidigare^[13].

När du har valt de önskade parametrarna för dina krypterade partitioner, återgå
till huvudmenyn för partitionering. Det ska nu finnas en ny menypost som kallas
Konfigurera krypterade volymer. När du väljer den kommer du att bli frågad att
bekräfta borttagningen av data på de partitioner som markerats för radering och
möjligen även andra åtgärder såsom skrivning av en ny partitionstabell. För
större partitioner kan detta ta lite tid.

Härnäst kommer du att bli frågad att ange en lösenfras för de partitioner som
konfigurerats att använda en. Bra lösenfraser bör vara längre än 8 tecken, bör
innehålla en blandning av bokstäver, siffror och andra tecken och bör inte
innehålla vanliga ord som hittas i ordböcker eller information som lätt kan
kopplas samman med dig (såsom födelsedatum, eventuell hobby, namn på husdjur,
namn på familjemedlemmar eller närstående, etc.).

Varning

Innan du matar in några lösenfraser bör du se till att ditt tangentbord är
konfigurerat korrekt och genererar de tecken som förväntas. Om du är osäker kan
du växla till den andra virtuella konsollen och skriva in text vid prompten.
Detta för att du inte bli förvånad senare, t.ex. genom att försöka mata in en
lösenfras med en qwerty-tangentbordslayout när du använde en azerty-layout
under installationen. Denna situation kan ha flera orsaker. Kanske har du bytt
till en annan tangentbordslayout under installationen, eller att den valda
tangentbordslayouten kanske inte har ställts in ännu när lösenfrasen för
rotfilsystemet anges.

Om du väljer att använda andra metoder än ett lösenord för att skapa
krypteringsnycklar, kan de genereras nu. På grund av att kärnan kanske inte har
samlat in en tillräcklig mängd av slumpmässigt data så tidigt i installationen
kan denna process ta lång tid. Du kan hjälpa till att snabba på processen genom
att generera slumpmässigt data: t.ex. genom att trycka slumpmässigt valda
tangenter eller genom att växla till skalet på den andra virtuella konsollen
och generera lite nätverk- och disktrafik (hämta några filer, skicka stora
filer till /dev/null, etc.). Detta kommer att upprepas för varje partition som
ska krypteras.

After returning to the main partitioning menu, you will see all encrypted
volumes as additional partitions which can be configured in the same way as
ordinary partitions. The following example shows a volume encrypted via
dm-crypt.

Encrypted volume (sda2_crypt) - 115.1 GB Linux device-mapper
     #1 115.1 GB  F ext3

Now is the time to assign mount points to the volumes and optionally change the
file system types if the defaults do not suit you.

Pay attention to the identifiers in parentheses (sda2_crypt in this case) and
the mount points you assigned to each encrypted volume. You will need this
information later when booting the new system. The differences between the
ordinary boot process and the boot process with encryption involved will be
covered later in Avsnitt 7.2, "Montering av krypterade volymer".

När du är nöjd med partitioneringsplanen, fortsätt med installationen.

6.3.5. Installation av grundsystemet

Även om det här steget är det minst problematiska så tar det en större del av
installationen på grund av att det hämtar, validerar och packar upp hela
grundsystemet. Om du har en långsam dator eller nätverksanslutning kan det här
ta en stund.

Under installationen av grundsystemet, kommer meddelanden om uppackning och
konfigurering omdirigeras till tty4. Du kan komma åt den här terminalen genom
att trycka Vänster Alt+F4; gå tillbaka till huvudprocessen för
installationsprogrammet med Vänster Alt+F1.

De olika meddelandena om uppackning/konfigurering som genereras under den här
fasen, sparas i /var/log/syslog. Du kan kontrollera dem där om installationen
genomförs över en seriekonsoll.

Som en del av installationen kommer en Linux-kärna att installeras. Vid
standardprioritet kommer installationsprogrammet att välja en åt dig som bäst
passar din maskinvara. I lägre prioritetslägen kommer du kunna välja från en
lista av tillgängliga kärnor.

When packages are installed using the package management system, it will by
default also install packages that are recommended by those packages.
Recommended packages are not strictly required for the core functionality of
the selected software, but they do enhance that software and should, in the
view of the package maintainers, normally be installed together with that
software.

Notera

For technical reasons packages installed during the installation of the base
system are installed without their "Recommends". The rule described above only
takes effect after this point in the installation process.

6.3.6. Installera ytterligare programvara

Vid det här tillfället kan du ett användbart men begränsat system. De flesta
användare kommer att installera ytterligare programvara på systemet för att
anpassa det till sina behov och installationsprogrammet låter dem göra det. Det
här steget kan ta ännu längre tid än installationen av grundsystemet om du har
en långsam dator eller nätverk.

6.3.6.1. Konfigurera apt

One of the tools used to install packages on a Debian GNU/Linux system is the
program apt, from the apt package^[14]. Other front-ends for package
management, like aptitude and synaptic, are also in use. These front-ends are
recommended for new users, since they integrate some additional features
(package searching and status checks) in a nice user interface.

apt måste konfiguras så att den vet var den ska hämta paket ifrån. Resultat av
den här konfigurationen skrivs till filen /etc/apt/sources.list och du kan
undersöka och redigera den för att passa dina behov efter att installationen är
färdig.

Om du installerar med standardprioritet kommer installationsprogrammet att ta
hand om det mesta av konfigurationen automatiskt, baserat på
installationsmetoden som du använder och om möjligt använda val gjorda tidigare
i installationen. I de flesta fall kommer installationsprogrammet att
automatiskt lägga till en säkerhetsspegel och, om du installerar den stabila
distributionen, en spegel för uppdateringstjänsten "stable-updates".

Om du installerar med en lägre priotet (t.ex. i expertläget) kommer du att
kunna bestämma mer vad som ska göras. Du kan välja om du vill använda
uppdateringstjänsten för säkerhet och/eller stable-updates, och du kan välja
att lägga till paket från sektionerna "contrib" och "non-free" i arkivet.

6.3.6.1.1. Installera från fler än en cd eller dvd-skiva

Om du installerar från en cd eller en dvd-skiva som är del av en större
uppsättning så kommer installationsprogrammet att fråga om du vill söka igenom
ytterligare cd eller dvd-skivor. Om du har fler cd eller dvd-skivor
tillgängliga kommer du antagligen att vilja göra det så att
installationsprogrammet kan använda paketen som finns på dem.

Om du inte har fler cd eller dvd-skivor så är det inget problem: användning av
dem är inte nödvändigt. Om du i tillägg till det inte använder en
nätverksspegel (som förklaras i nästa avsnitt) kandet betyda att inte alla
paket som tillhör funktionerna kan installeras som du har valt i nästa steg i
installationen.

Notera

Paketen på cd-skivor (och dvd-skivor) inkluderas enligt deras populäritet. Det
betyder att för de flesta kommer endast de första cd-skivorna i en uppsättning
att behövas och att endast mycket få personer faktiskt kommer att använda
paketen som inkluderats på de sista skivorna i en uppsättning.

Det betyder också att om man köper eller hämtar ner och bränner en komplett
cd-uppsättning bara är slöseri eftersom du aldrig kommer att använda de flesta
av dem. I de flesta fall klarar du dig med endast de första 3 till 8 skivor och
installera ytterligare paket från Internet genom att använda en spegelserver.
Samma gäller för dvd-uppsättningar: första skivan eller kanske de första två
skivorna täcker behovet för de flesta.

Om du söker igenom flera cd eller dvd-skivor kommer installationsprogrammet att
fråga dig om att byta skiva när det behöver paket från andra cd/dvd än den som
för tillfället finns i enheten. Observera att endast cd eller dvd-skivor som
tillhör samma uppsättning bör sökas igenom. Ordningen på dem som söks igenom
spelar ingen roll men att söka igenom dem i stigande ordning kan minska
chanserna för misstag.

6.3.6.1.2. Använda en nätverksspegel

En fråga som kommer att ställas under de flesta installationer är om en
nätverksspegel ska användas som en paketkälla. I de flesta fall är
standardsvaret ett bra svar men det finns några undantag.

Om du inte installerar från en komplett cd- eller dvd-skiva eller använder en
komplett cd/dvd-avbildning, bör du använda en nätverksspegel eftersom du annars
kommer att få ett mycket minimalt system. Dock, om du har en begränsad
internetanslutning är det bäst att inte välja funktionen desktop i nästa steg
av installationen.

Om du installerar från en komplett cd eller använder en cd-avbildning, är
användningen av en nätverksspegel inte nödvändig, men det rekommenderas starkt
eftersom en enda cd-skiva endast innehåller ett ganska begränsat antal paket.
Om du har en begränsad internetanslutning kan det fortfarande vara bäst att 
inte välja en nätverksspegel här, utan att färdigställa installationen med
endast det som finns tillgängliga på cd-skivan och installera ytterligare paket
efter installationen (alltså efter att du har startat upp det nya systemet).

Om du installerar från en dvd eller använder en dvd-avbildning kommer de paket
som behövs under installationen att finnas på den första dvd-skivan. Det samma
gäller om du har sökt igenom flera cd-skivor, som förklaras i föregående
avsnitt. Användning av en nätverksspegel är valfritt.

En fördel med att lägga till en nätverksspegel är att uppdateringar som har
skett sedan cd/dvd-uppsättningen skapades och har inkluderats i en punktutgåva,
kommer att bli tillgängliga för installation, och därigenom förlänga
livslängden för din cd/dvd-uppsättning utan att kompromettera säkerheten eller
stabiliteten för det installerade systemet.

För att summera: välja en nätverksspegel är oftast en bra idé, förutom när du
har en långsam internetanslutning. Om den aktuella versionen för ett paket
finns tillgänglig på cd/dvd-skivan så kommer installationsprogrammet att
använda den. Mängden data som kommer att hämtas ner om du väljer en spegel
beror på

 1. funktionera som du väljer i nästa steg av installationen,

 2. vilka paket som behövs för dessa funktioner,

 3. vilka av dessa paket som finns på de cd- eller dvd-skivor som du har sökt
    igenom, samt

 4. whether any updated versions of packages included on the CDs or DVDs are
    available from a mirror (either a regular package mirror, or a mirror for
    security or stable-updates).

Note that the last point means that, even if you choose not to use a network
mirror, some packages may still be downloaded from the Internet if there is a
security or stable-updates update available for them and those services have
been configured.

6.3.6.1.3. Choosing a network mirror

If you have selected to use a network mirror during the installation (optional
for CD/DVD installs, required for netboot images), you will be presented with a
list of geographically nearby (and therefore hopefully fast) network mirrors,
based upon your country selection earlier in the installation process. Choosing
the offered default is usually fine.

A mirror can also be specified by hand by choosing "enter information manually"
. You can then specify a mirror host name and an optional port number. As of
Wheezy, that actually has to be a URL base, i.e. when specifying an IPv6
address, one has to add square brackets around it, for instance "[2001:db8::1]"
.

If your computer is on an IPv6-only network (which is probably not the case for
the vast majority of users), using the default mirror for your country might
not work. All the mirrors in the list are reachable via IPv4, but only some of
them can be used via IPv6. As connectivity of individual mirrors can change
over time, this information is not available in the installer. If there is no
IPv6 connectivity for the default mirror for your country, you can either try
some of the other mirrors offered to you or choose the "enter information
manually" option. You can then specify "ftp.ipv6.debian.org" as the mirror
name, which is an alias for a mirror available via IPv6, although it will
probably not be the fastest possible one.

Another option when choosing to specify the mirror manually is to use "
httpredir.debian.org" as your mirror. "httpredir.debian.org" is not a physical
mirror but a mirror redirection service, i.e. it automatically refers your
system to a real mirror near you in terms of network topology. It takes into
account by which protocol you connect to it, i.e. if you use IPv6, it will
refer you to an IPv6-capable mirror near you.

6.3.6.2. Val och installation av programvara

Under installationsprocessen får du möjligheten att välja ytterligare
programvara att installera. Hellre än att välja individuella programvarupaket
från de 85212 paket som finns tillgängliga fokuserar det här steget av
installationsprocessen på att välja och installera fördefinierade samlingar av
programvara för att snabbt ställa in din dator att genomföra olika funktioner.

De här funktionerna representerar löst ett antal olika jobb eller saker du vill
utföra med din dator, såsom "Skrivbordsmiljö", "Webbserver", eller "
Utskriftsserver"^[15]. Avsnitt D.2, "Nödvändig diskplats för funktioner" listar
utrymmet som krävs för de tillgängliga funktionerna.

Vissa funktioner kan vara förvalda baserade på egenskaperna för datorn som du
installerar. Om du inte godkänner de här valen kan du avmarkera dem. Du kan
även välja att inte installera några funktioner alls.

Tips

I standardanvändargränssnittet för installationsprogrammet kan du använda
blankslag för att växla markering av en funktion.

Notera

The "Desktop environment" task will install a graphical desktop environment.

By default, debian-installer installs the Gnome desktop environment. It is
possible to interactively select a different desktop environment during the
installation. It is also possible to install multiple desktops, but some
combinations of desktop may not be co-installable.

Note that this will only work if the packages needed for the desired desktop
environment are actually available. If you are installing using a single full
CD image, they will possibly need to be downloaded from a network mirror as
some of the needed packages for your choice might only be included on later
CDs. Installing any of the available desktop environments this way should work
fine if you are using a DVD image or any other installation method.

The various server tasks will install software roughly as follows. Web server:
apache2; Print server: cups; SSH server: openssh.

Funktionen "Standardsystem" kommer att installera alla paket som har
prioriteten "standard". Detta inkluderar en mängd vanliga verktyg som normallt
finns tillgängliga på de flesta Linux- eller Unix-system. Du bör lämna denna
funktion markeras såvida inte du vet vad du gör och vill ha ett mycket minimalt
system.

Om en standardlokal annan än lokalen "C" väljs under språkvalet så kommer 
tasksel att kontrollera om några lokalanpassningsfunktioner har definierats för
den lokalen och kommer sedan automatiskt att försöka installera relevanta
lokalanpassningspaket. Detta inkluderar till exempel paket som innehåller
ordlistor eller speciella typsnitt för ditt språk. Om en skrivbordsmiljö har
valts så kommer den även att installera lämpliga lokalanpassningspaket för det
(om det finns några).

När du har valt dina funktioner, välj Fortsätt. Vid det här tillfället kommer 
apt att installera paketen som är en del av de funktioner som du har valt. Om
ett specifikt program behöver mer information från användare så kommer den att
fråga dig under denna process.

Du bör vara medveten om att speciellt funktionen Skrivbord är mycket stor.
Speciellt vid installation från en normal cd-rom i kombination med en spegel
för paket som inte finns på cd-skivan, kan installationsprogrammet behöva hämta
en hel del paket över nätverket. Om du har en relativt långsam
Internetanslutning, kan det här ta lång tid. Det finns inget alternativ att
avbryta installationen av paket när den väl har startats.

Även när paket har inkluderats på cd-skivan, kan installationsprogrammet
fortfarande behöva hämta dem från spegeln om den tillgängliga versionen på
spegeln är nyare än den som inkluderats på cd-skivan. Om du installerar den
stabila utgåvan, kan det här hända efter en punktutgåva (en uppdatering av den
ursprungliga stabila utgåvan); om du installerar testutgåvan kommer det här att
hända om du använder en äldre avbildning.

6.3.7. Gör ditt system klart för uppstart

Om du installerar en disklös arbetsstation, är uppstarter från den lokala
disken så klart inte ett användbart alternativ och det här steget kommer att
hoppas över.

6.3.7.1. Sökning efter andra operativsystem

Innan en starthanterare blir installerad kommer installationsprogrammet att
försöka att söka efter andra operativsystem som finns installerade på maskinen.
Om den hittar ett operativsystem som stöds kommer du bli informerad om det
under installationssteget för starthanteraren och datorn kommer att bli
konfigurerad att starta upp det här andra operativsystemet i tillägg till
Debian.

Observera att uppstart av flera operativsystem på samma maskin fortfarande är
lite av svart magi. Det automatiska stödet för identifiering och inställning av
starthanterare för att starta upp andra operativsystem varierar mellan
arkitekturer och även för underarkitekturer. Om det inte fungerar bör du
konsultera dokumentationen för din starthanterare för mer information.

6.3.7.2. Installera starthanteraren Grub på en hårddisk

Den starthanterare som är standard på amd64 kallas för "grub". Grub är en
flexibel och robust starthanterare och ett bra standardval både för nybörjare
och erfarna användare.

Som standard kommer grub att installeras i huvudstartsektorn (MBR), där den
kommer att ta komplett kontroll över uppstartsprocessen. Om du önskar, kan du
installera den någon annanstans. Se manualsidan för grub för mer komplett
information.

Om du inte vill installera grub alls kan du använda Bakåt-knappen för att komma
till huvudmenyn och därifrån välja den starthanterare som du vill använda.

6.3.7.3. Installera starthanteraren LILO på en hårddisk

Den andra starthanteraren för amd64 kallas för "LILO". Det är ett gammalt och
komplext program som erbjuder massor av funktionalitet, inklusive
starthantering för DOS, Windows och OS/2. Läs noga igenom instruktionerna i
katalogen /usr/share/doc/lilo/ om du har speciella behov; se även LILO
mini-HOWTO.

Notera

För närvarande kommer LILO-installationen endast att skapa menyposter för andra
operativsystem om de kan bli kedjeinlästa. Det betyder att du måste manuellt
lägga till en menypost för operativsystem som GNU/Linux och GNU/Hurd efter
installationen.

debian-installer erbjuder dig tre valmöjligheter om var starthanteraren LILO
ska installeras:

Huvudstartsektor (MBR)

    På det här sättet kan LILO ta komplett kontroll över uppstartsprocessen.

Ny Debianpartition

    Välj den här om du vill använda en annan starthanterare. LILO kommer att
    installera sig själv i början av den nya Debian-partitionen och kommer att
    fungera som en sekundär starthanterare.

Annat val

    Användbar för erfarna användare som vill installera LILO någon annanstans.
    I det här fallet kommer du bli tillfrågad om att ange en plats. Du kan
    använda traditionella enhetsnamn som /dev/sda.

Om du inte längre kan starta upp Windows 9x (eller DOS) efter det här steget,
behöver du använda en startdiskett för Windows 9x (MS-DOS) och använda
kommandot fdisk /mbr för att installera om MS-DOS egna huvudstartsektor (MBR)
-- det här betyder dock att du behöver använda något annat sätt att komma
tillbaka in i Debian!

6.3.7.4. Fortsätt utan starthanterare

Det här alternativet kan användas för att färdigställa installationen även om
inte starthanterare kommer att installeras, antingen på grund av att
arkitekturen/underarkitekturen inte erbjuder en eller på grund av att ingen
önskas (exempelvis, du vill använda den befintliga starthanteraren).

Om du planerar att manuellt konfigurera din starthanterare, bör du kontrollera
namnet på den installerade kärnan i /target/boot. Du bör också kontrollera den
katalogen om det finns en initrd; om det finns en ska du antagligen instruera
din starthanterare att använda den. Övrig information som du behöver ange är
disken och partition du har valt för ditt /-filsystem och, om du valde att
installera /boot på en separat partition, även ditt /boot-filsystem.

6.3.8. Färdigställ installationen

Det här är det sista steget i Debians installationsprocess under vilket
installationsprogrammet kommer att göra de sista justeringarna. Det består
mestadels av att knyta ihop allt efter debian-installer.

6.3.8.1. Ställa in systemklockan

Installationsprogrammet kan fråga dig om datorns klocka är inställd till UTC.
Normalt sett undviks den här frågan om möjligt och installationsprogrammet
försöker lista ut om klockan är inställd till UTC baserat på vilka andra
operativsystem som är installerade.

I expertläget kan du alltid välja om eller inte klockan är inställd till UTC. 
System som (även) kör Dos eller Windows är vanligtvis inställda till lokal tid.
Om du vill använda dubbel uppstart, välj lokal tid istället för UTC.

Vid det här tillfället kommer debian-installer även att försöka spara den
aktuella tiden till systemets hårdvaruklocka. Det här görs antingen i UTC eller
lokal tid, beroende på det val som tidigare gjordes.

6.3.8.2. Starta om systemet

Du kommer att bli uppmanad att mata ut uppstartsmediumet (cd-skiva, diskett,
etc) som du använde för att starta upp installationsprogrammet med. Efter det
kommer systemet att startas om till ditt nya Debian-system.

6.3.9. Felsökning

Komponenterna som listas i det här avsnittet är normalt sett inte inblandade i
installationsprocessen men väntar i bakgrunden för att hjälpa användaren om
något går fel.

6.3.9.1. Spara installationsloggar

Om installationen lyckas, kommer loggfilerna som skapas under
installationsprocessen att automatiskt sparas till /var/log/installer/ på ditt
nya Debian-system.

Välj Spara felsökningsloggar från huvudmenyn låter dig spara loggfilerna till
en diskett, nätverk, hårddisk eller annat media. Det kan vara användbart om du
påträffar allvarliga problem under installationen och vill undersöka loggarna
på ett annat system eller bifoga dem i en installationsrapport.

6.3.9.2. Användning av skalet och visning av loggar

Det finns flera metoder som du kan välja för att få ett skal under tiden du kör
en installation. På de flesta system, och om du inte installerar över en
seriekonsoll, är den enklaste metoden att växla till den andra virtuella
konsollen genom att trycka Vänster Alt+F2^[16] (på ett Mac-tangentbord, Option+
F2). Använd Vänster Alt+F1 för att växla tillbaka till själva
installationsprogrammet.

För det grafiska installationsprogrammet, se även Avsnitt 6.1.1, "Using the
graphical installer".

Om du inte kan växla mellan konsollerna finns även alternativet Starta ett skal
i huvudmenyn som kan användas för att starta ett skal. Du kan komma till
huvudmenyn från de flesta dialoger genom att använda Bakåt-knappen en eller
flera gånger. Ange exit för att stänga skalet och återvända till
installationsprogrammet.

Vid den här tidpunkten har du startat upp från RAM-disken, och det finns en
begränsad uppsättning Unix-verktyg tillgängliga för dig. Du kan se vilka
program som finns tillgängliga med kommandot ls /bin /sbin /usr/bin /usr/sbin
och genom att skriva help. Skalet är ett Bourne-skalklon kallat ash och har
några trevliga funktioner som till exempel automatisk komplettering och
historik.

För att redigera och visa filer, använd textredigeraren nano. Loggfiler för
installationssystemet kan hittas i katalogen /var/log.

Notera

Även om du kan göra i stort sett allt ett skal som de tillgängliga kommandona
tillåter dig att göra, är alternativet att använda ett skal egentliga endast
där om någonting skulle gå fel och att du behöver felsöka.

Göra saker manuellt från skalet kan störa installationsprocessen och resultera
i fel eller en ofullständig installation. Specifikt bör du alltid låta
installationsprogrammet aktivera din växlingspartition och inte göra det själv
från ett skal.

6.3.10. Installation över nätverket

En av de mer intressanta komponenterna är network-console. Den låter dig göra
en stor del av installationen över nätverket via SSH. Användningen av nätverk
antyder att du måste genomföra de första stegen av installationen från
konsollen, åtminstone till punkten där nätverket ställs in. (Dock kan du
automatisera den delen med Avsnitt 4.6, "Automatisk installation".)

Den här komponenten läses inte in i huvudmenyn som standard så du måste
specifikt begära den. Om du installerar från en cd-skiva behöver du starta upp
med mediumprioritet eller annars kan du starta huvudmenyn och välja Läs in
installationskomponenter från cd och från listan av ytterligare komponenter
välja network-console: Fortsätt installationen genom fjärråtkomst med SSH. En
lyckad inläsning indikeras av en ny menypost kallad Fortsätt installationen
genom fjärråtkomst med SSH.

After selecting this new entry, you will be asked for a new password to be used
for connecting to the installation system and for its confirmation. That's all.
Now you should see a screen which instructs you to login remotely as the user 
installer with the password you just provided. Another important detail to
notice on this screen is the fingerprint of this system. You need to transfer
the fingerprint securely to the person who will continue the installation
remotely.

Bestämmer du dig för att fortsätta med installationen lokalt kan du alltid
trycka Enter, vilket tar dig tillbaka till huvudmenyn, där du kan välja en
annan komponent.

Låt oss nu hoppa över till andra sidan av kabeln. Som en förutsättning behöver
du konfigurera din terminal för teckenkodningen UTF-8, på grund av att
installationssystemet använder den kodningen. Om du inte gör det kommer
fjärrinstallation fortfarande vara möjlig men du kommer att uppleva konstiga
skärmproblem som förstörda dialogrutor eller oläsbara tecken som inte är ascii.
Etablera en anslutning till installationssystemet är så enkelt som att ange:

$ ssh -l installer installationsvärd

Där installationsvärd är antingen namnet eller IP-adress till den dator som ska
installeras. Före den faktiska inloggningen kommer fingeravtrycket för
fjärrsystemet att visas och du behöver bekräfta att det är korrekt.

Notera

ssh-servern i installationsprogrammet använder en standardkonfiguration som
inte skickar keep-alive-paket. I princip ska en anslutning till systemet som
blir installerat hållas öppen hela tiden. Dock kan i vissa situationer --
beroende på din lokala nätverkskonfiguration -- anslutning kopplas ned efter en
viss inaktivitetsperiod. Ett vanligt fall där detta kan hända är när det finns
någon form av adressöversättning (NAT) på nätverket mellan klienten och
systemet som blir installerat. Beroende på var i installationen anslutningen
bröts så kanske du kan, eller kanske inte kan, återuppta installationen efter
ny etablering av anslutningen.

Du kanske kan förhindra att anslutningen bryts genom att lägga till flaggan
-o ServerAliveInterval=värde när ssh-anslutningen startas, eller genom att
lägga till den flaggan i din konfigurationsfil för ssh. Observera dock att i
vissa fall kan denna flagga även orsaka att en anslutning bryts (till exempel
om keep-alive-paket skickas under en kort tid med nätverkproblem, från vilken 
ssh själv skulle ha återhämtat sig), så den ska endast användas när den behövs.

Notera

Om du installerar flera datorer i turordning och de råkar ha samma IP-adress
eller värdnamn kommer ssh att vägra att ansluta till en sådan värd. Anledningen
är att den kommer att ha ett olikt fingeravtryck, vilket är ett vanligt tecken
på en spoofingattack. Om du är säker att så inte är fallet, behöver du ta bort
den relevanta raden från ~/.ssh/known_hosts^[17] och försöka igen.

Efter inloggningen kommer du att se den initiala skärmen där du har två
möjligheter kallade Starta menyn och Starta ett skal. Den första tar dig till
huvudmenyn i installationsprogrammet, där du kan fortsätta med installationen
som vanligt. Den senare startar upp ett skal från vilket du kan undersöka och
möjligen rätta till fjärrsystemet. Du bör endast starta en SSH-session för
installationsmenyn, men kan starta flera sessioner för skal.

Varning

Efter att du har startat fjärrinstallationen över SSH bör du inte gå tillbaka
till installationssessionen som kör på den lokala konsollen. Om du gör det kan
databasen som tillhandahåller konfigurationen av det nya systemet skadas. Det i
sin tur kan resultera i en misslyckad installation eller problem med det
installerade systemet.

6.4. Läsa in saknad fast programvara

Vissa enheter kräver att fast programvara läses in, vilket beskrivs i
Avsnitt 2.2, "Enheter som kräver fast programvara". I de flesta fall kommer
enheten inte att fungera alls om inte den fasta programvaran finns tillgänglig;
ibland kan grundläggande funktionalitet erbjudas om den fasta programvaran
saknas och att den fasta programvaran endast behövs för att aktivera
ytterligare funktioner.

Om en enhet begära fast programvara som inte finns tillgänglig kommer
debian-installer att visa en dialogruta som erbjuder att läsa in den saknade
fasta programvaran. Om detta alternativ väljs kommer debian-installer att söka
av tillgängliga enheter efter antingen fristående filer för fast programvara
eller paket som innehåller den fasta programvaran. Om den hittas kommer den
fasta programvaran att kopieras till den rätta platsen (/lib/firmware) och
drivrutinsmodulen kommer att läsas om.

Notera

Vilka enheter som söks av och vilka filsystem som stöds är beroende på
arkitekturen, installationsmetoden och vilket steg i installationen. Speciellt
under tidiga steg i installationen kommer inläsning av fast programvara att
fungera bäst från en FAT-formaterad diskett eller USB-minne. På i386 och amd64
kan även fast programvara läsas in från ett MMC- eller SD-kort.

Observera att det är möjligt att hoppa över inläsning av fast programvara om du
vet att enheten kommer att fungera även utan den eller om enheten inte behövs
under installationen.

debian-installer only prompts for firmware needed by kernel modules loaded
during the installation. Not all drivers are included in debian-installer, in
particular radeon is not, so this implies that the capabilities of some devices
may be no different at the end of the installation from what they were at the
beginning. Consequently, some of your hardware may not be being used to its
full potential. If you suspect this is the case, or are just curious, it is not
a bad idea to check the output of the dmesg command on the newly booted system
and search for "firmware".

6.4.1. Förbereda ett media

Official CD images do not include non-free firmware. The most common method to
load such firmware is from some removable medium such as a USB stick.
Alternatively, unofficial CD builds containing non-free firmware can be found
at https://cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware
/. To prepare a USB stick (or other medium like a hard drive partition, or
floppy disk), the firmware files or packages must be placed in either the root
directory or a directory named /firmware of the file system on the medium. The
recommended file system to use is FAT as that is most certain to be supported
during the early stages of the installation.

Tarballs and zip files containing current packages for the most common firmware
are available from:

  • https://cdimage.debian.org/cdimage/unofficial/non-free/firmware/

Just download the tarball or zip file for the correct release and unpack it to
the file system on the medium.

Om den fasta programvaran du behöver inte finns inkluderad i tar-arkivet så kan
du även hämta ner specifika paket för fast programvara från (sektionen non-free
av) arkivet. Följande översikt bör lista de flesta tillgängliga paket med fast
programvara men det garanteras inte att listan är komplett och kan även
innehålla paket som inte innehåller fast programvara:

  • https://packages.debian.org/search?keywords=firmware

Det är också möjligt att kopiera individuella filer med fast programvara i
valfritt media. Fristående fast programvara kan till exempel hämtas från ett
redan installerat system eller från maskinvarans tillverkare.

6.4.2. Fast programvara och det installerade systemet

All fast programvara som läses in under installationen kommer att automatiskt
att kopieras till det installerade systemet. I de flesta fall kommer detta att
försäkra att enheten som kräver den fasta programvaran även kommer att fungera
korrekt när systemet har startats om till det installerade systemet. Dock kan
problem uppstå med inläsning av den fasta programvaran om det installerade
systemet kör en annan kärnversion än den som användes under installationen.

Om den fasta programvaran lästes in från ett paket med fast programvara så
kommer debian-installer även att installera detta paket för det installerade
systemet och automatiskt lägga till sektionen non-free för paketarkivet i APT:s
sources.list. Detta har fördelen att den fasta programvaran kommer att
uppdateras automatiskt om en ny version blir tillgänglig.

Om inläsningen av den fasta programvaran hoppades över under installationen så
kommer den relevanta enheten antagligen inte att fungera med det installerade
systemet tills den fasta programvaran (paket) har installerats manuellt.

Notera

Om den fasta programvaran lästes in från fristående filer kommer den fasta
programvaran som kopierades till det installerade systemet inte att uppdateras
automatiskt såvida inte motsvarande paket för fast programvara (om tillgänglig)
har installerats efter att installationen färdigställdes.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[7] In technical terms: where multiple locales exist for that language with
differing country codes.

^[8] At medium and low priority you can always select your preferred locale
from those available for the selected language (if there's more than one).

^[9] Legacy locales are locales which do not use UTF-8, but one of the older
standards for character encoding such as ISO 8859-1 (used by West European
languages) or EUC-JP (used by Japanese).

^[10] Installationsprogrammet kommer att kryptera LVM-volymgruppen med en 256
bitars AES-nyckel och använder kärnans stöd för "dm-crypt".

^[11] Det går faktiskt att bygga en MD-enhet även från partitioner som finns på
samma fysiska disk, men det kommer inte att ge dig några fördelar.

^[12] Att använda en lösenfras som nyckel betyder att partitionen måste
konfigureras med LUKS.

^[13] Det är dock troligt att personal från tre-bokstavs-myndigheter kan
återskapa data från magnetoptiska media även efter ett flertal överskrivningar.

^[14] Note that the program which actually installs the packages is called dpkg
. However, this program is more of a low-level tool. apt is a higher-level
tool, which will invoke dpkg as appropriate. It knows how to retrieve packages
from your CD, the network, or wherever. It is also able to automatically
install other packages which are required to make the package you're trying to
install work correctly.

^[15] Du bör känna till att för att visa den här listan, anropar
installationsprogrammet helt enkelt programmet tasksel. Det kan köras när som
helst efter installationen för att installera (eller ta bort) fler paket, eller
så kan du använda ett mer finkornigt verktyg såsom aptitude. Om du letar efter
ett enda specifikt paket, efter att installationen är färdig, kör helt enkelt
aptitude install paket, där paket är namnet på paketet du letar efter.

^[16] Alltså: tryck ner Alt-tangenten på vänster sida av blankstegs-tangenten
och funktionstangenten F2 samtidigt.

^[17] Följande kommando kommer att ta bort en befintlig post för en värd: 
ssh-keygen -R <värdnamn|IP-adress>.

Kapitel 7. Starta upp ditt nya Debian-system

Innehållsförteckning

7.1. Sanningens minut
7.2. Montering av krypterade volymer

    7.2.1. Problemlösning

7.3. Logga in

7.1. Sanningens minut

Första uppstarten av ditt nya system är vad elingenjörer kallar för "röktest".

Om du gjorde en standardinstallation, är det första du kommer att se när du
startar upp systemet, menyn för starthanteraren grub eller möjligen lilo. De
första valen i menyn kommer att vara för ditt nya Debian-system. Om du hade
några andra operativsystem på din dator (som Windows) som identifierades av
installationssystemet, kommer dessa att listas längre ner i menyn.

Få inte panik om systemet misslyckas med att starta upp korrekt. Om
installationen lyckades är chanserna goda att det bara är ett relativt litet
problem som förhindrar systemet från att starta upp Debian. I de flesta fall
kan problem rättas till utan att behöva upprepa installationen. Ett
tillgängligt alternativ för att rätta till uppstartsproblem är att använda
installationsprogrammets inbyggda räddningsläge (se Avsnitt 8.6, "Återställning
av ett trasigt system").

Om du är nybörjare när det gäller Debian och Linux, kanske du behöver lite
hjälp från mer erfarna användare. För direkthjälp på Internet kan du prova
IRC-kanalerna #debian eller #debian-boot på OFTC-nätverket. Alternativt kan du
kontakta sändlistan debian-user. Du kan även skicka in en installationsrapport,
som beskrivs i Avsnitt 5.4.7, "Skicka installationsrapporter". Se till att du
beskriver ditt problem i detalj och inkluderar eventuella meddelanden som visas
och kan hjälpa andra att felsöka problemet.

Skicka in en installationsrapport om du har andra operativsystem på din dator
som inte identifierades eller inte identifierades korrekt.

7.2. Montering av krypterade volymer

Om du skapade krypterade volymer under installationen och tilldelade
monteringspunkter till dem, kommer du att bli efterfrågad vid uppstart om att
ange lösenfrasen för varje av dessa volymer.

För partitioner som är krypterade med dm-crypt kommer följande prompt att visas
under uppstarten:

Starting early crypto disks... del_crypt(starting)
Enter LUKS passphrase:

På första raden av prompten är del namnet på underliggande partition, t.ex.
sda2 eller md0. Du undrar kanske nu för vilken volym du faktiskt anger
lösenfrasen. Relaterar det till /home? Eller till /var? Om du bara skapade en
krypterad volym är detta enkelt och du behöver bara ange lösenfrasen som du
angav för den volymen. Om du har skapat fler än en krypterad volym under
installationen kan anteckningarna du skrev ner i sista steget i
Avsnitt 6.3.4.6, "Konfigurera krypterade volymer" komma till hands. Om du inte
antecknade relationerna mellan cryptX och monteringspunkterna kan du
fortfarande hitta dem i /etc/crypttab och /etc/fstab på ditt nya system.

Prompten kan se annorlunda ut när ett krypterat rotfilsystem monteras. Detta
beror på vilken initramfs-generator som användes för att generera den initrd
som används för att starta upp systemet. Exemplet nedan är för en initrd som
genererats med initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

Inga tecken (inte ens stjärnor) kommer att visas när lösenfrasen matas in. Om
du matar in fel lösenfras har du ytterligare två försök till att mata in den
korrekta lösenfrasen. Efter det tredje försöket kommer uppstartsprocessen att
hoppa över denna volym och fortsätta montera nästa filsystem. Se Avsnitt 7.2.1,
"Problemlösning" för ytterligare information.

Efter att alla lösenfraser har matats in ska uppstarten fortsätta som normalt.

7.2.1. Problemlösning

Om någon av de krypterade volymerna inte kunde monteras på grund av att en
felaktig lösenfras matades in, kan du montera dem manuellt efter uppstart. Det
finns ett flertal olika situationer.

  • Det första fallet gäller rotpartitionen. När den inte har monterats korrekt
    kommer uppstartsprocessen att stanna och du måste då starta om datorn och
    försöka igen.

  • The easiest case is for encrypted volumes holding data like /home or /srv.
    You can simply mount them manually after the boot.

    För dm-crypt är detta lite svårare. Först behöver du registrera volymerna
    med "device mapper" genom att köra:

    # /etc/init.d/cryptdisks start

    Detta kommer att söka av alla volymer som angivits i /etc/crypttab och
    skapa lämpliga enheter under katalogen /dev efter att de korrekta
    lösenfraserna har angivits. (Redan registrerade volymer kommer att hoppas
    över så att du kan upprepa detta kommando flera gånger utan att vara
    orolig.) Efter en lyckad registrering kan du helt enkelt montera volymerna
    på vanligt sätt:

    # mount /monteringspunkt

  • If any volume holding noncritical system files could not be mounted (/usr
    or /var), the system should still boot and you should be able to mount the
    volumes manually like in the previous case. However, you will also need to
    (re)start any services usually running in your default runlevel because it
    is very likely that they were not started. The easiest way is to just
    reboot the computer.

7.3. Logga in

När ditt system startar upp kommer du bli presenterad med inloggningsprompten.
Logga in med ditt personliga användarnamn och lösenord som du valde under
installationsprocessen. Ditt system är nu färdigt att användas.

Om du är en ny användare kanske du vill utforska dokumentationen som redan
finns installerad på ditt system när du börjar använda det. Det finns för
närvarande flera dokumentationssystem, men arbete fortgår på att integrera de
olika dokumentationstyperna. Här är ett par startpunkter.

Dokumentation som följer med program och andra paket som du du har installerat
kan hittas i /usr/share/doc/, i en katalog med samma namn som programmet (eller
rättare sagt, Debian-paketet som innehåller programmet). Dock är mer detaljerad
dokumentation ofta paketerad separat i speciella dokumentationspaket som oftast
inte blir installerade som standard. Till exempel kan dokumentation om
pakethanteringsverktyget apt hittas i paketen apt-doc eller apt-howto.

I tillägg finns det några speciella mappar i hierarkin /usr/share/doc/. Ett
flertal Linux HOWTO finns installerade i .gz-formatet, under /usr/share/doc/
HOWTO/en-txt/. Efter installation av dhelp kommer du att hitta ett
bläddringsbart dokumentationsindex i /usr/share/doc/HTML/index.html.

Ett enkelt sätt att visa dessa dokument med en textbaserad webbläsare är att
köra följande kommandon:

$ cd /usr/share/doc/
$ w3m .

Punkten efter kommandot w3m talar om för det att visa innehållet i den aktuella
katalogen.

Om du har en grafisk skrivbordsmiljö installerad, kan du även använda dess
grafiska webbläsare. Starta webbläsaren från programmenyn och skriv in /usr/
share/doc/ i adressfältet.

Du kan också skriva info kommando eller man kommando för att se dokumentationen
för de flesta tillgängliga kommandon på kommandoprompten. Skriva help kommer
att visa hjälp om skalkommandon. Skriva ett kommando följt av --help visar
vanligtvis kortfattad information om hur kommandot används. Om ett kommandos
resultat rullar förbi på skärmen, skriv | more efter kommandot för att pausa
resultatet före det rullar förbi på skärmen. För att se en lista på alla
tillgängliga kommandon som börjar med en speciell bokstav, skriv bokstaven och
tryck sedan två gånger på tabulatortangenten.

Kapitel 8. Nästa steg och hur man ska gå vidare

Innehållsförteckning

8.1. Stänga av systemet
8.2. Orientera dig runt i Debian

    8.2.1. Debians paketsystem
    8.2.2. Ytterligare mjukvara tillgängligt för Debian
    8.2.3. Hantera programversioner
    8.2.4. Hantera cronjobb

8.3. Ytterligare läsning och information
8.4. Konfigurera ditt system att använda e-post

    8.4.1. Standardkonfiguration för e-post
    8.4.2. Skicka e-post utanför systemet
    8.4.3. Konfigurera e-postservern Exim4

8.5. Bygg en ny kärna
8.6. Återställning av ett trasigt system

8.1. Stänga av systemet

För att stänga av ett körande Debian GNU/Linux-system ska du inte starta om med
reset-knappen på fram- eller baksidan av din dator, eller helt enkelt stänga av
datorn. Debian GNU/Linux bör stängas ner på ett kontrollerat sätt, annars kan
filer gå förlorade eller hårddisken bli skadad. Om du kör en skrivbordsmiljö
finns det ofta ett alternativ tillgängligt för att "logga ut" från programmenyn
som låter dig stänga av (eller starta om) systemet.

Alternatively you can press the key combination Ctrl+Alt+Del . If the key
combinations do not work, a last option is to log in as root and type the
necessary commands. Use reboot to reboot the system. Use halt to halt the
system without powering it off ^[18]. To power off the machine, use poweroff or
shutdown -h now. The systemd init system provides additional commands that
perform the same functions; for example systemctl reboot or systemctl poweroff.

8.2. Orientera dig runt i Debian

Debian är lite olik från övriga distributioner. Även om du känner till Linux i
andra distributioner är det några saker du bör känna till om Debian för att
hjälpa dig att behålla ditt system i gott skick. Det här kapitlet innehåller
material för att hjälpa dig att ta dig fram i systemet; det är inte menat att
vara en hjälp för att använda Debian utan helt enkelt en kort sammanfattning av
systemet för de som har bråttom.

8.2.1. Debians paketsystem

Det viktigaste konceptet att få grepp om är Debians paketsystem. Stora delar av
ditt system bör anses vara under paketsystemets kontroll. Dessa inkluderar:

  • /usr (undantaget /usr/local)

  • /var (inga filer från paket placeras i /var/local, varför detta går att
    använda till lokala kataloger och filer)

  • /bin

  • /sbin

  • /lib

Till exempel om du ersätter /usr/bin/perl kommer det att fungera men om du
uppgraderar ditt perl-paket kommer filen du placerade där att ersättas.
Experter kan komma runt det här genom att "hålla kvar" paket i aptitude.

One of the best installation methods is apt. You can use the command line
version of apt as well as tools like aptitude or synaptic (which are just
graphical frontends for apt). Note that apt will also let you merge main,
contrib, and non-free so you can have restricted packages (strictly speaking
not belonging to Debian) as well as packages from Debian GNU/Linux at the same
time.

8.2.2. Ytterligare mjukvara tillgängligt för Debian

Det finns officiella och icke-officiella mjukvaruförråd som inte är aktiverade
i som standard vid intallation av Debian. Dessa innehåller mjukvara som många
tycker är viktiga och förväntar sig att ha. Information om dessa ytterligare
förråd kan hittas på wikisidan med titeln The Software Available for Debian's
Stable Release.

8.2.3. Hantera programversioner

Alternativa versioner av programmen hanteras av update-alternatives. Om du
hanterar ett flertal versioner av dina program, läs manualsidan för
update-alternatives.

8.2.4. Hantera cronjobb

Alla jobb under systemadministratörens ansvar bör ligga i /etc eftersom de är
konfigurationsfiler. Om root har ett cronjobb för dagliga, veckomässiga eller
månatliga körningar, lägg dem i /etc/cron.{daily,weekly,monthly}. Dessa startas
från /etc/crontab och kommer att köras i alfabetisk ordning.

Men om du har ett cronjobb som (a) behöver köras som en speciell användare,
eller (b) behöver köras vid en speciell tidpunkt eller frekvens, kan du
antingen använda /etc/crontab, eller ännu bättre, /etc/cron.d/vadsomhelst.
Dessa speciella filer har också ett extra fält som låter dig bestämma under
vilket användarkonto som cronjobbet ska köras.

I annat fall kan du bara redigera filerna och cron kommer att upptäcka dem
automatiskt. Det finns inget behov att köra ett speciellt kommando. För mer
information, se manualsidorna cron(8), crontab(5) och /usr/share/doc/cron/
README.Debian.

8.3. Ytterligare läsning och information

Debians webbplats innehåller en mängd dokumentation om Debian. Se gärna Debian
GNU/Linux FAQ och Debian Reference. Ett index av mera Debian-dokumentation är
tillgänglig från Debians dokumentationsprojekt. Debians gemenskap är
självförsörjande; för att prenumerera på en eller flera av Debians sändlistor,
se webbsidan Prenumerera på sändlistor. Sist men inte minst, Debian Mailing
List Archives innehåller mycket värdefull information om Debian.

Om du behöver information om ett speciellt program bör du först prova man 
program eller info program.

Det finns också en mängd användbar dokumentation i /usr/share/doc. Speciellt /
usr/share/doc/HOWTO och /usr/share/doc/FAQ innehåller mycket intressant
information. För att skicka in felrapporter, ta en titt på /usr/share/doc/
debian/bug*. För att läsa om Debian-specifika problem för specifika program, ta
en titt på /usr/share/doc/(paketnamn)/README.Debian.

En allmän källa för information för GNU/Linux är webbplatsen för Linux
Documentation Project. Där kan du hitta HOWTO-dokument och pekare till annan
mycket värdefull information om delar av GNU/Linux-systemet.

Linux is an implementation of Unix. The Linux Documentation Project (LDP)
collects a number of HOWTOs and online books relating to Linux.

If you are new to Unix, you probably should go out and buy some books and do
some reading. This list of Unix FAQs contains a number of UseNet documents
which provide a nice historical reference.

8.4. Konfigurera ditt system att använda e-post

Idag är e-post en viktig del av många personers liv. Eftersom det finns många
alternativ för hur man gör konfigurationen, och eftersom det är viktigt för
några Debian-verktyg att den är rätt konfigurerad, kommer vi försöka att täcka
in grunderna i det här avsnittet.

Det finns tre huvudfunktioner som definierar ett e-postsystem. Först är det
e-postklienten (MUA) som är det program som en användare använder för att
skriva och läsa e-post. Sedan är det Mail Transfer Agent (MTA) som tar hand om
överföringen av meddelanden från en dator till en annan. Till sist är det Mail
Delivery Agent (MDA) som tar hand om leveransen av inkommande e-post till
användarens inkorg.

Dessa tre funktioner kan genomföras av separata program, men de kan även
kombineras till ett eller två program. Det är också möjligt att ha olika
program som hanterar dessa funktioner för olika typer av e-post.

På Linux- och Unix-system är mutt historiskt sett en mycket populär
e-postklient. Som de flesta traditionella Linux-program är den textbaserad. Den
används ofta i kombination med exim eller sendmail som MTA och procmail som
MDA.

With the increasing popularity of graphical desktop systems, the use of
graphical e-mail programs like GNOME's evolution, KDE's kmail or Mozilla's 
thunderbird has becoming more popular. These programs combine the function of a
MUA, MTA and MDA, but can -- and often are -- also be used in combination with
the traditional Linux tools.

8.4.1. Standardkonfiguration för e-post

Även om du planerar att använda ett grafiskt e-postprogram, är det viktigt att
en traditionell MTA/MDA även är installerad och rätt konfigurerad på ditt
Debian GNU/Linux-system. Anledningen är att olika verktyg som kör på systemet^
[19] kan skicka viktiga notifieringar via e-post för att informera
systemadministratören om (potentiella) problem eller ändringar.

Av den här anledningen kommer paketen exim4 och mutt att installeras som
standard (såvida du inte avmarkerar funktionen "standard" under
installationen). exim4 är en kombination av MTA/MDA som är relativt liten men
mycket flexibel. Den kommer som standard att konfigureras för att endast
hantera e-post lokalt till själva systemet, och e-post adresserad till
systemadministratören (root-kontot) kommer att levereras till det vanliga
användarkontot som skapades under installationen^[20].

När e-post från systemet levereras kommer de att läggas till i en fil i /var/
mail/kontonamn. E-postmeddelandena kan läsas med mutt.

8.4.2. Skicka e-post utanför systemet

Som tidigare nämnts, är det installerade Debian-systemet endast konfigurerat
att hantera e-post lokalt för systemet, inte för att skicka e-post till andra
eller för att ta emot post från andra.

Om du vill att exim4 ska hantera extern e-post, referera till nästa
underavsnitt för de grundläggande konfigurationsalternativen. Se till att testa
att post kan skickas och tas emot korrekt.

Om du tänker använda ett grafiskt e-postprogram och använda en e-postserver hos
din Internetleverantör (ISP) eller ditt företag, finns det egentligen inget
behov att konfigurera exim4 till att hantera extern e-post. Konfigurera helt
enkelt ditt grafiska favoritpostprogram till att använda de rätta servrarna
till att skicka och ta emot e-post (hur man gör det är utanför omfånget för den
här handboken).

Men om så är fallet behöver du konfigurera individuella verktyg till att
korrekt skicka e-post. Ett sådant verktyg är reportbug, ett program som
hanterar insändandet av felrapporter mot Debian-paket. Det förväntar sig som
standard att kunna använda exim4 för att skicka in felrapporter.

För att korrekt konfigurera reportbug till att använda en extern e-postserver,
kör kommandot reportbug --configure och svara "nej" på frågan om en MTA finns
tillgänglig. Du kommer då att bli frågad efter den SMTP-server som ska användas
för att skicka in felrapporter.

8.4.3. Konfigurera e-postservern Exim4

Om du vill att ditt system även ska hantera extern e-post, behöver du
konfigurera om paketet exim4^[21]:

# dpkg-reconfigure exim4-config

Efter det kommandot har angivits (som root), kommer du att bli frågad om du
vill dela upp konfigurationen i mindre filer. Välj standardalternativet om du
är osäker.

Härnäst kommer du att bli presenterad med flera vanliga postscenarior. Välj det
alternativ som bäst återspeglar dina behov.

internetsystem

    Ditt system är anslutet till ett nätverk och din e-post skickas och tas
    emot direkt via SMTP. På de efterföljande skärmarna kommer du bli frågad en
    del enkla frågor, såsom postnamnet för din maskin, eller en lista på
    domäner för vilka du tar emot eller vidaresänder post.

e-post skickad av smart värd

    I det här scenariot kommer din utgående post att vidarebefordras till en
    annan maskin, en så kallad "smart värd" (smarthost), som tar hand om
    sändningen av meddelandet till dess mål. Den smarta värden lagrar
    vanligtvis inkommande post som är adresserad till din dator, så att du inte
    behöver vara permanent ansluten. Det betyder också att du måste hämta din
    e-post från den smarta värden med program som till exempel fetchmail.

    I många fall kommer den smarta värden att vara din Internetleverantörs
    e-postserver, vilket gör det här alternativ mycket lämpligt för användare
    med uppringd anslutning. Den kan även vara ett företags e-postserver, eller
    till och med ett annat system på ditt egna nätverk.

e-post skickad av smart värd; ingen lokal post

    Det här alternativet är i stort sett samma som det föregående, förutom att
    systemet inte kommer att konfigureras till att hantera post för en lokal
    e-postdomän. Post på själva systemet (t.ex. för systemadministratören)
    kommer fortfarande att hanteras.

endast lokal leverans

    Det här alternativet har ditt system konfigurerats med som standard.

ingen konfiguration för närvarande

    Välj den här om du är absolut säker på att du vet vad du gör. Det innebär
    att du kommer att ha ett okonfigurerat e-postsystem -- tills du
    konfigurerar det, du kommer inte att kunna ta emot eller skicka någon post
    och du kan missa viktiga meddelanden från dina systemverktyg.

Om inget av dessa scenarior passar dina behov, eller om du behöver en mer
finmaskig konfiguration, behöver du redigera konfigurationsfilerna i katalogen
/etc/exim4 efter att installationen är färdig. Mer information om exim4 kan
hittas i /usr/share/doc/exim4; filen README.Debian.gz har ytterligare detaljer
om hur man konfigurerar exim4 och förklarar var man kan hitta ytterligare
dokumentation.

Observera att sändning av post direkt till Internet, när du inte har ett
officiellt domännamn, kan resultera i att din post avvisas på grund av
skräppostfunktioner på mottagande servrar. Användning av din
Internetleverantörs e-postserver är att föredra. Om du fortfarande vill skicka
ut post direkt, kanske du vill använda en annan e-postadress än den som
genereras som standard. Om du använder exim4 som din MTA, är det här möjligt
genom att lägga till en post i /etc/email-addresses.

8.5. Bygg en ny kärna

Why would someone want to compile a new kernel? It is most probably not
necessary since the default kernel shipped with Debian handles almost all
configurations.

If you want to compile your own kernel nevertheless, this is of course possible
and we recommend the use of the "make deb-pkg" target. For more information
read the Debian Linux Kernel Handbook.

8.6. Återställning av ett trasigt system

Ibland går saker och ting fel och systemet du noga installerat inte kan startas
upp. Kanske är konfigurationen för starthanteraren trasig efter att ha provat
ut en ändring, kanske startar inte den nya kärnan du installerat eller kanske
kosmiska strålar träffat din disk och vänt på en bit i /sbin/init. Oavsett
anledning behöver du ett fungerande system under tiden du reparerar felet och
räddningsläget kan då vara användbart för det här.

To access rescue mode, select rescue from the boot menu, type rescue at the
boot: prompt, or boot with the rescue/enable=true boot parameter. You'll be
shown the first few screens of the installer, with a note in the corner of the
display to indicate that this is rescue mode, not a full installation. Don't
worry, your system is not about to be overwritten! Rescue mode simply takes
advantage of the hardware detection facilities available in the installer to
ensure that your disks, network devices, and so on are available to you while
repairing your system.

Istället för partioneringsverktyget bör du nu presenteras med en lista över
partitionerna på ditt system och bli frågad att välja en av dem. Normalt sett
bör du välja partitionen som innehåller rotfilsystemet du behöver reparera. Du
kan välja partitioner på RAID- och LVM-enheter såväl som de som skapas direkt
på diskarna.

Om möjligt kommer installationsprogrammet nu att ge dig en skalprompt i
filsystemet du valt, vilket du kan använda för att genomföra nödvändiga
reparationer. Till exempel om du behöver installera om starthanteraren GRUB
till huvudstartsektorn på första hårddisken kan du ange kommandot grub-install
'(hd0)' för att göra det här.

Om installationsprogrammet inte kan köra ett användbart skal i rotfilsystemet
du valt, det kanske beror på att filsystemet innehåller fel, kommer den att
skriva ut en varning och efter det ge dig ett skal i installationsprogrammets
miljö istället. Du kanske inte har så många verktyg tillgängliga i denna miljö
men de räcker ofta för att laga ditt system. Rotfilsystemet du valt kommer att
monteras på katalogen /target.

Oavsett vilket, efter du har avslutat skalet kommer systemet att startas om.

Till slut, observera att det kan vara svårt att reparera trasiga system och
denna handbok försöker inte att gå in så djupt i alla saker som kan ha gått fel
och hur man rättar till dem. Om du har problem, konsultera en expert.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[18] Under the SysV init system halt had the same effect as poweroff, but with
systemd as init system (the default since jessie) their effects are different.

^[19] Exempel är: cron, quota, logcheck, aide, ...

^[20] Vidarebefordring av e-post för root till det vanliga användarkontot
konfigureras i /etc/aliases. Om inget vanligt användarkonto skapades, kommer
posten så klart att levereras till själva root-kontot.

^[21] Du kan så klart också ta bort exim4 och ersätta det med en alternativ MTA
/MDA.

Appendix A. Installationshjälp

Innehållsförteckning

A.1. Förberedelser
A.2. Starta upp installationsprogrammet

    A.2.1. Cd-rom
    A.2.2. USB-minne
    A.2.3. Uppstart från nätverk
    A.2.4. Uppstart från hårddisk

A.3. Installation
A.4. Sänd oss en installationsrapport
A.5. Och till slut...

Det här dokumentet beskriver hur man installerar Debian GNU/Linux buster för 
64-bit PC ("amd64") med den nya debian-installer. Det här är en snabb genomgång
av installationsprocessen vilken bör innehålla all information du behöver för
de flesta typer av installationer. När mer information är användbart kommer vi
att länka till mer detaljerade förklarningar i andra delar av det här
dokumentet.

A.1. Förberedelser

Om du påträffar fel under din installation, referera till Avsnitt 5.4.7,
"Skicka installationsrapporter" för instruktioner om hur man rapporterar dem.
Om du har frågor som inte kan bli besvarade av det här dokumentet, skicka dem
gärna till sändlistan debian-boot (debian-boot@lists.debian.org) eller fråga på
IRC (#debian-boot på OFTC-nätverket).

A.2. Starta upp installationsprogrammet

Debian-cd-teamet ger ut färdiga cd-avbildningar med debian-installer på sidan
Debian GNU/Linux på cd. För mer information om var man får tag på cd-skivor, se
Avsnitt 4.1, "Official Debian GNU/Linux CD/DVD-ROM Sets".

Vissa installationsmetoder kräver andra avbildningar än cd-avbilder.
Avsnitt 4.2.1, "Var man får tag på installationsavbildningar" beskriver hur man
hittar avbildningar på Debian-speglar.

Underavsnitten nedan ger detaljer om vilka avbildningar du bör hämta för varje
tänkbar installation.

A.2.1. Cd-rom

The netinst CD image is a popular image which can be used to install buster
with the debian-installer. This image is intended to boot from CD and install
additional packages over a network; hence the name 'netinst'. The image has the
software components needed to run the installer and the base packages to
provide a minimal buster system. If you'd rather, you can get a full size CD
image which will not need the network to install. You only need the first CD of
the set.

Hämta den typ du föredrar och bränn den till en cd-skiva. För att starta
cd-skivan kanske du behöver att ändra din BIOS-konfiguration som förklaras i
Avsnitt 3.6.1, "Starta BIOS-inställningsmenyn".

A.2.2. USB-minne

Det är också möjligt att installera från en flyttbar USB-lagringsenhet. Till
exempel kan en USB-nyckelring vara ett händigt lagringsmedia att installera
Debian från och som du kan ta med dig överallt.

Det enklaste sättet att förbereda ditt USB-minne är att hämta en Debian CD-
eller DVD-avbildning som får plats på det och skriva CD-avbildningen direkt
till minnet. Så klart kommer det här att förstöra allt som redan finns på
minnet. Detta fungerar eftersom Debian CD-avbildningar är "isohybrid" som kan
startas både från CD- och från USB-enheter.

Det finns andra, mer flexibla sätt att ställa in ett minne för användning av
Debian-installer och det är möjligt att få det att fungera med mindre minnen.
För detaljer, se Avsnitt 4.3, "Förbereda filer för uppstart med USB-minne".

Some BIOSes can boot USB storage directly, and some cannot. You may need to
configure your BIOS to enable "USB legacy support". The boot device selection
menu should show "removable drive" or "USB-HDD" to get it to boot from the USB
device. For helpful hints and details, see Avsnitt 5.1.1, "Uppstart från
USB-minne".

A.2.3. Uppstart från nätverk

Det är också möjligt att starta upp debian-installer helt från nätverket. De
olika metoderna att nätstarta beror på din arkitektur och
nätstartskonfiguration. Filerna i netboot/ kan användas för att nätstarta
debian-installer.

Det enklaste sättet att konfigurera är antagligen nätstart via PXE. Packa upp
filen netboot/pxeboot.tar.gz till /srv/tftp eller där det är lämpligast för din
tftp-server. Ställ in din DHCP-server att skicka filnamnet pxelinux.0 till
klienterna och med lite tur bör allt fungera. För detaljerade instruktioner, se
Avsnitt 4.5, "Förbered filerna för nätverksuppstart via TFTP".

A.2.4. Uppstart från hårddisk

Det är möjligt att starta installationsprogrammet utan flyttbart media men bara
med en befintlig hårddisk som kan innehålla ett annat operativsystem. Hämta
hd-media/initrd.gz, hd-media/vmlinuz och en Debian cd-avbildning till
toppnivåkatalogen av hårddisken. Se till att cd-avbilden har ett filnamn som
slutar på .iso. Nu är det bara att starta linux med initrd. Avsnitt 5.1.5,
"Uppstart från Linux med LILO eller GRUB" beskriver ett sätt att göra det på.

A.3. Installation

När installationsprogrammet har startat kommer du bli hälsad med en startskärm.
Tryck Enter för uppstart, eller läs instruktionerna för de andra
uppstartsmetoderna och parametrar (se Avsnitt 5.3, "Uppstartsparametrar").

Efter ett tag kommer du bli frågad att välja ditt språk. Använd piltangenterna
för att välja ett språk och tryck Enter för att fortsätta. Efter det kommer du
bli frågad att välja ditt land med de val som inkluderar länder där ditt språk
talas. Om det är inte är på den korta listan finns en lista över alla länder i
världen.

Du kan bli frågad att bekräfta ditt tangentbordarrangemang. Välj den förvalda
om du är osäker.

Nu är det bara att luta sig tillbaka under tiden Debian-installer identifierar
din maskinvara och läser in resten av sig själv från cd-skiva, startdiskett,
USB etc.

Efter det kommer installationsprogrammet att försöka att identifiera din
nätverksmaskinvara och ställa in nätverket via DHCP. Om du inte är ansluten
till ett nätverk eller inte har DHCP har du getts möjligheten att konfigurera
nätverket manuellt.

Setting up the network is followed by the creation of user accounts. By default
you are asked to provide a password for the "root" (administrator) account and
information necessary to create one regular user account. If you do not specify
a password for the "root" user, this account will be disabled but the sudo
package will be installed later to enable administrative tasks to be carried
out on the new system. By default, the first user created on the system will be
allowed to use the sudo command to become root.

Nästa steg är att konfigurera din klocka och tidszon. Installationsprogrammet
kommer att försöka att kontakta en tidsserver på Internet för att försäkra sig
om att klockan ställs in korrekt. Tidszonen baseras på det land som tidigare
valts och installationsprogrammet kommer endast att fråga om att välja en
tidszon om ett land har flera olika zoner.

Nu är det dags att partitionera dina diskar. Först kommer du få möjligheten att
automatiskt partitionera, antingen en hel disk eller ledigt utrymme på en disk
(se Avsnitt 6.3.4.2, "Guidad partitionering").. Det här rekommenderas för nya
användare eller de som har bråttom. Om du inte vill partitionera automatiskt,
välj Manuell från menyn.

Om du har en befintlig DOS- eller Windows-partition som du vill behålla, var
väldigt försiktig med automatisk partitionering. Om du väljer manuell
partitionering kan du använda installationsprogrammet för att ändra storlek på
existerande FAT eller NTFS-partitioner för att skapa plats åt
Debian-installationen: välj helt enkelt partitionen och ange dess nya storlek.

På nästa skärm kan du se din partitionstabell, hur partitionerna kommer att
formateras och var de kommer att monteras. Välj en partition att ändra eller ta
bort. Om du använde automatisk partitionering bör du kunna välja Slutför
partitioneringen och skriv ändringarna till hårddisken från menyn för att
använda det som ställts in. Kom ihåg att tilldela åtminstone en partition som
växlingsutrymme och att montera en partition på /. Appendix C, Partitionera för
Debian har mer allmän information om partitionering.

Nu kommer debian-installer att formatera dina partitioner och börja installera
grundsystemet, vilket kan ta lite tid. Det här följs av installation av kärnan.

Grundsystemet som blev installerat tidigare är en fungerande men mycket minimal
installation. Nästa steg låter dig installera ytterligare paket genom att välja
olika funktioner som ditt system ska utföra för att göra systemet mer
funktionellt. Innan paketen kan installeras behöver apt konfigureras eftersom
den definierar var paketen ska hämtas från. Funktionen "Standardsystem" kommer
som standard att väljas och bör vanligtvis installeras. Välj funktionen "
Skrivbordsmiljö" om du vill använda ett grafiskt skrivbord efter
installationen. Se Avsnitt 6.3.6.2, "Val och installation av programvara" för
ytterligare information om det här steget.

Det sista steget är att installera en starthanterare. Om
installationsprogrammet identifierar andra operativsystem på din dator kommer
den att lägga till de i uppstartsmenyn och informera dig. Som standard kommer
GRUB att installeras på huvudstartsektorn (MBR) på första hårddisken som
normalt sett är ett bra val. Du kommer att ges möjligheten att åsidosätta det
valet och installera den någon annanstans.

debian-installer kommer nu att berätta för dig att installation är
färdigställd. Mata ut cd-skivan eller andra uppstartsmedia och tryck Enter för
att starta om din maskin. Den bör starta upp till det nyligen installerade
systemet där du kan logga in. Det här förklaras mer i Kapitel 7, Starta upp
ditt nya Debian-system.

Om du behöver mer information om installationsprocessen, se Kapitel 6, 
Användning av Debian Installer.

A.4. Sänd oss en installationsrapport

If you successfully managed an installation with debian-installer, please take
time to provide us with a report. The simplest way to do so is to install the
reportbug package (apt install reportbug), configure reportbug as explained in
Avsnitt 8.4.2, "Skicka e-post utanför systemet", and run reportbug
installation-reports.

Om du inte färdigställde installation har du möjligen hittat ett fel i
Debian-installer. För att förbättra installationsprogrammet är det nödvändigt
att vi känner till dessa fel, så ta dig tid att rapportera dem. Du kan använda
en installationsrapport för att rapportera problem; om installationen totalt
misslyckades, se Avsnitt 5.4.6, "Rapportering av installationsproblem".

A.5. Och till slut...

Vi hoppas att din Debian-installation känns bra och att du tycker att Debian är
användbar. Du kanske även vill läsa Kapitel 8, Nästa steg och hur man ska gå
vidare.

Appendix B. Automatiserad installation med förinställningar

Innehållsförteckning

B.1. Introduktion

    B.1.1. Metoder för förinställning
    B.1.2. Begränsningar

B.2. Användning av förinställningar

    B.2.1. Inläsning av förkonfigurationsfilen
    B.2.2. Användning av uppstartsparametrar för att förinställa frågor
    B.2.3. Auto-läget
    B.2.4. Användbara alias vid förinställning
    B.2.5. Använd en DHCP-server för att ange förkonfigurationsfiler

B.3. Skapa en förkonfigurationsfil
B.4. Innehållet av en förkonfigurationsfil (för buster)

    B.4.1. Lokalanpassning
    B.4.2. Nätverkskonfiguration
    B.4.3. Nätverkskonsoll
    B.4.4. Spegelinställningar
    B.4.5. Kontoinställning
    B.4.6. Inställning av klocka och tidszon
    B.4.7. Partitionering
    B.4.8. Installation av grundsystem
    B.4.9. Apt-inställning
    B.4.10. Paketval
    B.4.11. Installation av starthanteraren
    B.4.12. Färdigställande av installationen
    B.4.13. Förinställning av andra paket

B.5. Avancerade inställningar

    B.5.1. Kör anpassade kommandon under installationen
    B.5.2. Användning av förinställningar för att ändra på standardvärden
    B.5.3. Kedjeinläsning av förkonfigurationsfiler

Den här bilagan förklarar hur man förinställer svar på frågor i
debian-installer för att automatisera din installation.

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

B.1. Introduktion

Förinställningar ger ett sätt att ställa in svar på frågor som ställs under
installationsprocessen, utan att manuellt behöva ange svaren under tiden
installationen körs. Det här gör det möjligt att fullständit automatisera de
flesta typer av installationer och erbjuder även vissa funktioner som inte
finns tillgängliga vid normala installationer.

Förinställning är inte nödvändigt. Om du använder en tom förinställningsfil
kommer installationsprogrammet att uppträda på samma sätt som vid en vanlig
manuell installation. Varje fråga som du förinställer kommer (om du har gjort
rätt!) ändra installationen på något sätt från den grundregeln.

B.1.1. Metoder för förinställning

Det finns tre metoder som kan användas för förinställning: initrd, fil och
nätverk. Förinställning med initrd fungerar med alla installationsmetoder och
har stöd för förinställningar av fler saker, men den kräver den största
förberedelsen. Förinställning med fil och nätverk kan användas med olika
installationsmetoder.

Följande tabell visar vilka förinställningsmetoder som kan användas med vilka
installationsmetoder.

┌─────────────────────────────────────────────────┬─────────┬─────┬───────────┐
│               Installationsmetod                │ initrd  │ fil │  nätverk  │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│Cd/Dvd                                           │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│nätuppstart                                      │ja       │nej  │ja         │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│hd-media (inklusive USB-minne)                   │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┴─────────┴─────┴───────────┤
│^[a] men endast om du har nätverksåtkomst, och ställer in preseed/url på     │
│lämpligt sätt                                                                │
└─────────────────────────────────────────────────────────────────────────────┘

An important difference between the preseeding methods is the point at which
the preconfiguration file is loaded and processed. For initrd preseeding this
is right at the start of the installation, before the first question is even
asked. Preseeding from the kernel command line happens just after. It is thus
possible to override configuration set in the initrd by editing the kernel
command line (either in the bootloader configuration or manually at boot time
for bootloaders that allow it). For file preseeding this is after the CD or CD
image has been loaded. For network preseeding it is only after the network has
been configured.

Viktigt

Obviously, any questions that have been processed before the preconfiguration
file is loaded cannot be preseeded (this will include questions that are only
displayed at medium or low priority, like the first hardware detection run). A
not so convenient way to avoid these questions from being asked is to preseed
them through the boot parameters, as described in Avsnitt B.2.2, "Användning av
uppstartsparametrar för att förinställa frågor".

In order to easily avoid the questions that would normally appear before the
preseeding occurs, you can start the installer in "auto" mode. This delays
questions that would normally be asked too early for preseeding (i.e. language,
country and keyboard selection) until after the network comes up, thus allowing
them to be preseeded. It also runs the installation at critical priority, which
avoids many unimportant questions. See Avsnitt B.2.3, "Auto-läget" for details.

B.1.2. Begränsningar

Även om de flesta frågor som används av debian-installer kan förinställas med
den här metoden finns det vissa undantag. Du måste partitionera (om) en hel
disk eller använda tillgängligt ledigt utrymme på en disk; det är inte möjligt
att använda befintliga partitioner.

B.2. Användning av förinställningar

Du behöver först skapa en förkonfigurationsfil och placera den på platsen där
du vill använda den. Skapandet av förkonfigurationsfilen förklaras senare i den
här bilagan. Lägga den på rätt plats är ganska självförklarande för
förinställning via nätverket eller om du vill läsa filen från en diskett eller
ett USB-minne. Om du vill inkludera filen på en cd- eller dvd-skiva behöver du
göra om iso-avbildningen. Hur man får förkonfigurationsfil inkluderad i initrd
är utanför omfånget för det här dokumentet; konsultera utvecklarnas
dokumentation för debian-installer.

Ett exempel på en förkonfigurationsfil du kan använda som grund för din egna
förkonfigurationsfil finns tillgänglig från ../example-preseed.txt. Den filen
är baserad på konfigurationsdelarna som inkluderats i den här bilagan.

B.2.1. Inläsning av förkonfigurationsfilen

Om du använder förinställning via initrd, behöver du endast se till att filen
som heter preseed.cfg finns inkluderar i rotkatalogen på initrd.
Installationsprogrammet kommer automatiskt att kontrollera om den filen finns
och sedan läsa in den.

För de övriga förinställningsmetoderna behöver du tala om för
installationsprogrammet vilken fil du använder när du startar upp den. Det gör
du genom att skicka med en uppstartsparameter till kärnan, antingen manuellt
vid uppstart eller genom att redigera konfigurationsfilen för starthanteraren 
(syslinux.cfg) och där lägga till parametern på slutet av append-raden för
varje kärna som listas.

Om du anger förkonfigurationsfilen i konfigurationen för starthanteraren, bör
du kanske ändra konfigurationen så att du inte behöver trycka Enter för att
starta installationsprogrammet. För syslinux betyder det att ställa in
timeout-värdet till 1 i syslinux.cfg.

För att se till att installationsprogrammet får rätt förkonfigurationsfil, kan
du valfritt ange en kontrollsumma för filen. För närvarande behöver det vara en
md5sum och om den anges måste den stämma med förkonfigurationsfilen eller så
kommer installationsprogrammet att vägra använda den.

Boot parameters to specify:
- if you're netbooting:
  preseed/url=http://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
- or
  preseed/url=tftp://host/path/to/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d

- if you're booting a remastered CD:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- if you're installing from USB media (put the preconfiguration file in the
  toplevel directory of the USB stick):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Observera att preseed/url kan kortas ner till endast url, preseed/file till
file och preseed/file/checksum till preseed-md5 när de skickas med som
uppstartsparametrar.

B.2.2. Användning av uppstartsparametrar för att förinställa frågor

Om en förkonfigurationsfil inte kan användas för att förinställa vissa steg,
kan installationsprogrammet fortfarande vara fullständigt automatiserad
eftersom du kan skicka förinställningsvärden på kommandoraden när
installationsprogrammet startar upp.

Uppstartsparametrar kan även användas om du inte vill använda förinställning
utan bara vill tillhandahålla ett svar på en specifik fråga. Några exempel på
var det här kan vara användbart finns dokumenterat i den här handboken.

För att ställa in ett värde som kan användas i debian-installer, skicka helt
enkelt sökväg/till/variabel=värde för någon av de förinställningsvariabler som
listas i de exempel i den här bilagan. Om ett värde ska användas för att
konfigurera paket för målsystemet, behöver du lägga till owner^[22] för
variabeln som i ägare:sökväg/till/variabel=värde. Om du inte anger ägaren,
kommer värdet för variabeln inte att kopieras till debconf-databasen på
målsystemet och därigenom inte användas under konfigurationen av det relevanta
paketet.

Vanligtvis betyder förinställning av en fråga på det här sättet att frågan inte
kommer att ställas. För att ställa in ett specifikt standardvärde för en fråga,
men fortfarande ställa frågan, kan du använda "?=" istället för "=" som
operator. Se även Avsnitt B.5.2, "Användning av förinställningar för att ändra
på standardvärden".

Observera att vissa variabler som ofta ställs in vid uppstartsprompten har ett
kortare alias. Om ett alias finns tillgängligt kommer det att användas i
exemplen i denna bilaga istället för den fullständiga variabeln. Speciellt
variabeln preseed/url, som har fått aliaset url. Ett annat exempel är aliaset
tasks som översätts till tasksel:tasksel/first.

En "---" i uppstartsflaggorna har en speciell betydelse. Kärnparametrar som
dyker upp efter den sista "---" kan kopieras in i starthanterarens
konfiguration för det installerade systemet (om det stöds av
installationsprogrammet för starthanteraren). Installationsprogrammet kommer
automatiskt att filtrera ut alla flaggor (som förkonfigurationsflaggor) som den
känner igen.

Notera

De aktuella linux-kärnorna (2.6.9 och senare) accepterar maximalt 32
kommandoradsflaggor och 32 miljöflaggor, inklusive eventuella flaggor som läggs
till som standard för installationsprogrammet. Om dessa tal överstigs kommer
kärnan att få panik (krasch). (För tidigare kärnor var dessa tal lägre).

För de flesta installationer kan vissa av de standardflaggor i din
konfigurationsfil för starthanteraren såsom "vga=normal" med säkerhet tas bort,
vilket kan ge dig möjlighet att lägga till fler flaggor för förinställningen.

Notera

Det kanske inte alltid är möjligt att ange värden med blanksteg för
uppstartsparametrar, även om du avgränsar dem med citationstecken.

B.2.3. Auto-läget

There are several features of Debian Installer that combine to allow fairly
simple command lines at the boot prompt to result in arbitrarily complex
customized automatic installs.

This is enabled by using the Automated install boot choice, also called auto
for some architectures or boot methods. In this section, auto is thus not a
parameter, it means selecting that boot choice, and appending the following
boot parameters on the boot prompt. See Avsnitt 5.1.7, "Uppstartsskärmen" for
information on how to add a boot parameter.

För att visa detta är några exempel som kan användas vid uppstartsprompten:

auto url=autoserver

Det här förlitar sig på att det finns en DHCP-server som får maskinen till den
punkt där autoserver kan slås upp av DNS, kanske efter den lokala domänen läggs
till om den tillhandahölls av DHCP. Om det gjordes på ett system där domänen
var exampel.se, och de har en ganska förnuftig DHCP-konfiguration, skulle det
resultera i att förinställningsfilen hämtades från http://autoserver.exampel.se
/d-i/buster/./preseed.cfg.

Den sista delen av den url:en (d-i/buster/./preseed.cfg) hämtas från
auto-install/defaultroot. Som standard inkluderar det här katalogen buster för
att tillåta att framtida versioner anger sina egna kodnamn och låter folk
migrera framåt på ett kontrollerat sätt. Biten /./ används för att indikera en
rot, relativ till vilka efterföljande sökvägar som kan fästas (för användning i
preseed/include och preseed/run). Det här tillåter att filer kan anges antingen
som fullständiga url:er, sökvägar som börjar med / som då är fästa, eller även
sökvägar relativa till platsen där den senaste förinställningsfilen hittades.
Det här kan användas för att bygga mer portabla skript där en hel hierarki av
skript kan flyttas till en ny plats utan att göra sönder den, till exempel
kopiera filerna till ett USB-minne när de ursprungligen fann spå en webbserver.
I det här exemplet, om förinställningsfilen ställer in preseed/run till /skript
/sent_kommando.sh kommer filen att hämtas från http://autoserver.exempel.se/d-i
/buster/./skript/sent_kommando.sh.

Om det inte finns någon lokal DHCP- eller DNS-infrastruktur, eller om du inte
vill använda standardsökvägen till preseed.cfg, kan du fortfarande använda en
angiven url, och om du inte vill använda elementet /./ kommer det att fästas
till början av sökvägen (alltså den tredje / i url:en). Här är ett exempel som
kräver minimalt stöd från den lokala nätverksinfrastrukturen:

auto url=http://192.168.1.2/sökväg/till/minförinställnings.fil

Sättet det här fungerar på är:

  • om url:en saknar ett protokoll, antas http,

  • om värdnamnssektionen inte innehåller punkter, den har erhållit domänen
    från DHCP som lagt till den, och

  • om det inte finns några / efter värdnamnet, kommer standardsökvägen att
    läggas till.

I tillägg till att ange url:en, kan du även ange inställningar som inte direkt
påverkar beteendet för själva debian-installer, men som kan skickas genom till
skript som angivits med preseed/run i den inlästa förinställningsfilen. För
tillfället, det enda exemplet på det här är auto-install/classes, vilken har
aliaset classes. Den här kan användas på detta sätt:

auto url=exampel.se classes=klass_A;klass_B

Klasserna skulle till exempel kunna beteckna systemtypen som ska installeras,
eller lokalanpassningen som ska användas.

Det är så klart möjligt att utöka det här konceptet, och om du gör det, är det
rimligt att använda namnrymden auto-install namespace för det här. Så ett
exempel på det här är auto-install/style vilket sedan används i dina skript. Om
du känner behovet att göra det här, nämn det på sändlistan <
debian-boot@lists.debian.org> så att vi kan undvika konflikter i namnrymden,
och kanske lägga till ett alias för parametern åt dig.

The auto boot choice is not yet defined on all arches. The same effect may be
achieved by simply adding the two parameters auto=true priority=critical to the
kernel command line. The auto kernel parameter is an alias for auto-install/
enable and setting it to true delays the locale and keyboard questions until
after there has been a chance to preseed them, while priority is an alias for
debconf/priority and setting it to critical stops any questions with a lower
priority from being asked.

Ytterligare flaggor som kan vara intressanta vid försök att automatisera en
installation när DHCP används är: interface=auto netcfg/dhcp_timeout=60 vilket
gör att maskinen väljer det första användbara nätverkskortet och väntar lite
längre på ett svar på sin DHCP-fråga.

Tips

Ett djupgående exempel på hur man använder det här ramverket, inklusive
exempelskript och klasser, kan hittas på webbsidan för dess utvecklare.
Exemplen som finns tillgängliga där visar många andra trevliga effekter som kan
uppnås genom kreativ användning av förkonfigurering.

B.2.4. Användbara alias vid förinställning

Följande alias kan vara användbara vid användning av (automatiskt läge)
förinställning. Observera att dessa helt enkelt är kort alias för frågenamn,
och du behöver även alltid ange ett värde: till exempel, auto=true eller
interface=eth0.

priority    debconf/priority
fb          debian-installer/framebuffer
language    debian-installer/language
country     debian-installer/country
locale      debian-installer/locale
theme       debian-installer/theme
auto        auto-install/enable
classes     auto-install/classes
fil         preseed/file
url         preseed/url
domain      netcfg/get_domain
hostname    netcfg/get_hostname
interface   netcfg/choose_interface
protocol    mirror/protocol
suite       mirror/suite
modules     anna/choose_modules
recommends  base-installer/install-recommends
tasks       tasksel:tasksel/first
desktop     tasksel:tasksel/desktop
dmraid      disk-detect/dmraid/enable
keymap      keyboard-configuration/xkb-keymap
preseed-md5 preseed/file/checksum

B.2.5. Använd en DHCP-server för att ange förkonfigurationsfiler

Det är också möjligt att använda DHCP för att ange en förkonfigurationsfil att
hämta från nätverket. DHCP tillåter att man anger ett filnamn. Normalt är det
en fil som används för uppstart via nätverket men om det verkar vara en URL så
kommer installationsmediumet som har stöd för förinställning via nätverket att
hämta filen från URL:en och använda det som en förkonfigurationsfil. Här är ett
exempel på hur man ställer in dhcpd.conf för version 3 av ISC DHCP-servern
(Debian-paketet heter isc-dhcp-server).

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://värd/preseed.cfg";
}

Observera att exemplet ovan begränsar filnamnet till DHCP-klienter som
identifierar sig själva som "d-i", så det kommer inte att påverka vanliga
DHCP-klienter men endast installationsprogrammet. Du kan också lägga in text i
en sats för endast en speciell värd för att undvika förinställning av alla
installationer på ditt nätverk.

Ett bra sätt att använda förinställning via DHCP är att endast förinställa
värden specifika till ditt nätverk, såsom vilken Debian-spegel som ska
användas. Det här sättet kommer installationer på ditt nätverk att automatiskt
få en bra spegel vald men resten av installationen kan genomföras interaktivt.
Använda förinställning via DHCP för att helt automatisera Debian-installationer
ska genomföras med försiktighet.

B.3. Skapa en förkonfigurationsfil

Förkonfigurationsfilen är i samma format som används av kommandot 
debconf-set-selections. Det allmänna formatet för en rad i en
förkonfigurationsfil är:

<ägare> <frågans namn> <frågetyp> <värde>

The file should start with #_preseed_V1

Det finns ett par regler att ha i åtanke när man skriver en
förkonfigurationsfil.

  • Lägg endast till ett enda blanksteg eller tabulatortecken mellan typ och
    värde: eventuella tomrum kommer att tolkas som om de tillhör värdet.

  • En rad kan vara uppdelad i flera rader genom att lägga till ett omvänt
    snedstreck på slutet ("\") som ett radfortsättningstecken. En bra plats att
    dela en rad är efter frågenamnet; en dålig plats är mellan typ och värde.
    Delade rader kommer att sammanfogas till en enda rad med alla inledande/
    avslutade tomrum ihopslagna till ett enda blanksteg.

  • For debconf variables (templates) used only in the installer itself, the
    owner should be set to "d-i"; to preseed variables used in the installed
    system, the name of the package that contains the corresponding debconf
    template should be used. Only variables that have their owner set to
    something other than "d-i" will be propagated to the debconf database for
    the installed system.

  • De flesta frågor behöver förinställdas med giltiga värden på engelska och
    inte med översatta värden. Dock finns det några frågor (till exempel i
    partman) där översatta värden måste användas.

  • Vissa frågor tar en kod som ett värde istället för den engelska texten som
    visas under installationen.

  • Start with #_preseed_V1

Det enklaste sättet att skapa en förkonfigurationsfil på är att använda
exempelfilen som länkas i Avsnitt B.4, "Innehållet av en förkonfigurationsfil
(för buster)" som grund och arbeta vidare därifrån.

En alternativ metod är att göra en manuell installation och sedan, efter
omstart, använda debconf-get-selections från paketet debconf-utils för att
dumpa både debconf-databasen och installationsprogrammets cdebconf-databas till
en enda fil:

$ echo "#_preseed_V1" > file
$ debconf-get-selections --installer >> file
$ debconf-get-selections >> file

Dock, en fil som genereras på detta sätt kommer att ha några poster som inte
bör förinställas, och exempelfilen är en bättre startpunkt för de flesta
användare.

Notera

Denna metod förlitar sig på att vid slutet av installationen, sparas
installationsprogrammets cdebconf-databas till det installerade systemet i /var
/log/installer/cdebconf. Dock, på grund av att databasen kan innehålla känslig
information, är filerna som standard endast läsbara av root.

Katalogen /var/log/installer och alla filer i den kommer att tas bort från ditt
system om du rensar ut paketet installation-report.

För att kontrollera möjliga värden för frågor kan du använda nano för att
undersöka filerna i /var/lib/cdebconf under tiden en installation pågår. Se
templates.dat för de råa mallarna och questions.dat för de aktuella värdena och
för de värden som tilldelas till variabler.

För att kontrollera om formatet på din förkonfigurationsfil är giltigt före en
installation genomförs, kan du använda kommandot debconf-set-selections -c 
preseed.cfg.

B.4. Innehållet av en förkonfigurationsfil (för buster)

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

Observera att det här exemplet är baserat på en installation för Intel
x86-arkitekturen. Om du installerar en annan arkitektur, vissa av exemplen
(såsom tangentbordsval och installation av starthanteraren) kanske inte är
relevanta och behöver ersättas av debconf-inställningar som är lämpliga för din
arkitektur.

Detaljer om hur de olika komponenterna i Debian Installer faktiskt fungerar
beskrivs i Avsnitt 6.3, "Användning av individuella komponenter".

B.4.1. Lokalanpassning

During a normal install the questions about localization are asked first, so
these values can only be preseeded via the initrd or kernel boot parameter
methods. Auto mode (Avsnitt B.2.3, "Auto-läget") includes the setting of
auto-install/enable=true (normally via the auto preseed alias). This delays the
asking of the localisation questions, so that they can be preseeded by any
method.

Lokalen kan användas för att ange både språk och land samt kan vara en
kombination av ett språk som stöds av debian-installer och ett känt land. Om
kombinationen inte formar en giltig lokal så kommer installationsprogrammet att
automatiskt välja en lokal som är giltig för det valda språket. För att ange
lokalen som en uppstartsparameter, använd locale=sv_SE.

Även om denna metod är mycket enkel att använda så tillåter den inte
förinställning av alla möjliga kombinationer av language, country och locale^
[23]. Så alternativt kan värdena förinställas individuellt. Språk och land kan
även anges som uppstartsparametrar.

# Preseeding only locale sets language, country and locale.
d-i debian-installer/locale string en_US

# The values can also be preseeded individually for greater flexibility.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Optionally specify additional locales to be generated.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8

Keyboard configuration consists of selecting a keymap and (for non-latin
keymaps) a toggle key to switch between the non-latin keymap and the US keymap.
Only basic keymap variants are available during installation. Advanced variants
are available only in the installed system, through dpkg-reconfigure
keyboard-configuration.

# Tangentbordsval.
d-i keyboard-configuration/xkb-keymap select se
# d-i keyboard-configuration/toggle select No toggling

För att hoppa över konfiguration av tangentbordet kan du förinställa keymap med
skip-config. Det här kommer att resultera i att kärnans tangentlayout
fortsätter vara aktiv.

B.4.2. Nätverkskonfiguration

Så klart, att förinställa nätverkskonfiguration kommer inte att fungera om du
läser in din förkonfigurationsfil från nätverket. Men det är otroligt bra när
du startar upp från en cd eller ett USB-minne. Om du läser in
förkonfigurationsfiler från nätverket, kan du skicka med
konfigurationsparametrar via kärnans uppstartsparametrar.

Om du behöver välja ett specifikt nätgränssnitt när du startar upp via
nätverket före inläsning av en förkonfigurationsfil från nätverket, använd en
uppstartsparameter såsom interface=eth1.

Även om förinställning av nätverkskonfigurationen normalt sett inte är möjlig
när man använder förinställning via nätverk (med "preseed/url") så kan du
använda följande hack för att komma runt det, till exempel om du vill ställa in
en statisk adress för nätverksgränssnittet. Hacket tvingar
nätverkskonfigurationen att köras igen efter att förkonfigurationsfilen har
lästs in genom att skapa ett "preseed/run"-skript som innehåller följande
kommandon:

kill-all-dhcp; netcfg

Följande debconf-variabler är relevanta för nätverkskonfiguration.

# Disable network configuration entirely. This is useful for cdrom
# installations on non-networked devices where the network questions,
# warning and long timeouts are a nuisance.
#d-i netcfg/enable boolean false

# netcfg will choose an interface that has link if possible. This makes it
# skip displaying a list if there is more than one interface.
d-i netcfg/choose_interface select auto

# To pick a particular interface instead:
#d-i netcfg/choose_interface select eth1

# To set a different link detection timeout (default is 3 seconds).
# Values are interpreted as seconds.
#d-i netcfg/link_wait_timeout string 10

# If you have a slow dhcp server and the installer times out waiting for
# it, this might be useful.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# If you prefer to configure the network manually, uncomment this line and
# the static network configuration below.
#d-i netcfg/disable_autoconfig boolean true

# If you want the preconfiguration file to work on systems both with and
# without a dhcp server, uncomment these lines and the static network
# configuration below.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Static network configuration.
#
# IPv4 example
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6 example
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Any hostname and domain names assigned from dhcp take precedence over
# values set here. However, setting the values still prevents the questions
# from being shown, even if values come from dhcp.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# If you want to force a hostname, regardless of what either the DHCP
# server returns or what the reverse DNS entry for the IP is, uncomment
# and adjust the following line.
#d-i netcfg/hostname string somehost

# Disable that annoying WEP key dialog.
d-i netcfg/wireless_wep string
# The wacky dhcp hostname that some ISPs use as a password of sorts.
#d-i netcfg/dhcp_hostname string radish

# If non-free firmware is needed for the network or other hardware, you can
# configure the installer to always try to load it, without prompting. Or
# change to false to disable asking.
#d-i hw-detect/load_firmware boolean true

Observera att netcfg automatiskt kommer att fastställa nätmasken om netcfg/
get_netmask inte har förinställts. I detta fall måste variabeln markeras som
seen för automatiska installationer. I liknande fall kommer netcfg att välja en
lämplig adress om netcfg/get_gateway inte har angivits. I specifika fall kan du
även ställa in netcfg/get_gateway till "none" för att ange att ingen gateway
ska användas.

B.4.3. Nätverkskonsoll

# Använd följande inställningar om du vill använda komponenten
# network-console för fjärrinstallation över SSH. Detta gäller endast
# om du tänker genomföra återstående del av installationen manuellt.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

B.4.4. Spegelinställningar

Beroende på installationsmetoden du använder, kan en spegel användas både för
att hämta ytterligare komponenter för installationsprogrammet, för att
installera grundsystemet och för att ställa in /etc/apt/sources.list för det
installerade systemet.

Parametern mirror/suite bestämmer sviten för det installerade systemet.

Parametern mirror/udeb/suite bestämmer sviten för ytterligare komponenter för
installationsprogrammet. Den är endast användbar att ställa in om komponenter
faktiskt hämtas över nätverket och bör stämma överens med sviten som användes
för att bygga initrd för installationsmetoden som används för installationen.
Vanligtvis använder installationsprogrammet det korrekta värdet och det ska
inte finnas något behov av att ställa in denna.

# Om du väljer ftp behöver strängen mirror/country inte ställas in.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.se.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Svit att installera.
#d-i mirror/suite string testing
# Svit att använda för att läsa in komponenter för installationsprogrammet (valfri).
#d-i mirror/udeb/suite string testing

B.4.5. Kontoinställning

The password for the root account and name and password for a first regular
user's account can be preseeded. For the passwords you can use either clear
text values or crypt(3) hashes.

Varning

Be aware that preseeding passwords is not completely secure as everyone with
access to the preconfiguration file will have the knowledge of these passwords.
Storing hashed passwords is considered secure unless a weak hashing algorithm
like DES or MD5 is used which allow for bruteforce attacks. Recommended
password hashing algorithms are SHA-256 and SHA512.

# Skip creation of a root account (normal user account will be able to
# use sudo).
#d-i passwd/root-login boolean false
# Alternatively, to skip creation of a normal user account.
#d-i passwd/make-user boolean false

# Root password, either in clear text
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# or encrypted using a crypt(3)  hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# To create a normal user account.
#d-i passwd/user-fullname string Debian User
#d-i passwd/username string debian
# Normal user's password, either in clear text
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# or encrypted using a crypt(3) hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Create the first user with the specified UID instead of the default.
#d-i passwd/user-uid string 1010

# The user account will be added to some standard initial groups. To
# override that, use this.
#d-i passwd/user-default-groups string audio cdrom video

Variablerna passwd/root-password-crypted och passwd/user-password-crypted kan
också förinställas med "!" som dess värde. I det här fallet, kommer det
motsvarande kontot att inaktiveras. Det här kan vara bekvämt för root-kontot,
om så klart det finns en alternativ metod som tillåter administrativa
aktiviteter eller root-inloggning (till exempel genom att använda autentisering
via SSH-nyckel eller kommandot sudo).

The following command (available from the whois package) can be used to
generate a SHA-512 based crypt(3) hash for a password:

mkpasswd -m sha-512

B.4.6. Inställning av klocka och tidszon

# Kontrollerar om maskinvaruklockan är inställd till UTC eller inte.
d-i clock-setup/utc boolean true

# Du kanske vill ställa in den här till någon giltig inställning för $TZ;
# se innehållet i /usr/share/zoneinfo/ för giltiga värden.
d-i time/zone string Europe/Stockholm

# Kontrollerar om NTP ska användas för att ställa in klockan under installationen
d-i clock-setup/ntp boolean true
# NTP-server att använda. Standardvärdet är oftast ett bra värde.
#d-i clock-setup/ntp-server string ntp.exempel.se

B.4.7. Partitionering

Using preseeding to partition the harddisk is limited to what is supported by
partman-auto. You can choose to partition either existing free space on a disk
or a whole disk. The layout of the disk can be determined by using a predefined
recipe, a custom recipe from a recipe file or a recipe included in the
preconfiguration file.

Stöd finns för att göra förinställningar för installationer som ska använda
RAID, LVM och kryptering men inte med full flexibilitet som vid partitionering
under en vanlig installation utan förinställningar.

Exemplet nedan ger bara grundläggande information om hur recept ska användas.
För deltajerad information se filerna partman-auto-recipe.txt och
partman-auto-raid-recipe.txt inkluderade i paketet debian-installer. Båda
filerna finns också i debian-installers källkodsförråd. Observera att
funktionaliteten som stöds kan skifta mellan utgåvor.

Varning

Identifieringen av diskar är beroende på ordningen som deras drivrutiner läses
in i. Om det finns flera diskar i systemet, bör du vara mycket säker på att den
rätta disken kommer att väljas före förinställningen används.

B.4.7.1. Partitioneringsexempel

# If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the three predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.7.2. Partitionering med RAID

Du kan även använda förinställning för att konfigurera partitioner på
programvaru-RAID-kedjor. Nivåer som stöds är RAID 0, 1, 5, 6 och 10, skapa
trasiga kedjor och ange reservenheter.

Om du använder RAID 1 kan du förinställa grub att installera sig på alla
enheter som används i kedjan; se Avsnitt B.4.11, "Installation av
starthanteraren".

Varning

Den här typen av automatiserad partitionering är lätt att göra fel. Det är
också funktionalitet som har fått relativt lite testning från utvecklarna av
debian-installer. Ansvaret att få ordning på de olika planerna (så att de
fungerar och inte är i konflikt med annat) ligger hos användaren. Kontrollera /
var/log/syslog om du springer på problem.

# The method should be set to "raid".
#d-i partman-auto/method string raid
# Specify the disks to be partitioned. They will all get the same layout,
# so this will only work if the disks are the same size.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Next you need to specify the physical partitions that will be used.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Last you need to specify how the previously defined partitions will be
# used in the RAID setup. Remember to use the correct partition numbers
# for logical partitions. RAID levels 0, 1, 5, 6 and 10 are supported;
# devices are separated using "#".
# Parameters are:
# <raidtype> <devcount> <sparecount> <fstype> <mountpoint> \
#          <devices> <sparedevices>

#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# For additional information see the file partman-auto-raid-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository.

# This makes partman automatically partition without confirmation.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.7.3. Kontrollera hur partitioner monteras

Vanligtvis så monteras filsystem med hjälp av en universiellt unik
identifierare (UUID) som en nyckel; detta tillåter att de monteras korrekt även
om deras enhetsnamn ändras. UUID är långa och svåra att läsa, så om du
föredrar, installationsprogrammet kan montera filsystem som är baserade på de
traditionella enhetsnamnen, eller baserade på en etikett som du tilldelar det.
Om du frågar installationsprogrammet att montera efter etikett så kommer alla
filsystem som inte har en etikett att monteras efter ett UUID istället.

Enheter med stabila namn, såsom logiska LVM-volymer, kommer att fortsätta att
använda deras traditionella namn istället för UUID.

Varning

Traditionella enhetsnamn kan ändras baserat på ordningen i vilken kärnan
upptäcker enheter vid uppstart, vilket kan orsaka att fel filsystem monteras.
På samma sätt kan etiketter krocka om du ansluter en ny disk eller en USB-enhet
och om det händer så kan beteendet för ditt system vara slumpmässigt.

# Standard är att montera efter UUID, men du kan även välja "traditional" för
# att använda traditionella enhetsnamn, eller "label" för att prova filsystemsetiketter
# innan installationsprogrammet faller tillbaka på UUID.
#d-i partman/mount_style select uuid

B.4.8. Installation av grundsystem

Det finns faktiskt inte speciellt mycket som kan förinställas för det här
steget av installationen. De enda frågorna som ställs är angående
installationen av kärnan.

# Configure APT to not install recommended packages by default. Use of this
# option can result in an incomplete system and should only be used by very
# experienced users.
#d-i base-installer/install-recommends boolean false

# The kernel image (meta) package to be installed; "none" can be used if no
# kernel is to be installed.
#d-i base-installer/kernel/image string linux-image-686

B.4.9. Apt-inställning

Konfiguration av /etc/apt/sources.list och grundläggande
konfigurationsalternativ är fullständigt automatiserade baserat på din
installationsmetod och svar på tidigare ställda frågor. Du kan valfritt lägga
till andra (lokala) förråd.

# You can choose to install non-free and contrib software.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Uncomment this if you don't want to use a network mirror.
#d-i apt-setup/use_mirror boolean false
# Select which update services to use; define the mirrors to be used.
# Values shown below are the normal defaults.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Additional repositories, local[0-9] available
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Enable deb-src lines
#d-i apt-setup/local0/source boolean true
# URL to the public key of the local repository; you must provide a key or
# apt will complain about the unauthenticated repository and so the
# sources.list line will be left commented out
#d-i apt-setup/local0/key string http://local.server/key

# By default the installer requires that repositories be authenticated
# using a known gpg key. This setting can be used to disable that
# authentication. Warning: Insecure, not recommended.
#d-i debian-installer/allow_unauthenticated boolean true

# Uncomment this to add multiarch configuration for i386
#d-i apt-setup/multiarch string i386


B.4.10. Paketval

Du kan välja att installera alla kombinationer av funktioner som finns
tillgängliga. Tillgängliga funktioner just nu inkluderar:

  • standard (standard tools)

  • desktop (graphical desktop)

  • gnome-desktop (Gnome desktop)

  • xfce-desktop (XFCE desktop)

  • kde-desktop (KDE Plasma desktop)

  • cinnamon-desktop (Cinnamon desktop)

  • mate-desktop (MATE desktop)

  • lxde-desktop (LXDE desktop)

  • web-server (web server)

  • print-server (print server)

  • ssh-server (SSH server)

Du kan även välja att inte installera några funktioner, och tvinga fram
installationen av en uppsättning paket på något annat sätt. Vi rekommenderar
alltid att inkludera funktionen standard.

Om du vill installera några individuella paket i tillägg till de paket som
installeras av funktioner, kan du använda parametern pkgsel/include. Värdet för
denna parameter kan vara en lista över paket, komma- eller blankstegsseparerad,
vilket även tillåter att den enkelt kan användas på kommandoraden för kärnan.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Individuella paket att installera
#d-i pkgsel/include string openssh-server build-essential
# Huruvida paket ska uppgraderas efter debootstrap.
# Tillåtna värden: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# Vissa versioner av installationsprogrammet kan rapportera vilken programvara
# du har installerat och vilken programvara som du använder. Standard är att inte
# rapportera men att skicka in rapporter hjälper projektet att bestämma
# vilken programvara som är mest populär och sedan inkludera den på cd-skivorna.
#popularity-contest popularity-contest/participate boolean false

B.4.11. Installation av starthanteraren

# Grub is the default boot loader (for x86). If you want lilo installed
# instead, uncomment this:
#d-i grub-installer/skip boolean true
# To also skip installing lilo, and install no bootloader, uncomment this
# too:
#d-i lilo-installer/skip boolean true


# This is fairly safe to set, it makes grub install automatically to the MBR
# if no other operating system is detected on the machine.
d-i grub-installer/only_debian boolean true

# This one makes grub-installer install to the MBR if it also finds some other
# OS, which is less safe as it might not be able to boot that other OS.
d-i grub-installer/with_other_os boolean true

# Due notably to potential USB sticks, the location of the MBR can not be
# determined safely in general, so this needs to be specified:
#d-i grub-installer/bootdev  string /dev/sda
# To install to the first device (assuming it is not a USB stick):
#d-i grub-installer/bootdev  string default

# Alternatively, if you want to install to a location other than the mbr,
# uncomment and edit these lines:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# To install grub to multiple disks:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optional password for grub, either in clear text
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# or encrypted using an MD5 hash, see grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use the following option to add additional boot parameters for the
# installed system (if supported by the bootloader installer).
# Note: options passed to the installer will be added automatically.
#d-i debian-installer/add-kernel-opts string nousb

En MD5-hash för ett lösenord för grub kan genereras med kommandot 
grub-md5-crypt eller med kommandot från exemplet i Avsnitt B.4.5,
"Kontoinställning".

B.4.12. Färdigställande av installationen

# Under installationer från seriellkonsoll är de vanliga virtuella konsollerna
# (VT1-VT6) vanligtvis inaktiverade i /etc/inittab. Avkommentera nästa
# rad för att förhindra detta.
#d-i finish-install/keep-consoles boolean true

# Undvik det sista meddelandet om att installationen är färdig.
d-i finish-install/reboot_in_progress note

# Det här kommer att förhindra installationsprogrammet från att mata ut cd-skivan
# under omstarten, vilket kan vara användbart i vissa situationer.
#d-i cdrom-detect/eject boolean false

# Så här gör man för att stänga av installationsprogrammet när det är färdigt,
# men utan att starta om till det installerade systemet.
#d-i debian-installer/exit/halt boolean true
# Det här kommer att stänga av maskinen istället för att bara stoppa den.
#d-i debian-installer/exit/poweroff boolean true

B.4.13. Förinställning av andra paket

# Beroende på vilken programvara du väljer att installera, eller om saker går fel
# under installationsprocessen, är det möjligt att andra frågor kan ställas.
# Du kan förinställa de här också, så klart. För att få en lista på alla
# möjliga frågor som kan ställas under en installation, gör en
# installation, och kör sedan de här kommandona:
#   debconf-get-selections --installer > fil
#   debconf-get-selections >> fil

B.5. Avancerade inställningar

B.5.1. Kör anpassade kommandon under installationen

Ett mycket kraftfullt och flexibelt alternativ som erbjuds av
förkonfigurationsverktygen är möjligheten att köra kommandon eller skript vid
vissa punkter i installationen.

When the filesystem of the target system is mounted, it is available in /
target. If an installation CD is used, when it is mounted it is available in /
cdrom.

# Förinställning i d-i anses inte som säker. Inget i installationsprogrammet letar
# efter buffertöverflöden eller andra attackförsök genom värdena i en
# förkonfigurationsfil såsom den här. Använd endast förkonfigurationfiler från en
# plats du kan lita på! För att gör det och på grund av att det är generellt sett
# användbart, här är ett sätt att automatiskt köra de skalkommandon du vill
# inne i installationsprogrammet.

# Det första kommandot körs så tidigt som möjligt, direkt efter
# att förinställningen är inläst.
#d-i preseed/early_command string anna-install some-udeb
# Det här kommandot körs direkt före partitioneraren startar. Det kan vara
# användbart för att tillämpa förinställning av dynamisk partitionering som är
# beroende av tillståndet för diskarna (som kanske annars inte är synligt när
# preseed/early_command kör).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Det här kommandot körs precis innan installationen är färdig, men när det
# fortfarande finns en användbar /target-katalog. Du kan göra en chroot till /target och
# använda det direkt, eller använda apt-install och kommandon från /target för att
# enkelt installera paket och köra kommandon på målsystemet.
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Användning av förinställningar för att ändra på standardvärden

Det är möjligt att använda förinställning för att ändra standardsvaret på en
fråga, men fortfarande ställa frågan. För att göra det här måste flaggan seen
återställas till "false" efter att värdet ställts in för en fråga.

d-i foo/bar string value
d-i foo/bar seen false

Samma effekt kan uppnås för alla frågor genom att ställa in parametern preseed/
interactive=true på uppstartsprompten. Det här kan också vara användbart för
testning eller felsökning av din förkonfigurationsfil.

Observera att "d-i"-ägaren endast ska användas för variabler som används i
själva installationsprogrammet. För variabler som tillhör paket som installeras
på målsystemet så ska du istället använda namnet för paketet. Se sidfoten på
Avsnitt B.2.2, "Användning av uppstartsparametrar för att förinställa frågor".

Om du förinställer med hjälp av uppstartsparametrar så kan du göra att
installationsprogrammet frågar motsvarade fråga genom att använda operatorn "?=
" operator, t.ex. foo/bar?=värde (eller ägare:foo/bar?=värde).. Det här kommer
så klart endast ha effekt för parametrar som motsvarar frågorna som visas under
en installation och inte för "interna" parametrar.

För mer felsökningsinformation använd uppstartsflagan DEBCONF_DEBUG=5. Detta
innebära att debconf kommer att skriva mer detaljer om varje inställning för
varje variabel och om framstegen genom processen genom varje pakets
installationsskript.

B.5.3. Kedjeinläsning av förkonfigurationsfiler

Det är möjligt att inkludera andra förkonfigurationsfiler från en
förkonfigurationsfil. Alla inställningar i de filerna kommer att åsidosätta
eventuella inställningar från filer som lästs in tidigare. Det gör det möjligt
att lägga in, till exempel, allmänna nätverksinställningar för din plats i en
fil och mer specifika inställningar för vissa konfigurationer i andra filer.

# Fler än en fil kan listas, separerade med blanksteg; alla kommer att
# läsas in. De inkluderade filerna kan även innehålla egna direktiv för preseed/include.
# Observera att om filnamnen är relativa, tas de från samma katalog som
# förkonfigurationsfilen som inkluderar dem.
#d-i preseed/include string x.cfg

# Installationsprogrammet kan valfritt validera kontrollsummor för förkonfigurationsfiler innan
# de används. För närvarande stöds endast md5sums, lista kontrollsummorna
# i samma ordning som listan över filer som ska inkluderas.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Mer flexibelt, det här kör ett skalkommando och om det skriver ut namnen på
# förkonfigurationsfiler, inkludera de filerna.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bosse ]; then echo bosse.cfg; fi

# Mest flexibelt av alla, denna hämtar ett program och kör det. Programmet
# kan använda kommandon såsom debconf-set för att ändra debconf-databasen.
# Fler än ett skript kan listas, separerade med blanksteg.
# Observera att om filnamnen är relativa tas de från samma katalog
# som förkonfigurationsfilen som kör dem.
#d-i preseed/run string foo.sh

Det är även möjligt att kedjeläsa från initrd- eller filförinställningsfasen,
in i nätverksförinställningen genom att ställa in preseed/url i de tidigare
filerna. Det här kommer att orsaka att nätverksförinställningen genomförs när
nätverket kommer upp. Du måste vara försiktig här, eftersom det kommer att vara
två olika körningar vid förinställning, vilket till exempel betyder att du
kommer att få en andra chans att köra kommandot preseed/early, den andra gången
inträffar efter att nätverket har kommit upp.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[22] Ägaren av en debconf-variabel (eller mall) är vanligtvis namnet på
paketet som innehåller motsvarade debconf-mall. För variabler som används i
själva installationsprogrammet är ägaren "d-i". Mallar och variabler kan ha
fler än en ägare som hjälper till att bestämma huruvida de kan tas bort från
debconf-databasen om paketet avinstalleras.

^[23] Förinställning av locale till en_NL skulle till exempel resultera i
en_US.UTF-8 som standardlokal för det installerade systemet. Om till exempel
en_GB.UTF-8 föredras istället så kommer värdena att behöva förinställas
individuellt.

Appendix C. Partitionera för Debian

Innehållsförteckning

C.1. Bestämma Debian-partitioner och storlekar
C.2. Katalogträdet
C.3. Rekommenderad partitionstabell
C.4. Enhetsnamn i Linux
C.5. Debians partitioneringsprogram

    C.5.1. Partitionera för 64-bit PC

C.1. Bestämma Debian-partitioner och storlekar

Som ett absolut minimum behöver GNU/Linux en partition för sig själv. Du kan ha
en enstaka partition som innehåller hela operativsystemet, program och dina
personliga filer. De flesta personer tycker att en separat partition för
växlingsutrymme också är nödvändig, även om det inte helt är sant. "
Växlingsutrymme" är ett utrymme för ett operativsystem som låter systemet
använda disklagring som "virtuellt minne". Genom att lägga växlingsutrymmet på
en separat partition kan Linux använda det mer effektivt. Det är möjligt att
tvinga Linux att använda en vanlig fil som växlingsutrymme, men det är inte
rekommenderat.

De flesta personer väljer att ge GNU/Linux fler än det minimala antalet
partitioner. Det finns två skäl för att du vill dela upp filsystemet till ett
antal mindre partitioner. Först är det av säkerhetsskäl. Om något händer och
filsystemet blir skadat, påverkas oftast endast en partition. Även om du endast
behöver ersätta (från de säkerhetskopior du noga har gjort) en del av ditt
system. På ett minimum, du bör tänka över att skapa vad som normallt sett
kallas en "rotpartition". Den här innehåller de mest nödvändiga komponenterna i
systemet. Om några andra partitioner blir skadade, kan du fortfarande starta
upp GNU/Linux för att rätta till systemet. Det här kan göra att du slipper
installera om systemet från början.

Det andra skälet är att generellt sett mer viktigt i en företagsmiljö, men det
är beroende på din användning av maskinen. Till exempel, en e-postserver får in
ett stort antal spam via e-post som lätt kan fylla upp en partition. Om du
gjorde /var/mail till en separat partition på e-postservern, kommer det mesta
av systemet fortfarande fungera även om du blir spammad.

Den enda riktiga nackdelen med att använda fler partitioner är att det ofta är
svårt att veta i förväg vilka dina behov kommer att vara. Om du gör en
partition för liten så behöver du antingen installera om systemet eller så
kommer du få flytta runt saker hela tiden för att skapa plats på partitionen.
På andra sidan, om du gör partitionen för stor, kommer du att slösa utrymme som
kunde användas någon annanstans. Diskutrymme är billigt nuförtiden, men varför
kasta bort dina pengar?

C.2. Katalogträdet

Debian GNU/Linux följer Filesystem Hierarchy Standard för namngivning av
kataloger och filer. Den här standarden låter användarna och programvaror att
förutse platsen för filer och kataloger. Rotnivåkatalogen representeras helt
enkelt av ett snedstreck, /. På rotnivån, alla inkluderar Debian-system dessa
kataloger:

┌───────┬────────────────────────────────────────────────────┐
│Katalog│                      Innehåll                      │
├───────┼────────────────────────────────────────────────────┤
│bin    │Systemkritiska kommandobinärer                      │
├───────┼────────────────────────────────────────────────────┤
│boot   │Statiska filer för starthanteraren                  │
├───────┼────────────────────────────────────────────────────┤
│dev    │Enhetsfiler                                         │
├───────┼────────────────────────────────────────────────────┤
│etc    │Värdspecifik systemkonfiguration                    │
├───────┼────────────────────────────────────────────────────┤
│home   │Användarnas hemkataloger                            │
├───────┼────────────────────────────────────────────────────┤
│lib    │Viktiga delade bibliotek och kärnmoduler            │
├───────┼────────────────────────────────────────────────────┤
│media  │Innehåller monteringspunkter för flyttbart media    │
├───────┼────────────────────────────────────────────────────┤
│mnt    │Monteringspunkt för montering av temporärt filsystem│
├───────┼────────────────────────────────────────────────────┤
│proc   │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│root   │Hemkatalog för root-användaren                      │
├───────┼────────────────────────────────────────────────────┤
│run    │Run-time variable data                              │
├───────┼────────────────────────────────────────────────────┤
│sbin   │Nödvändiga systembinärer                            │
├───────┼────────────────────────────────────────────────────┤
│sys    │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│tmp    │Temporära filer                                     │
├───────┼────────────────────────────────────────────────────┤
│usr    │Sekundär hierarki                                   │
├───────┼────────────────────────────────────────────────────┤
│var    │Variabeldata                                        │
├───────┼────────────────────────────────────────────────────┤
│srv    │Data för tjänster som tillhandahålls av systemet    │
├───────┼────────────────────────────────────────────────────┤
│opt    │Tilläggsprogrampaket                                │
└───────┴────────────────────────────────────────────────────┘

Följande är en lista på viktiga beaktanden angående kataloger och partitioner.
Observera att diskanvändning varierar stort beroende på systemkonfiguration och
specifika användningsmönster. Rekommendationerna här är allmänna riktlinjer och
ge en startpunkt för partitionering.

  • Rotpartitionen / måste alltid fysiskt innehålla /etc, /bin, /sbin, /lib och
    /dev, annars kommer du inte kunna starta upp. Normalt sett behövs 250-350
    MB för rotpartitionen.

  • /usr: innehåller alla användarprogram (/usr/bin), bibliotek (/usr/lib),
    dokumentation (/usr/share/doc), etc. Det här är den del av filsystemet som
    generellt sett tar upp mest plats. Du bör ge den minst 500 MB diskutrymme.
    Den här mängden bör ökas beroende på antalet och typ av paket du planerar
    att installera. En generöst installerad arbetsstation eller
    serverinstallation använder 4-6 GB.

  • It is now recommended to have /usr on the root partition /, otherwise it
    could cause some trouble at boot time. This means that you should provide
    at least 600-750MB of disk space for the root partition including /usr, or
    5-6GB for a workstation or a server installation.

  • /var: variabel data såsom nyhetsartiklar, e-post, webbplatser, databaser,
    cache för paketsystemet, etc. kommer att placeras under den här katalogen.
    Storleken på den här katalogen beror mycket på användningen av ditt system
    men för de flesta personer kommer det här att bestämmas av
    pakethanteringsverktygets behov. Om du tänker göra en full installation av
    i stort sett allt som Debian kan erbjuda, på en enda gång, bör 2 eller 3 GB
    utrymme för /var vara tillräckligt. Om du tänker installera i omgångar (så
    att säga, installera tjänster och verktyg, följt av textprogram, sedan X,
    ...), kan du komma runt med 300-500 MB. Om hårddiskutrymme är begränsat och
    du inte planerar att göra några större systemuppdateringar, kan du klara
    dig med så lite som 30 eller 40 MB.

  • /tmp: temporärdata som skapats av program kommer sannolikt att hamna i den
    här katalogen. 40-100 MB bör nog vara tillräckligt. Vissa program --
    inklusive arkivhanterare, verktyg för cd/dvd-tillverkning och
    multimediaprogram -- kan använda /tmp för att temporärt lagra bildfiler. Om
    du planerar att använda sådana program bör du justera tillgängligt utrymme
    för /tmp på lämpligt sätt.

  • /home: varje användare komma att lägga sin personliga data i en
    underkatalog till den här katalogen. Dess storlek beror på hur många
    användare som kommer att använda systemet och vilka filer som lagras i
    deras kataloger. Beroende på din planerade användning bör du reservera
    omkring 100 MB för varje användare, men anpassa det här värdet till dina
    behov. Reservera mycket mer utrymme om du planerar att spara en hel del
    multimediafiler (bilder, MP3, filmer) i din hemkatalog.

C.3. Rekommenderad partitionstabell

För nya användare, personliga Debianburkar, hemsystem och andra
en-användarkonfigurationer, en enda /-partition (plus växlingsutrymme) är
antagligen det lättaste, enklaste sättet att köra. Dock, om din partition är
större än omkring 6GB, välj ext3 som din partitionstyp. Ext2-partitioner
behöver periodiska integritetskontroller av filsystemet, och det här kan orsaka
fördröjningar under uppstart när partitionen är större.

För fleranvändarsystem eller system med massor av diskutrymme, är det bäst att
lägga /var, /tmp, och /home på egna partitioner, separerade från partitionen /.

Du kan behöva en separat /usr/local-partition om du planerar att installera
många program som inte är en del av Debian-utgåvan. Om din maskin ska vara en
e-postserver behöver du kanske göra /var/mail till en separat partition. Ofta
är det en bra idé att lägga /tmp på sin egen partition, till exempel 20-50 MB
stor. Om du sätter upp en server med många användarkonton är det generellt sett
bra att ha en separat, stor /home-partition. Generellt sett skiljer sig
partitionering från dator till dator beroende på dess användning.

För mycket komplexa system, bör du se Multi Disk HOWTO. Den innehåller
fördjupad information, mestadels av intresse för Internetleverantörer och
personer som installerar servrar.

Med tanke på frågan om storleken för växlingsutrymmet, finns det många synsätt.
En tumregel som fungerar bra är att använda så mycket växlingsutrymme som du
har systemminne. Den bör heller inte vara mindre än 16 MB, i de flesta fall. Så
klart, det finns ett antal undantag till dessa regler. Om du försöker lösa
10000 simultana beräkningar på en maskin med 256 MB minne, behöver du kanske en
gigabyte (eller mer) växlingsutrymme.

På vissa 32-bitarsarkitekturer (m68k och PowerPC) är maximal storlek för en
växlingspartition 2 GB. Det bör vara tillräckligt för nästan alla
installationer. Dock, om dina krav för växlingsutrymme är så här höga, bör du
kanske försöka att sprida växlingen över olika diskar (kallas också "spindles")
och, om möjligt, olika SCSI- eller IDE-kanaler. Kärnan kommer att balansera
växlingsanvändningen mellan flera växlingspartitioner, vilket ger bättre
prestanda.

Som ett exempel, en äldre hemdator kan ha 32MB RAM-minne och en 1.7 GB stor
IDE-disk på /dev/sda. Det kan finns en 500 MB stor partition för ett annat
operativsystem på /dev/sda1, en 32 MB stor växlingspartition på /dev/sda3 och
ungefär 1.2 GB på /dev/sda2 som Linux-partitionen.

Som en idé för utrymmet som tas upp av de funktioner som du kanske är
intresserade av att lägga in efter din systeminstallation är klar, se på
Avsnitt D.2, "Nödvändig diskplats för funktioner".

C.4. Enhetsnamn i Linux

Namnen på Linux diskar och partitioner kan vara olika från andra
operativsystem. Du behöver veta namnen som Linux använder när du skapar och
monterar partitioner. Här är de grundläggande benämningarna:

  • Den första diskettenheten kallas /dev/fd0.

  • Den andra diskettenheten kallas /dev/fd1.

  • The first hard disk detected is named /dev/sda.

  • The second hard disk detected is named /dev/sdb, and so on.

  • Den första SCSI Cd-rom kallas /dev/scd0 också känd som /dev/sr0.

Partitionerna på varje disk representeras av lägga till ett decimaltal till
disknamnet: sda1 och sda2 representerar den första och andra partitionen på
första SCSI-disken i ditt system.

Här är ett exempel från dagliga livet. Låt oss anta att du har ett system med 2
SCSI-diskar, en på SCSI-adress 2 och den andra på SCSI-adress 4. Den första
disken (på adress 2) kallas för sda, och den andra sdb. Om sda-disken har 3
partitioner på sig, kommer dessa att kallas sda1, sda2, och sda3. Det samma
gäller för sdb-disken och dess partitioner.

Observera att om du har två SCSI-värdbussadaptrar (alltså, styrkort), ordningen
på diskarna kan vara förvirrande. Den bästa lösningen i det här fallet är att
se på uppstartsmeddelandena, och antagligen känner du till diskmodellerna och/
eller storlekarna.

Linux represents the primary partitions as the drive name, plus the numbers 1
through 4. For example, the first primary partition on the first drive is /dev/
sda1. The logical partitions are numbered starting at 5, so the first logical
partition on that same drive is /dev/sda5. Remember that the extended
partition, that is, the primary partition holding the logical partitions, is
not usable by itself.

C.5. Debians partitioneringsprogram

Flera varianter av partitioneringsprogram har anpassats av Debians utvecklare
för att fungera på olika typer av hårddiskar och datorarkitekturer. Följande är
en listan på de program som lämpar sig för din arkitektur.

partman

    Rekommenderat partitioneringsverktyg i Debian. Den här schweiziska
    armékniven kan också ändra storlek på partitioner, skapa filsystem ("
    formatera" på Windows-språk) och tilldela dem monteringspunkter.

fdisk

    Den originella diskpartitioneraren för Linux, bra för experter.

    Var försiktig om du har befintliga FreeBSD-partitioner på din maskin.
    Installationskärnorna inkluderar stöd för dessa partitioner, men sättet som
    fdisk representerar dem på (eller inte) kan göra att enhetsnamnen skiljer
    sig. Se Linux+FreeBSD HOWTO.

cfdisk

    En diskpartitionerare i helskärm som är enkel att använda för resten av
    oss.

    Observera att cfdisk inte förstår FreeBSD-partitioner alls, och, igen, som
    ett resultat av det kan enhetsnamnen skilja sig.

Ett av dessa program kommer att köras som standard när du väljer Partitionera
diskar (eller liknande). Det kan vara möjligt att använda ett annat
partitioneringsverktyg från kommandoraden på VT2, men det är inte
rekommenderat.

Kom ihåg att märka din uppstartspartition som "Startbar".

C.5.1. Partitionera för 64-bit PC

Om du redan har ett befintligt operativsystem såsom DOS eller Windows
installerat och du vill behålla det efter installationen av Debian, kan du
behöva förändra partitionsstorleken för att få mer ledigt diskutrymme för
Debian-installationen. Installationsprogrammet har stöd för att förändra
storleken på både FAT- och NTFS-filsystem; när du kommer till
installationsprogrammets partitioneringssteg, välj alternativet Manuell och
välj sedan helt enkelt en existerande partition och ändra dess storlek.

Generellt sett lägger PC BIOS till ytterligare begränsningar för
diskpartitionering. Det finns en gräns för hur många "primära" och "logiska"
partitioner en enhet kan innehålla. Dessutom, med BIOS före 1994-98, finns det
gränser för var på enheten som BIOS kan starta från. Mer information kan hittas
i Linux Partition HOWTO, men det här avsnittet kommer att inkludera en enkel
översikt för att hjälpa dig att planera de flesta situationer.

"Primära" partitioner är den originella partitioneringsplanen för PC-diskar.
Dock, det kan endast finnas fyra av dem. För att komma runt den här
begränsningen, uppfanns "utökade" och "logiska" partitioner. Genom att ställa
in en av dina primära partitioner som en utökad partition, kan du dela upp
utrymmet som allokerats till den partitionen in i logiska partitioner. Du kan
skapa upp till 60 logiska partitioner per utökad partition; dock, kan du endast
ha en utökad partition per enhet.

Linux begränsar antalet partitioner per disk till 255 partitioner för
SCSI-diskar (3 användbara primära partitioner, 252 logiska partitioner), och 63
partitioner på en IDE-disk (3 användbara primära partitioner, 60 logiska
partitioner). Dock ger det normala Debian GNU/Linux-systemet endast 20 enheter
för partitioner, så du kan inte installera på partitioner högre än 20 om du
inte manuellt skapar enheterna för dessa partitioner först.

Om du har en stor IDE-disk, och varken använder LBA-adressering eller
överliggande drivrutiner (kommer ibland från hårddisktillverkarna), måste
uppstartspartition (den partition som innehåller din kärnavbildning) placeras
inom de första 1024 cylindrarna på din hårddisk (normalt sett runt 524
megabyte, utan BIOS-översättning).

Den här begränsningen gäller inte om du har ett BIOS som är nyare än runt
1995-98 (beroende på tillverkaren) som har stöd för "Enhanced Disk Drive
Support Specification". Både Lilo, Linux-starthanteraren och Debians
alternativa mbr måste använda BIOS för att läsa kärnan från disken till
RAM-minnet. Om BIOS int 0x13, utökningar för åtkomst till stora diskar, hittas,
kommer de att användas. Annars kommer det gamla diskåtkomstgränssnittet att
fallas tillbaka på och användas, och det kan inte användas för att adressera en
plats på disken högre än 1023:e cylindern. När Linux har startats upp, oavsett
vilket BIOS din dator har, gäller dessa begränsningar inte längre, eftersom
Linux inte använder BIOS för diskåtkomst.

Om du har en stor disk, måste du kanske använda tekniker för
cylinderöversättning, som du kan ställa in från ditt
BIOS-konfigurationsprogram, såsom LBA (Logisk blockadressering) eller
CHS-översättningsläget ("Large"). Mer information om problem med stora diskar
kan hittas i Large Disk HOWTO. Om du använder ett cylinderöversättningsschema,
och BIOS inte har stöd för utökningar för åtkomst till stora diskar, måste din
uppstartspartition passa inom den översatta representationen av 1024:de
cylindern.

Det rekommenderade sättet att göra det här på är att skapa en liten (25-50 MB
bör räcka) partition i början av disken för att användas som
uppstartspartition, och sedan skapa de andra partitioner som du önskar att ha,
på återstående plats. Den här uppstartspartitionen måste monteras på /boot,
eftersom den här är katalogen där Linux kärna/kärnor kommer att lagras. Denna
konfiguration kommer att fungera på alla system, oavsett om LBA eller
CHS-översättning för stora diskar används, och oavsett om ditt BIOS har stöd
för utökningar för åtkomst till stora diskar.

Appendix D. Diverse bitar

Innehållsförteckning

D.1. Linux-enheter

    D.1.1. Konfigurera din mus

D.2. Nödvändig diskplats för funktioner
D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

    D.3.1. Påbörja arbetet
    D.3.2. Installera debootstrap
    D.3.3. Kör debootstrap
    D.3.4. Konfigurera grundsystemet
    D.3.5. Installera en kärna
    D.3.6. Ställ in starthanteraren
    D.3.7. Remote access: Installing SSH and setting up access
    D.3.8. Slutgiltiga justeringar

D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

    D.4.1. Krav
    D.4.2. Ställ in källor
    D.4.3. Installera måldatorn

D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

D.1. Linux-enheter

De olika specialfilerna för Linux kan hittas under katalogen /dev. Dessa filer
kallas för enhetsfiler och uppträder inte på samma sätt som vanliga filer. De
mest vanliga typer av enhetsfiler är för blockenheter och teckenenheter. Dessa
filer är ett gränssnitt mot den faktiska drivrutinen (del av Linux-kärnan) som
i sin tur kommer åt hårdvaran. En annan, mindre vanlig, typ av enhetsfil är den
namngivna röret (named pipe). De mest viktiga enhetsfilerna listas i tabellerna
nedan.

┌───┬──────────────────────┐
│fd0│Första diskettenheten │
├───┼──────────────────────┤
│fd1│Andra diskettenheten  │
└───┴──────────────────────┘

┌────┬─────────────────────────────────────────┐
│sda │First hard disk                          │
├────┼─────────────────────────────────────────┤
│sdb │Second hard disk                         │
├────┼─────────────────────────────────────────┤
│sda1│Första partitionen på första hårddisken  │
├────┼─────────────────────────────────────────┤
│sdb7│Seventh partition of the second hard disk│
└────┴─────────────────────────────────────────┘

┌───┬──────────────┐
│sr0│First CD-ROM  │
├───┼──────────────┤
│sr1│Second CD-ROM │
└───┴──────────────┘

┌───────┬──────────────────────────────────────────────────┐
│ttyS0  │Serieport 0, COM1 under MS-DOS                    │
├───────┼──────────────────────────────────────────────────┤
│ttyS1  │Serieport 1, COM2 under MS-DOS                    │
├───────┼──────────────────────────────────────────────────┤
│psaux  │PS/2-musenhet                                     │
├───────┼──────────────────────────────────────────────────┤
│gpmdata│Pseudoenhet, repeterar data från GPM-demonen (mus)│
└───────┴──────────────────────────────────────────────────┘

┌─────┬──────────────────────────────┐
│cdrom│Symbolisk länk till Cd-enheten│
├─────┼──────────────────────────────┤
│mus  │Symbolisk länk till musenheten│
└─────┴──────────────────────────────┘

┌────┬────────────────────────────────────────────────────────────┐
│null│Allting som skrivs till den här enheten kommer att försvinna│
├────┼────────────────────────────────────────────────────────────┤
│zero│Man kan läsa oändligt antal nollor från den här enheten     │
└────┴────────────────────────────────────────────────────────────┘

D.1.1. Konfigurera din mus

Musen kan användas i både Linux-konsollen (med gpm) och X-fönstermiljön. Oftast
är det här en enkel sak att installera gpm och själva X-servern. Båda ska
konfigureras till att använda /dev/input/mice som musenheten. Det korrekta
musprotokollet heter exps2 i gpm, och ExplorerPS/2 i X. Konfigurationsfilerna
är /etc/gpm.conf och /etc/X11/xorg.conf.

Vissa kärnmoduler måste läsas in för att din mus ska fungera. I vissa fall
identiferas de korrekta modulerna automatiskt, men inte alltid för gamla serie-
och bussmöss^[24], vilka är ganska ovanliga förutom på mycket gamla datorer.
Sammandrag över Linux-kärnmoduler som behövs för olika mustyper:

┌────────┬─────────────────────────────────────────────────────┐
│ Modul  │                     Beskrivning                     │
├────────┼─────────────────────────────────────────────────────┤
│psmouse │PS/2-möss (ska identifieras automatiskt)             │
├────────┼─────────────────────────────────────────────────────┤
│usbhid  │USB-möss (ska identifieras automatiskt)              │
├────────┼─────────────────────────────────────────────────────┤
│sermouse│De flesta seriemöss                                  │
├────────┼─────────────────────────────────────────────────────┤
│logibm  │Bussmus ansluten till Logitech-kort                  │
├────────┼─────────────────────────────────────────────────────┤
│inport  │Bussmus ansluten till ATI eller Microsoft InPort-kort│
└────────┴─────────────────────────────────────────────────────┘

För att läsa in en musdrivrutinsmodul kan du använda kommandot modconf (från
paketet med samma namn) och leta i kategorin kernel/drivers/input/mouse.

D.2. Nödvändig diskplats för funktioner

En standardinstallation för arkitekturen amd64 med en standard kärna, inklusive
alla standardpaket, kräver 933 MB diskutrymme. En minimal grundinstallation,
utan funktionen "Standardsystem" vald, kommer att ta upp 701 MB.

Viktigt

I båda fallen är det här det här det faktiska diskutrymmet som används efter
att installationen är färdig och eventuella temporärfiler har tagits bort. Det
tar heller inte hänsyn till utrymme som används av filsystemet, till exempel
för journalfiler. Det här betyder en markant ökning av diskutrymmet som behövs
av båda under installationen och för normal systemanvändning.

Följande tabell listar storlekar som rapporterats av aptitude för funktionerna
listade i tasksel. Observera att några funktioner har överlappande
beståndsdelar, så den totala installerade storleken för två funktioner
tillsammans kan vara mindre än totalen som fås genom att lägga ihop siffrorna.

Som standard kommer installationsprogrammet att installera skrivbordsmiljön
GNOME, men alternativa skrivbordsmiljöer kan väljas antingen genom att använda
en av de speciella cd-avbildningarna eller genom att ange den önskade
skrivbordsmiljön när installationsprogrammet startas upp (se Avsnitt 6.3.6.2,
"Val och installation av programvara").

Observera att du behöver lägga till storlekarna som listas i tabellen till
storleken för standardinstallationen när storlekarna på partitionerna bestäms.
De flesta storlekar listade som "Installerad storlek" kommer att hamna i /usr
och i /lib; storleken listad som "Hämtad storlek" krävs (temporärt) för /var.

┌───────────────┬─────────────────┬──────────────┬────────────────────────────┐
│   Funktion    │   Installerad   │Hämtad storlek│   Utrymme som behövs för   │
│               │  storlek (MB)   │     (MB)     │     installation (MB)      │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Skrivbordsmiljö│                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • GNOME      │2724             │785           │3509                        │
│(standard)     │                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • KDE Plasma │4244             │1280          │5524                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Xfce       │2342             │657           │2999                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • LXDE       │2486             │707           │3193                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • MATE       │2857             │757           │3614                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Cinnamon   │3824             │1102          │4926                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Webbserver     │44               │11            │55                          │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Utskriftsserver│440              │91            │531                         │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│SSH-server     │2                │0             │2                           │
└───────────────┴─────────────────┴──────────────┴────────────────────────────┘

Om du installerar i ett annat språk än engelska, kan tasksel automatiskt
installera en lokalanpassningsfunktion om det finns en tillgänglig för ditt
språk. Utrymmeskrav skiljer sig mellan språken; du bör avsätta upp till 350 MB
totalt för hämtning och installation.

D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

Det här avsnittet förklarar hur man installerar Debian GNU/Linux från ett
befintligt Unix- eller Linux-system, utan att använda det menystyrda
installationsprogrammet som förklaras i resten av handboken. Den här HOWTO:n
för "cross-installation" har efterfrågats av användare som byter till Debian
GNU/Linux från Red Hat, Mandriva och SUSE. I detta avsnitt antas att viss
erfarenhet av *nix-kommandon och navigering i filsystemet. I detta avsnitt
symboliserar $ ett kommando som ska anges i användarens aktuella system, medan
# refererar till ett kommando som ska anges i Debians chroot-miljö.

När du har fått det nya Debian-systemet konfigurerat enligt din smak, kan du
migrera din befintliga användardata (om den finns) till det, och fortsätta
köra. Det här är alltså en installation av Debian GNU/Linux "utan nedtid". Det
är också ett klurigt sätt att hantera maskinvara som annars inte fungerar
snällt med olika uppstarts- eller installationsmedia.

Notera

Eftersom det här till största del är en manuell procedur bör du tänka på att du
kommer att behöva göra en hel del grundläggande konfiguration av själva
systemet själv, vilket även kräver mer kunskaper om Debian och speciellt Linux
i allmänhet än att genomföra en vanlig installation. Du kan inte förvänta dig
att denna procedur resulterar i ett system som är identiskt med ett system från
en vanlig installation. Du bör även tänka på att denna procedur endast ger de
grundläggande stegen för att konfigurera ett system. Ytterligare installation
och/eller konfigurationssteg kan behövas.

D.3.1. Påbörja arbetet

With your current *nix partitioning tools, repartition the hard drive as
needed, creating at least one filesystem plus swap. You need around 701MB of
space available for a console only install, or about 2486MB if you plan to
install X (more if you intend to install desktop environments like GNOME or KDE
Plasma).

Skapa sedan filsystem på dina partitioner. För att till exempel skapa ett
ext3-filsystem på partitionen /dev/sda6 (det är vår rotpartition i exemplet):

# mke2fs -j /dev/sda6

För att istället skapa ett ext2-filsystem, uteslut -j.

Initialisera och aktivera växlingsutrymmet (ersätt partitionsnumret med din
tilltänkta Debian-partition för växlingsutrymme):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Montera en partition som /mnt/debinst (installationspunkten, som ska vara
rotfilsystemet (/) på ditt nya system). Namnet på monteringspunkten är strikt
godtyckligt, det refereras till senare här nedan.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Notera

Om du vill ha delar av filsystemet (exempelvis, /usr) monterat på separata
partitioner, behöver du skapa och montera dessa kataloger manuellt innan du
fortsätter till nästa steg.

D.3.2. Installera debootstrap

Verktyget som Debian Installer använder, som är känt som det officiella sättet
att installera Debians grundsystem, är debootstrap. Det använder wget och ar,
men är annars endast beroende av /bin/sh och grundläggande Unix/Linux-verktyg^
[25]. Installera wget och ar om de inte redan finns på ditt aktuella system,
hämta och installera sedan debootstrap.

Eller så kan du använda följande procedur för att installera det manuellt.
Skapa en arbetskatalog för att extrahera .deb-filen till:

# mkdir arbetskatalog
# cd arbetskatalog

Binärfilen debootstrap finns i Debian-arkivet (se till att välja den lämpliga
filen för din arkitektur). Hämta .deb-filen för debootstrap från pool, kopiera
paketet till arbetskatalogen, och extrahera filerna från det. Du kommer att
behöva root-privilegier för att installera filerna.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /fullständig-sökväg-till-arbetskatalog/arbetskatalog/data.tar.gz | tar xv

D.3.3. Kör debootstrap

debootstrap kan hämta de nödvändiga filerna direkt från arkivet när du kör det.
Du kan ersätta ftp.se.debian.org/debian med vilken Debian-arkivspegel som du
vill i kommandoexemplet nedan, föredragsvis en spegel som är så nära ditt
nätverk som möjligt. Speglarna finns listade på http://www.debian.org/mirror/
list.

Om du har en buster Debian GNU/Linux cd monterad på /cdrom, kan du ersätta en
fil-url istället för en http-URL: file:/cdrom/debian/

Substitute one of the following for ARCH in the debootstrap command: amd64,
arm64, armel, armhf, i386, mips, mips64el, mipsel, powerpc, ppc64el, or s390x.

# /usr/sbin/debootstrap --arch ARCH buster \
     /mnt/debinst http://ftp.us.debian.org/debian

If the target architecture is different than the host, you should add the
--foreign option.

D.3.4. Konfigurera grundsystemet

Now you've got a real Debian system, though rather lean, on disk. chroot into
it:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

If the target architecture is different from the host, you will need to first
copy qemu-user-static to the new host:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

After chrooting you may need to set the terminal definition to be compatible
with the Debian base system, for example:

# export TERM=xterm-color

Depending on the value of TERM, you may have to install the ncurses-term
package to get support for it.

If the target architecture is different from the host, you need to finish the
multi-stage boot strap:

/debootstrap/debootstrap --second-stage

D.3.4.1. Skapa enhetsfiler

Vid det här tillfället innehåller /dev/ endast mycket grundläggande
enhetsfiler. För nästkommande steg av installationen kan ytterligare
enhetsfiler behövas. Det finns olika sätt att göra detta på och vilken metod
som du väljer beror på värdsystemet som du använder för installationen, om du
tänker använda en modulär kärna eller inte och om du tänker använda dynamisk
(t.ex. använda udev) eller statiska enhetsfiler för det nya systemet.

Ett par av de tillgängliga alternativen är:

  • installera makedev-paketet och skapa en standarduppsättning med statiska
    enhetsfiler (efter chroot)

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • skapa manuellt endast specifika enhetsfiler med MAKEDEV

  • bindmontera /dev från ditt värdsystem på toppen av /dev i målsystemet;
    observera att postinst-skripten för vissa paket kan försöka att skapa
    enhetsfiler, så detta alternativ ska endast användas med försiktighet

D.3.4.2. Montera partitioner

Du måste skapa /etc/fstab.

# editor /etc/fstab

Här är ett exempel som du kan ändra på för att passa in:

# /etc/fstab: statisk filsystemsinformation.
#
# filsystem      monteringsp.  typ     flaggor                  dump pass
/dev/XXX         /             ext3    defaults                 0    1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/fd0         /media/floppy auto    noauto,rw,sync,user,exec 0    0
/dev/cdrom       /media/cdrom  iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext3    rw,nodev                 0    2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0    2

Använd mount -a för att montera alla filsystem som du har angivna i din /etc/
fstab, eller använd följande kommando för att montera filsystem individuellt:

# mount /path   # exempelvis: mount /usr

Nuvarande Debian-system har monteringspunkter för flyttbara media under /media,
men innehåller symboliska länkar / för att vara kompatibla. Skapa dessa efter
behov, till exempel:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Du kan montera proc-filsystemet flera gånger till godtyckliga platser, även om
/proc är vanligast. Om du inte använde mount -a, tänk på att montera proc innan
du fortsätter:

# mount -t proc proc /proc

Kommandot ls /proc bör nu visa en icke-tom katalog. Om det här skulle
misslyckas, kan du kanske montera proc utanför chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Ställ in tidszon

Setting the third line of the file /etc/adjtime to "UTC" or "LOCAL" determines
whether the system will interpret the hardware clock as being set to UTC
respective local time. The following command allows you to set that.

# editor /etc/adjtime

Here is a sample:

0.0 0 0.0
0
UTC

The following command allows you to choose your timezone.

# dpkg-reconfigure tzdata

D.3.4.4. Konfigurera nätverket

To configure networking, edit /etc/network/interfaces, /etc/resolv.conf, /etc/
hostname and /etc/hosts.

# editor /etc/network/interfaces

Here are some simple examples from /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)
# See the interfaces(5) manpage for information on what options are
# available.
######################################################################

# The loopback interface isn't really required any longer, but can be used
# if needed.
#
# auto lo
# iface lo inet loopback

# To use dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# An example static IP setup: (network, broadcast and gateway are optional)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Enter your nameserver(s) and search directives in /etc/resolv.conf:

# editor /etc/resolv.conf

A simple example /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Enter your system's host name (2 to 63 characters):

# echo DebianHostName > /etc/hostname

And a basic /etc/hosts with IPv6 support:

127.0.0.1 localhost
127.0.1.1 DebianHostName

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

If you have multiple network cards, you should arrange the names of driver
modules in the /etc/modules file into the desired order. Then during boot, each
card will be associated with the interface name (eth0, eth1, etc.) that you
expect.

D.3.4.5. Konfigurera apt

Debootstrap will have created a very basic /etc/apt/sources.list that will
allow installing additional packages. However, you may want to add some
additional sources, for example for source packages and security updates:

deb-src http://ftp.us.debian.org/debian buster main

deb http://security.debian.org/ buster/updates main
deb-src http://security.debian.org/ buster/updates main

Make sure to run apt update after you have made changes to the sources list.

D.3.4.6. Konfigurera lokaler och tangentbord

To configure your locale settings to use a language other than English, install
the locales support package and configure it. Currently the use of UTF-8
locales is recommended.

# apt install locales
# dpkg-reconfigure locales

To configure your keyboard (if needed):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Observera att tangentbordet inte kan ställas in när chroot används men kommer
att konfigureras inför nästa omstart.

D.3.5. Installera en kärna

Om du tänker starta upp det här systemet, vill du antagligen ha en Linux-kärna
och en starthanterare. Identifiera tillgängliga förpaketerade kärnor med:

# apt search linux-image

Installera sedan det kärnpaket som du önskar med hjälp av dess paketnamn.

# apt install linux-image-arch-etc

D.3.6. Ställ in starthanteraren

To make your Debian GNU/Linux system bootable, set up your boot loader to load
the installed kernel with your new root partition. Note that debootstrap does
not install a boot loader, but you can use apt inside your Debian chroot to do
so.

Se info grub eller man lilo.conf för instruktioner om hur man ställer in
starthanteraren. Om du behåller systemet du använde för att installera Debian,
lägg bara till en post för Debian-installationen till din befintliga grub2
grub.cfg eller lilo.conf. När det gäller lilo.conf kan du även kopiera den till
det nya systemet och redigera den där. Efter att du är klar med redigeringen,
anropa lilo (kom ihåg att den använder lilo.conf relativt till systemet du
anropar det från).

Installing and setting up grub2 is as easy as:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

The second command will install grub2 (in this case in the MBR of sda). The
last command will create a sane and working /boot/grub/grub.cfg.

Observera att detta antar att enhetsfilen /dev/sda har skapats. Det finns
alternativa metoder för att installera grub2, men dessa är utanför omfånget för
denna bilaga.

Här är ett enkelt exempel på en /etc/lilo.conf:

boot=/dev/sda6
root=/dev/sda6
install=menu
delay=20
lba32
image=/vmlinuz
initrd=/initrd.img
label=Debian

D.3.7. Remote access: Installing SSH and setting up access

In case you can login to the system via console, you can skip this section. If
the system should be accessible via the network later on, you need to install
SSH and set up access.

# apt install ssh

Root login with password is disabled by default, so setting up access can be
done by setting a password and re-enable root login with password:

# passwd
# editor /etc/ssh/sshd_config

This is the option to be enabled:

PermitRootLogin yes

Access can also be set up by adding an ssh key to the root account:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Lastly, access can be set up by adding a non-root user and setting a password:

# adduser joe
# passwd joe

D.3.8. Slutgiltiga justeringar

As mentioned earlier, the installed system will be very basic. If you would
like to make the system a bit more mature, there is an easy method to install
all packages with "standard" priority:

# tasksel install standard

Of course, you can also just use apt to install packages individually.

Efter installationen kommer det att finnas en hel del hämtade paket i /var/
cache/apt/archives/. Du kan frigöra diskutrymme genom att köra:

# apt clean

D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

Det här avsnittet förklarar hur man installerar Debian GNU/Linux på en dator
som saknar ett Ethernet-kort, men med en dator som fjärrgateway ansluten via en
nollmodemkabel (kallas även för nollskrivarkabel). Gatewaydatorn bör vara
ansluten till ett nätverk som har en Debian-spegel på sig (t.ex. Internet).

I exemplet i den här bilagan kommer vi att ställa in en PLIP-anslutning med en
gateway ansluten till Internet över en uppringd anslutning (ppp0). Vi kommer
att använda IP-adresserna 192.168.0.1 och 192.168.0.2 för PLIP-gränssnitten på
målsystemet respektive källsystemet (dessa adresser bör vara oanvända inom ditt
nätverksadressintervall).

Inställningen av PLIP-anslutningen under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

Innan du börjar, behöver du kontrollera BIOS-konfigurationen (IO-basadress och
IRQ) för parallellportar på både käll- och målsystemet. De mest vanliga värdena
är io=0x378 och irq=7.

D.4.1. Krav

  • En måldator, kallad mål, där Debian kommer att installeras.

  • Systeminstallationsmedia; se Avsnitt 2.4, "Installationsmedia".

  • En annan dator ansluten till Internet, kallad källa, som kommer att fungera
    som en gateway.

  • En DB-25-nollmodemkabel. Se PLIP-Install-HOWTO för mer information för den
    här kabeln och instruktioner hur man tillverkar en egen.

D.4.2. Ställ in källor

Följande skript är ett enkelt exempel på hur man konfigurerar källdatorn som en
gateway till Internet med ppp0.

#!/bin/sh

# Vi tar bort körande moduler från kärnan för att undvika konflikter och
# för att konfigurera om dem manuellt.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Konfigurera plip-gränssnittet (plip0 för mig, se dmesg | grep plip)
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Konfigurera gateway
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Installera måldatorn

Starta upp på installationsmediat. Installationen behöver köras i expertläget;
skriv expert vid uppstartsprompten. Om du behöver ställa in paramentrar för
kärnmoduler behöver du även göra detta vid uppstartsprompten. För att till
exempel starta upp installationsprogrammet och ställa in värden för flaggorna "
io" och "irq" för modulen parport_pc, skriv följande vid uppstartsprompten:

expert parport_pc.io=0x378 parport_pc.irq=7

Nedan finns svaren som bör anges under de olika stegen av installationen.

 1. Läs in installationskomponenter från cd

    Välj plip-modules från listan; det här kommer att göra drivrutinerna för
    PLIP tillgängliga för installationssystemet.

 2. Identifiera nätverksmaskinvara

      □ Om målet har ett nätverkskort, kommer en lista över drivrutinsmoduler
        för identifierade kort att visas. Om du vill tvinga debian-installer
        att använda plip istället, måste du avmarkera alla listade
        drivrutinsmoduler. Så klart, om målet inte har ett nätverkskort kommer
        installationsprogrammet inte att visa den här listan.

      □ På grund av att inget nätverkskort hittades/valdes tidigare, kommer
        installationsprogrammet att fråga dig om att välja en
        nätverksdrivrutinsmodul från en lista. Välj modulen plip.

 3. Konfigurera nätverket

      □ Auto-konfigurera nätverk med DHCP: Nej

      □ IP-adress: 192.168.0.1

      □ Punkt-till-punkt-adress: 192.168.0.2

      □ Namnserveradresser: du kan ange samma adresser som används på källan
        (se /etc/resolv.conf)

D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

I vissa länder är PPP over Ethernet (PPPoE) ett vanligt protokoll för
bredbandsanslutningar (ADSL eller kabel) till en internetleverantör.
Konfiguration av en nätverksanslutning med PPPoE stöds inte som standard i
installationsprogrammet men går att få att fungera mycket enkelt. Det här
avsnittet förklarar hur man gör.

PPPoE-anslutningen som konfigurerats under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

För att få möjligheten att konfigurera och använda PPPoE under installationen
behöver du installera från en av cd/dvd-avbildningarna som finns tillgängliga.
Det stöds inte för andra installationsmetoder (t.ex. nätinstallation).

Installation över PPPoE är mestadels samma som för andra installationer.
Följande steg förklarar skillnaderna.

  • Starta upp installationsprogrammet med uppstartsparameter modules=ppp-udeb^
    [26]. Det här kommer att se till att komponenten som ansvarar för
    konfigurering av PPPoE (ppp-udeb) kommer att läsas in och köras
    automatiskt.

  • Följ de vanliga initiala steg för installationen (språk, land och
    tangentbordsval; inläsningen av ytterligare installerarkomponenter^[27]).

  • Nästa steg är identifieringen av nätverksmaskinvaran för att identifiera de
    Ethernet-kort som finns anslutna till systemet.

  • Efter det här är konfigurationen av PPPoE startad. Installationsprogrammet
    kommer att söka igenom alla identifierade Ethernet-gränssnitt i ett försök
    att hitta en PPPoE-koncentrator (en typ av server som hanterar
    PPPoE-anslutningar).

    Det är möjligt att koncentratorn inte kommer att hittas vid första
    försöket. Det kan hända ibland vid långsamma eller belastade nätverk eller
    med felaktiga servrar. I de flesta fall lyckas ett andra försök att
    identifiera koncentratorn; för att försöka igen, välj Konfigurera och
    starta en PPPoE-anslutning från huvudmenyn i installationsprogrammet.

  • Efter att en koncentrator har hittats kommer användaren att bli tillfrågad
    att ange inloggningsinformationen (användarnamn och lösenord för
    PPPoE-anslutningen).

  • Nu kommer installationsprogrammet att använda den angivna informationen för
    att etablera PPPoE-anslutningen. Om korrekt information har angivits kommer
    PPPoE-anslutningen att konfigureras och installationsprogrammet ska kunna
    använda den för att ansluta till Internet och hämta ner paket (om det
    behövs). Om inloggningsinformationen inte är korrekt eller några fel dyker
    upp kommer installationsprogrammet att stoppa, men konfigurationen kan
    startas om igen genom att välja menyposten Konfigurera och starta en
    PPPoE-anslutning.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[24] Seriemöss har oftast en 9-hålig D-formad kontakt; bussmöss har en
8-pinnars rund kontakt, förväxla den inte med den 6-pinnars runda kontakten för
en PS/2-mus eller den 4-pinnars runda kontakten för en ADB-mus.

^[25] Dessa inkluderar GNU-kärnverktyg och kommandon såsom sed, grep, tar och 
gzip.

^[26] Se Avsnitt 5.1.7, "Uppstartsskärmen" för information om hur man lägger
till en uppstartsparameter.

^[27] Komponenten ppp-udeb läses in som en av de ytterligare komponenterna i
det här steget. Om du vill installera på medium eller låg prioritet
(expertläge) kan du även manuellt välja ppp-udeb istället för att ange
parametern "modules" vid uppstartsprompten.

Appendix E. Administrivia

Innehållsförteckning

E.1. Om det här dokumentet
E.2. Bidrag till det här dokumentet
E.3. Stora bidragsgivare
E.4. Varumärken

E.1. Om det här dokumentet

Den här handboken skapades för Sarges debian-installer och baserades på
installationsmanualen för Woody för uppstartsdisketter som var baserad på
tidigare installationsmanualer för Debian och på Progeny-utgåvans manual som
utgavs under GPL år 2003.

Det här dokumentet är skrivet i DocBook XML. Formaten för utdata genereras av
olika program med information från paketen docbook-xml och docbook-xsl.

För att förbättra hanteringen av det här dokumentet använder vi ett antal
XML-funktioner såsom entities och profil-attribut. Dessa spelar en roll som är
besläktad med variabler och villkor i programspråk. XML-källkoden till det här
dokumentet innehåller information om varje arkitektur och profil-attribut
används för att isolera vissa delar av texten som är arkitekturspecifik.

E.2. Bidrag till det här dokumentet

Om du har problem eller förslag angående det här dokumentet bör du antagligen
sända in om som en felrapport mot paketet installation-guide. Se paketet
reportbug eller läs online-dokumentationen för Debians felrapporteringssystem.
Det vore trevligt om du kunde kontrollera öppna fel mot paketet
debian-installer-manual för att se om ditt problem redan har blivit
rapporterat. Om det har gjorts kan du ange ytterligare bekräftelse på problemet
eller behjälplig information till <XXXX@bugs.debian.org> där XXXX är numret för
den redan öppnade felrapporten.

Better yet, get a copy of the DocBook source for this document, and produce
patches against it. The DocBook source can be found at the installation-guide
project on salsa. If you're not familiar with DocBook, don't worry: there is a
simple cheatsheet in the manuals directory that will get you started. It's like
html, but oriented towards the meaning of the text rather than the
presentation. Patches submitted to the debian-boot mailing list (see below) are
welcomed. For instructions on how to check out the sources via git, see README
from the source root directory.

Vänligen kontakta inte författaren av det här dokumentet direkt. Det finns även
en diskussionslista för debian-installer som inkluderar diskussioner om den här
handboken. Sändlistan är <debian-boot@lists.debian.org>. Instruktioner för
prenumeration av den här listan kan hittas på sidan Debian Mailing List
Subscription eller så kan du bläddra i Debian Mailing List Archives online.

E.3. Stora bidragsgivare

Detta dokument skrevs ursprungligen av Bruce Perens, Sven Rudolph, Igor
Grobman, James Treacy och Adam Di Carlo. Sebastian Ley skrev
installationshjälpen.

Miroslav Kuře har dokumenterat mycket av den nya funktionaliteten i
debian-installer för Sarge. Frans Pop var huvudredaktör och utgivningsansvarig
för utgåvorna Etch, Lenny och Squeeze.

Många, många Debian-användare och utvecklare har bidragit till det här
dokumentet. Speciellt tack måste ges till Michael Schmitz (m68k-stöd), Frank
Neumann (originalförfattare av installationshandboken för Amiga), Arto Astala,
Eric Delaunay/Ben Collins (SPARC-information), Tapio Lehtonen och Stéphane
Bortzmeyer för ett flertal redigeringar och texter. Vi måste tacka Pascal Le
Bail för användbar information om uppstart från USB-minnen.

Mycket behjälplig text och information hittades i Jim Minthas HOWTO för
uppstart via nätverket (ingen URL tillgänglig), Debian FAQ, Linux/m68k FAQ,
Linux för SPARC-processorer FAQ, Linux/Alpha FAQ bland andra. Ansvariga för
dessa fritt tillgängliga och rikliga källor av information måste erkännas.

Avsnittet om chrootade installationer i den här handboken (Avsnitt D.3,
"Installera Debian GNU/Linux från ett Unix/Linux-system") blev framtagen ur
delar från dokument som är copyright Karsten M. Self.

Avsnittet för installationer över plip i den här handboken (Avsnitt D.4,
"Installera Debian GNU/Linux över Parallel Line IP (PLIP)") baserades på
PLIP-Install-HOWTO av Gilles Lamiral.

E.4. Varumärken

Alla varumärken tillhör sina respektive ägare.

Appendix F. GNU General Public License

Notera

This is an unofficial translation of the GNU General Public License into
Swedish. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL -- only
the original English text of the GNU GPL does that. However, we hope that this
translation will help Swedish speakers to better understand the GNU GPL.

Det här är en inofficiell svensk översättning av GNU General Public License.
Den har inte publicerats av Free Software Foundation och fastställer inte
heller de juridiska villkor för distribuering för programvara som använder GNU
GPL -- det gör endast den ursprungliga engelska texten av GNU GPL. Dock hoppas
vi att denna översättning kan hjälpa svenska läsare att förstå GNU GPL bättre.

Version 2, June 1991

Copyright © 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Var och en äger kopiera och distribuera exakta kopior av det
här licensavtalet, men att ändra det är inte tillåtet.

F.1. BAKGRUND

De flesta programvarulicenser är skapade för att ta bort din frihet att ändra
och dela med dig av programvaran. GNU General Public License är tvärtom skapad
för att garantera din frihet att dela med dig av och förändra fri programvara
-- för att försäkra att programvaran är fri för alla dess användare. Den här
licensen [General Public License] används för de flesta av Free Software
Foundations programvaror och för alla andra program vars upphovsmän använder
sig av General Public License. (Viss programvara från Free Software Foundation
använder istället GNU Library General Public License.) Du kan använda licensen
för dina program.

När vi talar om fri programvara syftar vi på frihet och inte på pris. Våra
[General Public License-] licenser är skapade för att garantera din rätt
distribuera och sprida kopior av fri programvara (och ta betalt för den här
tjänsten om du önskar), att garantera att du får källkoden till programvaran
eller kan få den om du så önskar, att garantera att du kan ändra och modifiera
programvaran eller använda dess delar i ny fri programvara samt slutligen att
garantera att du är medveten om dessa rättigheter.

För att skydda dina rättigheter, måste vi begränsa var och ens möjlighet att
hindra dig från att använda dig av dessa rättigheter samt från att kräva att du
ger upp dessa rättigheter. Dessa begränsningar motsvaras av en förpliktelse för
dig om du distribuerar kopior av programvaran eller om du ändrar eller
modifierar programvaran.

Om du exempelvis distribuerar kopior av en fri programvara, oavsett om du gör
det gratis eller mot en avgift, måste du ge mottagaren alla de rättigheter du
själv har. Du måste också tillse att mottagaren får källkoden eller kan få den
om mottagaren så önskar. Du måste också visa dessa licensvillkor för mottagaren
så att mottagaren känner till sina rättigheter.

Vi skyddar dina rättigheter i två steg: (1) upphovsrätt till programvaran och
(2) dessa licensvillkor som ger dig rätt att kopiera, distribuera och eller
ändra programvaran.

För varje upphovsmans säkerhet och vår säkerhet vill vi för tydlighets skull
klargöra att det inte lämnas några garantier för den här fria programvaran. Om
programvaran förändras av någon annan än upphovsmannen vill vi klargöra för
mottagaren att det som mottagaren har är inte originalversionen av programvaran
och att förändringar av och felaktigheter i programvaran inte skall belasta den
ursprunglige upphovsmannen.

Slutligen skall det sägas att all fri programvara ständigt hotas av
programvarupatent. Vi vill undvika att en distributör [eller vidareutvecklare]
av fri programvara individuellt skaffar patentlicenser till programvaran och
därmed gör programvaran till föremål för äganderätt. För att undvika det här
har vi gjort det tydligt att samtliga programvarupatent måste registreras för
allas fria användning eller inte registreras alls.

Här nedan följer licensvillkoren för att kopiera, distribuera och ändra
programvaran.

F.2. GNU GENERAL PUBLIC LICENSE

VILLKOR FÖR ATT KOPIERA, DISTRIBUERA OCH ÄNDRA PROGRAMVARAN

0. Dessa licensvillkor gäller varje programvara eller annat verk som innehåller
en hänvisning till dessa licensvillkor där upphovsrättsinnehavaren stadgat att
programvaran kan distribueras enligt [General Public License] dessa villkor.
"Programvaran" enligt nedan syftar på varje sådan programvara eller verk och
"Verk baserat på Programvaran" syftar på antingen Programvaran eller på
derivativa verk, såsom ett verk som innehåller Programvaran eller en del av
Programvaran, antingen en exakt kopia eller en ändrad kopia och/eller översatt
till ett annat språk. (översättningar ingår nedan utan begränsningar i
begreppet "förändringar", "förändra" samt "ändringar" eller "ändra".) Varje
licenstagare benämns som "Du".

Åtgärder utom kopiering, distribution och ändringar täcks inte av dessa
licensvillkor. Användningen av Programvaran är inte begränsad och resultatet av
användningen av Programvaran täcks endast av dessa licensvillkor om resultatet
utgör ett Verk baserat på Programvaran (oberoende av att det skapats av att
programmet körts). Det beror på vad Programvaran gör.

1. Du äger kopiera och distribuera exakta kopior av Programvarans källkod såsom
du mottog den, i alla medier, förutsatt att Du tydligt och på ett skäligt sätt
på varje exemplar fäster en riktig upphovsrättsklausul och garantiavsägelse,
vidhåller alla hänvisningar till dessa licensvillkor och till alla
garantiavsägelser samt att till alla mottagaren av Programvaran ge en kopia av
dessa licensvillkor tillsammans med Programvaran.

Du äger utta en avgift för mekaniseringen [att fysiskt fästa Programvaran på
ett medium, såsom en diskett eller en CD-ROM-skiva] eller överföringen av en
kopia och du äger erbjuda en garanti för Programvaran mot en avgift.

2. Du äger ändra ditt exemplar eller andra kopior av Programvaran eller någon
del av Programvaran och därmed skapa ett Verk baserat på Programvaran, samt att
kopiera och distribuera sådana förändrade versioner av Programvaran eller verk
enligt villkoren i paragraf 1 ovan, förutsatt att du också uppfyller följande
villkor:

 a. Du tillser att de förändrade filerna har ett tydligt meddelande som
    berättar att Du ändrat filerna samt vilket datum dessa ändringar gjordes.

 b. Du tillser att alla verk som du distribuerar eller offentliggör som till en
    del eller i sin helhet innehåller eller är härlett från Programvaran eller
    en del av Programvaran, licensieras i sin helhet, utan kostnad till tredje
    man enligt dessa licensvillkor.

 c. Om den förändrade Programvaran i sitt normala utförande kan utföra
    interaktiv kommandon när det körs, måste Du tillse att när Programmet
    startas skall det skriva ut eller visa, på ett enkelt tillgängligt sätt,
    ett meddelande som tydligt och på ett skäligt sätt på varje exemplar fäster
    en riktig upphovsrättsklausul och garantiavsägelse (eller i förekommande
    fall ett meddelande som klargör att du tillhandahåller en garanti) samt att
    mottagaren äger distribuera Programvaran enligt dessa licensvillkor samt
    berätta hur mottagaren kan se dessa licensvillkor. (Från den här
    skyldigheten undantas det fall att Programvaran förvisso är interaktiv, men
    i sitt normala utförande inte visar ett meddelande av den här typen. I
    sådant fall behöver Verk baserat Programvaran inte visa ett sådant
    meddelande som nämns ovan.)

Dessa krav gäller det förändrade verket i dess helhet. Om identifierbara delar
av verket inte härrör från Programvaran och skäligen kan anses vara fristående
och självständiga verk i sig, då skall dessa licensvillkor inte gälla i de
delarna när de distribueras som egna verk. Men om samma delar distribueras
tillsammans med en helhet som innehåller verk som härrör från Programvaran,
måste distributionen i sin helhet ske enligt dessa licensvillkor.
Licensvillkoren skall i sådant fall gälla för andra licenstagare för hela
verket och sålunda till alla delar av Programvaran, oavsett vem som är
upphovsman till vilka delar av verket.

Den här paragrafen skall sålunda inte tolkas som att anspråk görs på
rättigheter eller att ifrågasätta Dina rättigheter till programvara som
skrivits helt av Dig. Syftet är att tillse att rätten att kontrollera
distributionen av derivativa eller samlingsverk av Programvaran.

Förekomsten av ett annat verk på ett lagringsmedium eller samlingsmedium som
innehåller Programvaran eller Verk baserat på Programvaran leder inte till att
det andra verket omfattas av dessa licensvillkor.

3. Du äger kopiera och distribuera Programvaran (eller Verk baserat på
Programvaran enligt paragraf 2) i objektkod eller i körbar form enligt
villkoren i paragraf 1 och paragraf 2 förutsatt att Du också gör en av följande
saker:

 a. Bifogar den kompletta källkoden i maskinläsbar form, som måste distribueras
    enligt villkoren i paragraf 1 och 2 på ett medium som i allmänhet används
    för utbyte av programvara, eller

 b. Bifogar ett skriftligt erbjudande, med minst tre års giltighet, att ge
    tredje man, mot en avgift som högst uppgår till Din kostnad att utföra
    fysisk distribution, en fullständig kopia av källkoden i maskinläsbar form,
    distribuerad enligt villkoren i paragraf 1 och 2 på ett medium som i
    allmänhet används för utbyte av programvara, eller

 c. Bifogar det skriftligt erbjudande Du fick att erhålla källkoden. (Det här
    alternativet kan endast användas för icke-kommersiell distribution och
    endast om Du erhållit ett program i objektkod eller körbar form med ett
    erbjudande i enlighet med b ovan.)

Källkoden för ett verk avser den form av ett verk som är att föredra för att
göra förändringar av verket. För ett körbart verk avser källkoden all källkod
för moduler det innehåller, samt alla tillhörande gränssnittsfiler,
definitioner, scripts för att kontrollera kompilering och installation av den
körbara Programvaran. Ett undantag kan dock göras för sådant som normalt
distribueras, antingen i binär form eller som källkod, med huvudkomponterna i
operativsystemet (kompliator, kärna och så vidare) i vilket den körbara
programvaran körs, om inte den här komponenten medföljer den körbara
programvaran.

Om distributionen av körbar Programvara eller objektkod görs genom att erbjuda
tillgång till att kopiera från en bestämd plats, då skall motsvarande tillgång
till att kopiera källkoden från samma plats räknas som distribution av
källkoden, även om trejde man inte behöver kopiera källkoden tillsammans med
objektkoden.

4. Du äger inte kopiera, ändra, licensiera eller distribuera Programvaran utom
på dessa licensvillkor. All övrig kopiering, ändringar, licensiering eller
distribution av Programvaran är ogiltig och kommer automatiskt medföra att Du
förlorar Dina rättigheter enligt dessa licensvillkor. Tredje man som har
mottagit kopior eller rättigheter från Dig enligt dessa licensvillkor kommer
dock inte att förlora sina rättigheter så länge de följer licensvillkoren.

5. Du åläggs inte att acceptera licensvillkoren, då du inte har skrivit under
det här avtalet. Du har dock ingen rätt att ändra eller distribuera
Programvaran eller Verk baserat på Programvaran. Sådan verksamhet är förbjuden
i lag om du inte accepterar och följer dessa licensvillkor. Genom att ändra
eller distribuera Programvaran (eller verk baserat på Programvaran) visar du
med genom ditt handlande att du accepterar licensvillkoren och alla villkor för
att kopiera, distribuera eller ändra Programvaran eller Verk baserat på
Programvaran.

6. Var gång du distributerar Progamvaran (eller Verk baserat på Programvaran),
kommer mottagaren per automatik att få en licens från den första licensgivaren
att kopiera, distribuera eller ändra Programvaran enligt dessa licensvillkor.
Du äger inte ålägga mottagaren några andra restriktioner än de som följer av
licensvillkoren. Du är inte skyldig att tillse att tredje man följer
licensvillkoren.

7. Om Du på grund av domstolsdom eller anklagelse om patentintrång eller på
grund av annan anledning (ej begränsat till patentfrågor), Du får villkor
(oavsett om de kommer via domstols dom, avtal eller på annat sätt) som strider
mot dessa licensvillkor så fråntar de inte Dina förpliktelser enligt dessa
licensvillkor. Om du inte kan distribuera Programvaran och samtidigt uppfylla
licensvillkor och andra skyldigheter, får du som en konsekvens inte distribuera
Programvaran. Om exempelvis ett patent gör att Du inte distribuera Programvaran
fritt till alla de som mottager kopior direkt eller indirekt från Dig, så måste
Du helt sluta distribuera Programvaran.

Om delar av den här paragrafen förklaras ogiltig eller annars inte kan
verkställas skall resten av paragrafen äga fortsatt giltighet och paragrafen i
sin helhet äga fortsatt giltighet i andra sammanhang.

Syftet med den här paragrafen är inte att förmå Dig att begå patentintrång
eller att begå intrång i andra rättigheter eller att förmå Dig att betrida
giltigheten i sådana rättigheter. Den här paragrafen har ett enda syfte, vilket
är att skydda distributionssystemet för fri programvara vilket görs genom
användandet av dessa licensvillkor. Många har bidragit till det stora utbudet
av programvara som distribueras med hjälp av dessa licensvillkor och den
fortsatta giltigheten och användningen av det här systemet, men det är
upphovsmannen själv som måste besluta om han eller hon vill distribuera
Programvaran genom det här systemet eller ett annat och en licenstagare kan
inte tvinga en upphovsman till ett annat beslut.

Den här paragrafen har till syfte att ställa det utom tvivel vad som anses
följa av resten av dessa licensvillkor.

8. Om distributionen och/eller användningen av Programvaran är begränsad i
vissa länder på grund av patent eller upphovsrättsligt skyddade gränssnitt kan
upphovsmannen till Programvaran lägga till en geografisk spridningsklausul,
enligt vilken distribution är tillåten i länder förutom dem i vilket det är
förbjudet. Om så är fallet kommer begränsningen att utgöra en fullvärdig del av
licensvillkoren.

9. The Free Software Foundation kan offentliggöra ändrade och/eller nya
versioner av the General Public License från tid till annan. Sådana nya
versioner kommer i sin helhet att påminna om nuvarande version av the General
Public License, men kan vara ändrade i detaljer för att behandla nya problem
eller göra nya överväganden. Varje version ges ett särskiljande versionsnummer.
Om Programvaran specificerar ett versionsnummer av licensvillkoren samt "alla
senare versioner" kan Du välja mellan att följa dessa licensvillkor eller
licensvillkoren i alla senare versioner offentliggjorda av the Free Software
Foundation. Om Programvaran inte specificerar ett versionnummer av
licensvillkoren kan Du välja fritt bland samtliga versioner som någonsin
offentligjorts.

10. Om du vill använda delar av Programvaran i annan fri programvara som
distribueras enligt andra licensvillkor, begär tillstånd från upphovsmannen.
För Programvaran var upphovsrätt innehas av Free Software Foundation, skriv
till Free Software Foundation, vi gör ibland undantag för det här. Vårt beslut
grundas på våra två mål att bibehålla den fria statusen av alla verk som
härleds från vår Programvara och främjandet av att dela med sig av och
återanvända programvara i allmänhet.

INGEN GARANTI

11. DÅ DENNA PROGRAMVARA LICENSIERAS UTAN KOSTNAD GES INGEN GARANTI FÖR
PROGRAMMET, UTOM SÅDAN GARANTI SOM MÅSTE GES ENLIGT TILLÄMPLIG LAG. FÖRUTOM DÅ
DET UTTRYCKS I SKRIFT TILLHANDAHÅLLER UPPHOVSRÄTTSINNEHAVAREN OCH/ELLER ANDRA
PARTER PROGRAMMET "I BEFINTLIGT SKICK" ("AS IS") UTAN GARANTIER AV NÅGRA SLAG,
VARKEN UTTRYCKLIGA ELLER UNDERFÖRSTÅDDA, INKLUSIVE, MEN INTE BEGRÄNSAT TILL,
UNDERFÖRSTÅDDA GARANTIER VID KÖP OCH LÄMPLIGHET FÖR ETT SÄRSKILT ÄNDAMÅL. HELA
RISKEN FÖR KVALITET OCH ANVÄNDBARHET BÄRS AV DIG. OM PROGRAMMET SKULLE VISA SIG
HA DEFEKTER SKALL DU BÄRA ALLA KOSTNADER FÖR FELETS AVHJÄLPANDE, REPARATIONER
ELLER NÖDVÄNDIGSERVICE.

12. INTE I NÅGOT FALL, UTOM NÄR DET GÄLLER ENLIGT TILLÄMPLIG LAG ELLER NÄR DET
ÖVERENSKOMMITS SKRIFTLIGEN, SKALL EN UPPHOVSRÄTTSINNEHAVARE ELLER ANNAN PART
SOM ÄGER ÄNDRA OCH/ELLER DISTRIBUERA PROGRAMVARAN ENLIGT OVAN, VARA SKYLDIG
UTGE ERSÄTTNING FÖR SKADA DU LIDER, INKLUSIVE ALLMÄN, DIREKT ELLER INDIREKT
SKADA SOM FÖLJER PÅ GRUND AV ANVÄNDNING ELLER OMÖJLIGHET ATT ANVÄNDA
PROGRAMVARAN (INKLUSIVE MEN INTE BEGRÄNSAT TILL FÖRLUST AV DATA OCH INFORMATION
ELLER DATA OCH INFORMATION SOM FRAMSTÄLLTS FELAKTIGT AV DIG ELLER TREDJE PART
ELLER FEL DÄR PROGRAMMET INTE KUNNAT KÖRAS SAMTIDIGT MED ANNAN PROGRAMVARA),
ÄVEN OM EN SÅDAN UPPHOVSRÄTTSINNEHAVAREN ELLER ANNAN PART UPPLYSTS OM
MÖJLIGHETEN TILL SÅDAN SKADA.

SLUT PÅ LICENSVILLKOR

F.3. METOD FÖR ATT ANVÄNDA DESSA VILLKOR

Om du utvecklar ett nytt program och vill att det skall vara av största möjliga
nytta för allmänheten är det bästa du kan göra att göra programmet till fri
programvara som var och en kan mångfaldiga och ändra enligt dessa villkor.

För att uppnå det här skall du lägga till följande text till programmet. Det är
säkrast att lägga dem i början av varje källkodsfil för att tillse att du med
överlåtelser avsaknaden av garantiåtagande och varje fil skall minst ha
"copyright"-raderna och en länk till var användaren hittar hela licensen.

en rad för programmets namn och en kort beskrivning av vad det gör.
Copyright © år  namn på upphovsmannen

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

Lägg här in information om hur användaren når dig per e-post och vanlig post.

Om ditt program är interaktivt visa följande för användaren när programmet
startas i interaktivt läge:

Gnomovision version 69, Copyright © år namn på upphovsman
Gnomovision comes with absolutely no warranty; for details
type `show w'. This is free software, and you are welcome
to redistribute it under certain conditions; type `show c'
for details.

Kommandot "show w" respektive "show c" skall visa tillämpliga delar av General
Public License. Du kan givetvis använda andra kommandon än "show w" och "show
c" det kan till och med röra sig om musklick eller menyval, använd det som
passar till programmet.

Om du arbetar som programmerare skall din arbetsgivare eller din skola skriva
under en "copyright disclaimer" för programmet om det är nödvändigt. Här är ett
exempel, ändra namnen:

Yoyodyne, Inc., hereby disclaims all copyright interest in the
program `Gnomovision' (which makes passes at compilers) written
by James Hacker.

signaturen för Ty Coon, 1 April 1989
Ty Coon, President of Vice

Den här General Public License tillåter inte att du inkorperar ditt program i
icke-fri programvara. Om du utvecklar subrutiner eller programbibliotek kan det
vara lämpligt att tillåta länkning till icke-fri programvara. Om du vill göra
det här bör du istället för den här licensen använda GNU Lesser General Public
License.

