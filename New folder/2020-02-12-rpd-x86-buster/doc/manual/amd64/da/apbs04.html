<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>B.4. Indhold af forhåndskonfigurationsfilen (for buster)</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="Installationsguide for Debian GNU/Linux">
<link rel="up" href="apb.html" title="Appendiks B. Automatisering af installationen med preseeding (forhåndskonfiguration)">
<link rel="prev" href="apbs03.html" title="B.3. Oprettelse af en forhåndskonfigurationsfil">
<link rel="next" href="apbs05.html" title="B.5. Avancerede indstillinger">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">B.4. Indhold af forhåndskonfigurationsfilen (for buster)</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="apbs03.html"><img src="images/prev.png" alt="forrige"></a> </td>
<th width="60%" align="center">Appendiks B. Automatisering af installationen med preseeding (forhåndskonfiguration)</th>
<td width="20%" align="right"> <a accesskey="n" href="apbs05.html"><img src="images/next.png" alt="næste"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="preseed-contents"></a>B.4. Indhold af forhåndskonfigurationsfilen (for buster)</h2></div></div></div>
<p>Konfigurationsfragmenterne brugt i dette appendiks er også tilgængelige som et eksempel på en forhåndskonfigureret fil fra <span class="phrase"><a class="ulink" href="../example-preseed.txt" target="_top">../example-preseed.txt</a></span>. </p>
<p>Bemærk at dette eksempel er baseret på en installation for Intel x86-arkitekturen. Hvis du installerer en anden arkitektur, så kan nogle af eksemplerne (såsom tastatturvalg og installation af opstartsindlæser) være irrelevante og skal erstattes af debconf-indstillinger passende for din arkitektur. </p>
<p>Detaljer om hvordan forskellige komponenter for Debians installationsprogram fungerer kan findes i <a class="xref" href="ch06s03.html" title="6.3. Brug af individuelle komponenter">Afsnit 6.3, “Brug af individuelle komponenter”</a>. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-l10n"></a>B.4.1. Opsætning af sted</h3></div></div></div>
<p>Under en normal installation vil spørgsmål om sted blive spurgt først, så disse værdier kan kun forhåndskonfigureres via metoderne hos initrd- eller kerneopstartsparametre. Automatisk tilstand (<a class="xref" href="apbs02.html#preseed-auto" title="B.2.3. Auto-tilstand">Afsnit B.2.3, “Auto-tilstand”</a>) inkluderer indstillingen <code class="literal">auto-install/enable=true</code> (normalt via aliasset for forhåndskonfiguration <code class="literal">auto</code>). Dette forsinker spørgsmålene om sted, så de kan forhåndskonfigureres med enhver metode. </p>
<p>Stedet kan bruges til at specificere både sprog og land og kan være enhver kombination af et sprog understøttet af <code class="classname">debian-installer</code> og et anerkendt land. Hvis kombinationen ikke udgør et gyldigt sted, så vil installationsprogrammet automatisk vælge et sted, som er gyldig for det valgte sprog. For at specificere stedet som en opstartsparametre, så brug <strong class="userinput"><code>locale=<em class="replaceable"><code>en_US</code></em></code></strong>. </p>
<p>Selvom denne metode er meget nem at bruge, så tillader den ikke forhåndskonfiguration af alle mulige kombinationer af sprog, land og sted<a href="#ftn.idm3618" class="footnote" name="idm3618"><sup class="footnote">[23]</sup></a>. Så alternativt kan værdierne forhåndskonfigureres individuelt. Sprog og land kan også angives som opstartsparametre. </p>
<div class="informalexample"><pre class="screen"># Forhåndskonfiguration af sted angiver sprog, land og sted..
d-i debian-installer/locale string en_US

# Værdierne kan også forhåndskonfigureres individuelt for større fleksibilitet.
#d-i debian-installer/language string en
#d-i debian-installer/country string NL
#d-i debian-installer/locale string en_GB.UTF-8
# Valgfrit kan yderligere steder angives for oprettelse.
#d-i localechooser/supported-locales multiselect en_US.UTF-8, nl_NL.UTF-8
</pre></div>
<p>

</p>
<p>Tastaturkonfiguration består af valg af et tastaturkort og (for andre end latinske tastaturkort) en ændringstast til at skifte mellem det amerikanske tastaturkort og andre ikke latinske tastaturkort. Kun grundlæggende tastaturkortvarianter er tilgængelige under installation. Avancerede varianter er kun tilgængelige i det installerede system, via <span class="command"><strong>dpkg-reconfigure keyboard-configuration</strong></span>. </p>
<div class="informalexample"><pre class="screen"># Tastaturvalg.
d-i keyboard-configuration/xkb-keymap select us
# d-i keyboard-configuration/toggle select No toggling
</pre></div>
<p>

</p>
<p>For at undlade tastaturkonfiguration, forhåndskonfigureres <code class="classname">keymap</code> med <strong class="userinput"><code>skip-config</code></strong>. Dette vil medføre, at kernens tastaturkort forbliver aktiv. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-network"></a>B.4.2. Netværkskonfiguration</h3></div></div></div>
<p>Of course, preseeding the network configuration won't work if you're loading your preconfiguration file from the network. But it's great when you're booting from CD or USB stick. If you are loading preconfiguration files from the network, you can pass network config parameters by using kernel boot parameters. </p>
<p>Hvis du skal vælge en bestemt grænseflade under netopstart før indlæsning af en forhåndskonfigurationsfil fra netværket, så brug en opstartsparameter såsom <strong class="userinput"><code>interface=<em class="replaceable"><code>eth1</code></em></code></strong>. </p>
<p>Although preseeding the network configuration is normally not possible when using network preseeding (using <span class="quote">“<span class="quote">preseed/url</span>”</span>), you can use the following hack to work around that, for example if you'd like to set a static address for the network interface. The hack is to force the network configuration to run again after the preconfiguration file has been loaded by creating a <span class="quote">“<span class="quote">preseed/run</span>”</span> script containing the following commands: </p>
<div class="informalexample"><pre class="screen">kill-all-dhcp; netcfg
</pre></div>
<p>

</p>
<p>De følgende debconf-variabler er relevante for netværkskonfiguration. </p>
<div class="informalexample"><pre class="screen"># Deaktiver netværkskonfiguration helt. Dette er nyttigt for cd-rom-
# installationer på enheder uden netværk, hvor netværksspørgsmålene,
# advarsel og lange tidsudløb er til gene.
#d-i netcfg/enable boolean false

# netcfg vil vælge en grænseflade, der har link hvis muligt. Dette gør, at
# der udelades visning af en liste hvis der er mere end en grænseflade.
d-i netcfg/choose_interface select auto

# For at vælge en bestemt grænseflade i stedet for:
#d-i netcfg/choose_interface select eth1

# For at angive et andet link-registreringstidsudløb (standarden er 3
# sekunder).
# Værdier fortolkes som sekunder.
#d-i netcfg/link_wait_timeout string 10

# Hvis du har en langsom dhcp-server og installationsprogrammet får tidsudløb
# af at vente, så kan dette være nyttigt.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Hvis du foretrækker at konfigurere netværket manuelt, så udkommenter denne
# linje og den statiske netværkskonfiguration nedenfor.
#d-i netcfg/disable_autoconfig boolean true

# Hvis du ønsker at filen med forhåndskonfigurationen skal fungere på
# systemer både med og uden en dhcp-server, så udkommenter disse  linjer og
# den statiske netværkskonfiguration nedenfor.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Configure network manually

# Statisk netværkskonfiguration.
#
# IPv4-eksempel
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean true
#
# IPv6-eksempel
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean true

# Ethvert værtsnavn og domænenavne tildelt fra dhcp har forrang over værdier
# angivet her. Indstilling af værdierne vil dog stadig forhindre spørgsmålene
# i at blive vist, selv hvis værdierne kommer fra dhcp.
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain

# Hvis du ønsker at bruge et værtsnavn med tvang, uanset hvad enten DHCP-
# serveren returnerer eller hvad det omvendte DNS-element for IP'en er, så
# udkommenter og juster den følgende linje.
#d-i netcfg/hostname string somehost

# Deaktiver den irriterende WEP-nøgledialog.
d-i netcfg/wireless_wep string
# Det flippede dhcp-værtsnavn, som nogle ISP'er bruger som en form for
# adgangskode.
#d-i netcfg/dhcp_hostname string radish

# Hvis non-free (ufri) firmware er krævet for netværket eller andet udstyr,
# så kan du konfigurere installationsprogrammet til altid at prøve at indlæse
# det uden at spørge. Eller ændre til falsk (false) for at deaktivere
# spørgsmål.
#d-i hw-detect/load_firmware boolean true
</pre></div>
<p>Please note that <span class="command"><strong>netcfg</strong></span> will automatically determine the netmask if <code class="classname">netcfg/get_netmask</code> is not preseeded. In this case, the variable has to be marked as <code class="literal">seen</code> for automatic installations. Similarly, <span class="command"><strong>netcfg</strong></span> will choose an appropriate address if <code class="classname">netcfg/get_gateway</code> is not set. As a special case, you can set <code class="classname">netcfg/get_gateway</code> to <span class="quote">“<span class="quote">none</span>”</span> to specify that no gateway should be used. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-network-console"></a>B.4.3. Netværkskonsol</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Brug de følgende indstillinger, hvis du ønsker at gøre brug af komponenten
# network-console for ekstern installation over SSH. Dette giver kun mening
# hvis du forventer at udføre den resterende installation manuelt.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-mirror"></a>B.4.4. Spejlindstillinger</h3></div></div></div>
<p>Afhængig af installationsmetoden du anvender, kan et spejl bruges til at hente yderligere komponenter for installationsprogrammet, for at installere det grundlæggende system og opsætte <code class="filename">/etc/apt/sources.list</code> for det installerede system. </p>
<p>Parameteren <code class="classname">mirror/suite</code> bestemmer programpakken for det installerede system. </p>
<p>Parameteren <code class="classname">mirror/udeb/suite</code> bestemmer programpakken for yderligere komponenter for installationsprogrammet. Den er kun nyttigt at angive denne, hvis komponenterne faktisk hentes over netværket og skal matche programpakken, som blev brugt til at bygge initrd'en for installationsmetoden brugt for installationen. Normalt vil installationsprogrammet automatisk brug den korrekte værdi og der bør derfor ikke være behov for at angive denne. </p>
<div class="informalexample"><pre class="screen"># Hvis du vælger ftp, så skal spejl/land-strengen ikke være angivet.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string http.us.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Programpakke at installere.
#d-i mirror/suite string testing
# Programpakke for indlæsning af installationsprogrammets komponenter
# (valgfri).
#d-i mirror/udeb/suite string testing
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-account"></a>B.4.5. Kontoopsætning</h3></div></div></div>
<p>Adgangskoden for root-kontoen og navn og adgangskode for den første normale brugers konto kan forhåndskonfigureres. For adgangskoderne kan du enten bruge rene tekstværdier eller crypt(3)-<span class="emphasis"><em>hasher</em></span>. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Advarsel]" src="images/warning.png"></td>
<th align="left">Advarsel</th>
</tr>
<tr><td align="left" valign="top"><p>Vær opmærksom på at forhåndskonfiguration af adgangskoder ikke er fuldstændig sikker da alle med adgang til den forhåndskonfigurerede fil vil have viden om disse adgangskoder. Lagring af hashede adgangskoder anses for at være sikker medmindre at en svag hashingalgoritme såsom DES eller MD5 bruges; de giver mulighed for »bruteforce«-angreb. Anbefalede hashingalgoritmer for adgangskoder er SHA-256 og SHA512. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># Udelad oprettelsen af en root-konto (normal brugerkonto vil kunne
# anvende sudo).
#d-i passwd/root-login boolean false
# Alternativet, for at undlade oprettelsen af en normal brugerkonto.
#d-i passwd/make-user boolean false

# Root-adgangskode, enten i klar tekst
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# eller krypteret via en crypt(3)-hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# For at oprette en normal brugerkonto.
#d-i passwd/user-fullname string Debian User
#d-i passwd/username string debian
# Normal brugers adgangskode, enten i klar tekst
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# eller krypteret via en crypt(3)-hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Opret den første bruger med den specificerde UID i stedet for standarden.
#d-i passwd/user-uid string 1010

# Brugerkontoen vil blive tilføjet til nogle opstartsgrupper. For at
# omgå dette, så brug følgende.
#d-i passwd/user-default-groups string audio cdrom video
</pre></div>
<p>Variablerne <code class="classname">passwd/root-password-crypted</code> og <code class="classname">passwd/user-password-crypted</code> kan også forhåndskonfigureres med <span class="quote">“<span class="quote">!</span>”</span> som deres værdi. I det tilfælde, bliver den tilsvarende konto deaktiveret. Dette kan være nyttigt for root-kontoen, selvfølgelig såfremt en alternativ metode er opsat til at tillade administrative aktiviteter eller root-logind (for eksempel ved at bruge SSH-nøglegodkendelse eller <span class="command"><strong>sudo</strong></span>). </p>
<p>Den følgende kommando (tilgængelig fra pakken <code class="classname">whois</code>) kan bruges til at oprette en SHA-512-baseret crypt(3)-hash for en adgangskode: </p>
<div class="informalexample"><pre class="screen">mkpasswd -m sha-512
</pre></div>
<p>

</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-time"></a>B.4.6. Ur- og tidszoneopsætning</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Kontrollerer om udstyrets ur er sat til UTC.
d-i clock-setup/utc boolean true

# Du kan sætte dette til enhver gyldig indstilling for $TZ; se indholdet af
# /usr/share/zoneinfo/ for gyldige værdier.
d-i time/zone string US/Eastern

# Kontrollerer om NTP skal bruges til at sætte uret under installationen
d-i clock-setup/ntp boolean true
# NTP-server at bruge. Standarden er næsten altid fin her.
#d-i clock-setup/ntp-server string ntp.example.com
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-partman"></a>B.4.7. Partitionering</h3></div></div></div>
<p>Brug af forhåndskonfiguration til at partitionere harddisken er begrænset til det som <code class="classname">partman-auto</code> understøtter. Du kan vælge at partitionere enten eksisterende fri plads på en disk eller en hel disk. Layouttet på disken kan bestemmes ved at bruge en på forhånd defineret opskrift, en brugeropskrift fra en opskriftsfil eller en opskrift inkluderet i forhåndskonfigurationsfilen. </p>
<p>Forhåndskonfiguration af avancerede partitionsopsætninger via brug af RAID, LVM og kryptering er understøttet, men ikke med den fulde fleksibilitet under partitionering under en installation uden forhåndskonfiguration. </p>
<p>Eksemplerne nedenfor viser kun grundlæggende information vedrørende brugen af opskrifter. Se filerne <code class="filename">partman-auto-recipe.txt</code> og <code class="filename">partman-auto-raid-recipe.txt</code> inkluderet i pakken <code class="classname">debian-installer</code> for alle detaljer. Begge filer er også tilgængelig fra <a class="ulink" href="https://salsa.debian.org/installer-team/debian-installer/tree/master/doc/devel" target="_top"><code class="classname">debian-installer</code> kildearkivet</a>. Bemærk at den understøttede funktionalitet kan ændre sig mellem udgivelser. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Advarsel]" src="images/warning.png"></td>
<th align="left">Advarsel</th>
</tr>
<tr><td align="left" valign="top"><p>Identifikationen af diske er afhængige af rækkefølgen, som deres drivere indlæses i. Hvis der er flere diske i systemet, så sikr dig, at den korrekte vil blive valgt, før forhåndskonfiguration anvendes. </p></td></tr>
</table></div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-example"></a>B.4.7.1. Partitioneringseksempel</h4></div></div></div>
<div class="informalexample"><pre class="screen"># If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the three predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false
</pre></div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-raid"></a>B.4.7.2. Partitionering med brug af RAID</h4></div></div></div>
<p>Du kan også bruge forhåndskonfiguration til at opsætte partitioner på program-RAID-arrayer. Understøttet er RAID-niveauerne 0, 1, 5, 6 og 10, der opretter degraded arrayer og specificerer ledige enheder. </p>
<p>Hvis du bruger RAID 1, så kan du forhåndskonfigurere grub til at installere alle enheder brugt i tabellen; se <a class="xref" href="apbs04.html#preseed-bootloader" title="B.4.11. Installation af opstartsindlæseren">Afsnit B.4.11, “Installation af opstartsindlæseren”</a>. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Advarsel]" src="images/warning.png"></td>
<th align="left">Advarsel</th>
</tr>
<tr><td align="left" valign="top"><p>Denne type af automatiseret partitionering er nem at få gjort forkert. Det er også funktionalitet som modtager forholdsvis lidt test fra udviklerens side hos <code class="classname">debian-installer</code>. Ansvaret for at de forskellige opskrifter er korrekte (så de giver mening og ikke er i konflikt) ligger hos brugeren. Kontroller <code class="filename">/var/log/syslog</code> hvis du får problemer. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># Metoden skal være »raid«.
#d-i partman-auto/method string raid
# Specificer diskene der skal partitioneres. De får alle samme layout,
# så dette vil kun fungere hvis diskene er af samme størrelse.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Derefter skal du angive de fysiske partitioner. 
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Til sidst skal du angive hvordan de tidligere definerede partionerer skal
# bruges i RAID-opsætningen. Husk at bruge de korrekte partitionsnumre
# for logiske partitioner. RAID-niveauerne 0, 1, 5, 6 og 10 er understøttet;
# enheder adskilles med »#«.
# Parametre er:
# &lt;raidtype&gt; &lt;devcount&gt; &lt;sparecount&gt; &lt;fstype&gt; &lt;mountpoint&gt; \
#          &lt;devices&gt; &lt;sparedevices&gt;

#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .

# Se filen partman-auto-raid-recipe.txt for yderligere information
# inkluderet i pakken »debian-installer« eller tilgængelig fra D-I-
# kildearkivet.

# Denne opsætning får partman til automatisk at partitionere uden bekræftelse.
d-i partman-md/confirm boolean true
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
</pre></div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="preseed-partman-mount-styles"></a>B.4.7.3. Kontrol af hvordan partitionerne monteres</h4></div></div></div>
<p>Normally, filesystems are mounted using a universally unique identifier (UUID) as a key; this allows them to be mounted properly even if their device name changes. UUIDs are long and difficult to read, so, if you prefer, the installer can mount filesystems based on the traditional device names, or based on a label you assign. If you ask the installer to mount by label, any filesystems without a label will be mounted using a UUID instead. </p>
<p>Enheder med stabile navne, såsom LVM logiske diskenehder, vil fortsætte med at bruge deres traditionelle navne frem for UUID'er. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Advarsel]" src="images/warning.png"></td>
<th align="left">Advarsel</th>
</tr>
<tr><td align="left" valign="top"><p>Traditionelle enhedsnavne kan ændre sig baseret på rækkefølgen hvormed kernen registrerer enheder ved opstart, hvilket kan medføre at det forkerte filsystem monteres. Tilsvarende vil etikettter ramle sammen, hvis vi tilslutter en ny disk eller et USB-drev og hvis det sker, vil dit systems opførsel, når startet, være tilfældigt. </p></td></tr>
</table></div>
<div class="informalexample"><pre class="screen"># Standarden er at montere efter UUID, men du kan også vælge »traditional«
# brug traditionelle enhedsnavne, eller »label« for at prøve filsystemetiketter af
# før der faldes tilbage til UUID'er.
#d-i partman/mount_style select uuid
</pre></div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-base-installer"></a>B.4.8. Installation af det grundlæggende system</h3></div></div></div>
<p>Der er faktisk ikke meget som kan forhåndskonfigureres på dette trin af installationen. De eneste spørgsmål, der stilles, vedrører installationen af kernen. </p>
<div class="informalexample"><pre class="screen"># Konfigurer APT til ikke at installere anbefalede pakker som standard. Brug
# af denne indstilling medføre et ufuldstændigt system og bør kun bruges af
# meget erfarne brugere.
#d-i base-installer/install-recommends boolean false

# (Meta)pakken for kerneaftryk at installere; »none« kan bruges hvis ingen
# kerne skal installeres.
#d-i base-installer/kernel/image string linux-image-686
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-apt"></a>B.4.9. Apt-opsætning</h3></div></div></div>
<p>Opsætning af <code class="filename">/etc/apt/sources.list</code> og grundlæggende konfigurationsindstillinger er fuldt automatiseret baseret på din installationsmetode og svarer til tidligere spørgsmål. Du kan valgfrit tilføje andre (lokale) arkiver. </p>
<div class="informalexample"><pre class="screen"># Du kan vælge at installere programmer fra non-free og contrib.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Fjern udkommentering hvis du ikke ønsker at bruge et netværksspejl.
#d-i apt-setup/use_mirror boolean false
# Vælg opdateringstjenesten; definer spejlene.
# Værdier vist nedenfor er de normale standarder.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org

# Yderligere arkiver, local[0-9] tilgængelig
#d-i apt-setup/local0/repository string \
#       http://local.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Aktiver deb-src-linjer
#d-i apt-setup/local0/source boolean true
# Adresse til den offentlige nøgle for det lokale arkiv; du skal angive en
# ellers vil apt beklage sig over et arkiv uden godkendelse og så vil
# linjen sources.list blive efterladt udkommenteret
#d-i apt-setup/local0/key string http://local.server/key

# Som standard kræver installationsprogrammet at arkiverne godkendes
# via en kendt gpg-nøgle. Denne indstilling kan bruges til at deaktivere den
# godkendelse. Advarsel: Usikker, anbefales ikke.
#d-i debian-installer/allow_unauthenticated boolean true

# Fjern # for at tilføje flerarkitekturkonfiguration for i386
#d-i apt-setup/multiarch string i386

</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-pkgsel"></a>B.4.10. Pakkevalg</h3></div></div></div>
<p>Du kan vælge at installere enhver kombination af opgaver, som er tilgængelige. Tilgængelige opgaver, da dette skrives, inkluderer: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><strong class="userinput"><code>standard</code></strong> (standardværktøjer) </p></li>
<li class="listitem"><p><strong class="userinput"><code>desktop</code></strong> (grafisk skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>gnome-desktop</code></strong> (GNOME-skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>xfce-desktop</code></strong> (XFCE-skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>kde-desktop</code></strong> (KDE Plasma-skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>cinnamon-desktop</code></strong> (Cinnamonskrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>mate-desktop</code></strong> (MATE-skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>lxde-desktop</code></strong> (LXDE-skrivebord) </p></li>
<li class="listitem"><p><strong class="userinput"><code>web-server</code></strong> (netserver) </p></li>
<li class="listitem"><p><strong class="userinput"><code>print-server</code></strong> (printerserver) </p></li>
<li class="listitem"><p><strong class="userinput"><code>ssh-server</code></strong> (SSH-server) </p></li>
</ul></div>
<p>Du kan også vælge ikke at installere opgaver og tvinge installationen af et sæt af pakke igennem på en anden måde. Vi anbefaler altid inkludering af <strong class="userinput"><code>standardopgaven</code></strong>. </p>
<p>Hvis du ønsker at installere nogle individuelle pakker udover pakkerne installeret af tasks, så kan du bruge parameteren <code class="classname">pkgsel/include</code>. Værdien for denne parameter kan være en liste af pakker adskilt af enten kommaer eller mellemrum, som gør at den kan nemt kan bruges på kernes kommandolinje. </p>
<div class="informalexample"><pre class="screen">#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Individual additional packages to install
#d-i pkgsel/include string openssh-server build-essential
# Whether to upgrade packages after debootstrap.
# Allowed values: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# Some versions of the installer can report back on what software you have
# installed, and what software you use. The default is not to report back,
# but sending reports helps the project determine what software is most
# popular and include it on CDs.
#popularity-contest popularity-contest/participate boolean false
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-bootloader"></a>B.4.11. Installation af opstartsindlæseren</h3></div></div></div>
<div class="informalexample"><pre class="screen"><span class="phrase"># Grub is the default boot loader (for x86). If you want lilo installed
# instead, uncomment this:
#d-i grub-installer/skip boolean true
# To also skip installing lilo, and install no bootloader, uncomment this
# too:
#d-i lilo-installer/skip boolean true</span>


# This is fairly safe to set, it makes grub install automatically to the MBR
# if no other operating system is detected on the machine.
d-i grub-installer/only_debian boolean true

# This one makes grub-installer install to the MBR if it also finds some other
# OS, which is less safe as it might not be able to boot that other OS.
d-i grub-installer/with_other_os boolean true

# Due notably to potential USB sticks, the location of the MBR can not be
# determined safely in general, so this needs to be specified:
#d-i grub-installer/bootdev  string /dev/sda
# To install to the first device (assuming it is not a USB stick):
#d-i grub-installer/bootdev  string default

# Alternatively, if you want to install to a location other than the mbr,
# uncomment and edit these lines:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev  string (hd0,1)
# To install grub to multiple disks:
#d-i grub-installer/bootdev  string (hd0,1) (hd1,1) (hd2,1)

# Optional password for grub, either in clear text
#d-i grub-installer/password password r00tme
#d-i grub-installer/password-again password r00tme
# or encrypted using an MD5 hash, see grub-md5-crypt(8).
#d-i grub-installer/password-crypted password [MD5 hash]

# Use the following option to add additional boot parameters for the
# installed system (if supported by the bootloader installer).
# Note: options passed to the installer will be added automatically.
#d-i debian-installer/add-kernel-opts string nousb
</pre></div>
<p>En MD5-hash for en adgangskode til <code class="classname">grub</code> kan oprettes via <span class="command"><strong>grub-md5-crypt</strong></span>, eller via kommandoen fra eksemplet i <a class="xref" href="apbs04.html#preseed-account" title="B.4.5. Kontoopsætning">Afsnit B.4.5, “Kontoopsætning”</a>. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-finish"></a>B.4.12. Afslutning af installationen</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Under installationer fra seriel konsol, er den normale virtuelle konsol
# (VT1-VT6) normalt deaktiveret i /etc/inittab. Aktiver den næste linje for
# at forhindre dette.
#d-i finish-install/keep-consoles boolean true

# Undgå den sidste besked om at installationen er færdig.
d-i finish-install/reboot_in_progress note

# Dette vil forhindre installationsprogrammet i at skubbe cd'en ud under
# genstarten, hvilket er nyttigt i nogle situationer.
#d-i cdrom-detect/eject boolean false

# Sådan lukkes installationsprogrammet ned, når det er færdigt, men undgår
# at genstarte i det installerede system.
#d-i debian-installer/exit/halt boolean true
# Dette vil slukke for strømmen i stedet for bare at stoppe det.
#d-i debian-installer/exit/poweroff boolean true
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-other"></a>B.4.13. Forhåndskonfiguration af andre pakker</h3></div></div></div>
<div class="informalexample"><pre class="screen"># Afhængig af hvilke programmer du vælger at installere, eller hvis noget
# går galt under installationsprocessen, så er det muligt at andre spørgsmål
# kan stilles. Du kan selvfølgelig også forhåndskonfigurere disse. For en liste
# over alle de mulige spørgsmål, der kan stilles under en installation, udføres en
# installation, og disse kommandoer afvikles:
#   debconf-get-selections --installer &gt; file
#   debconf-get-selections &gt;&gt; file
</pre></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.idm3618" class="footnote"><p><a href="#idm3618" class="para"><sup class="para">[23] </sup></a> Forhåndskonfiguration af <code class="literal">locale</code> til <strong class="userinput"><code>en_NL</code></strong> vil for eksempel medføre <code class="literal">en_US.UTF-8</code> som standardsted for det installerede system. Hvis f.eks. <code class="literal">en_GB.UTF-8</code> foretrækkes i stedet for, så skal værdierne forhåndskonfigureres individuelt. </p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="apbs03.html"><img src="images/prev.png" alt="forrige"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="apb.html"><img src="images/up.png" alt="op"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="apbs05.html"><img src="images/next.png" alt="næste"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">B.3. Oprettelse af en forhåndskonfigurationsfil </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="hjem"></a></td>
<td width="40%" align="right" valign="top"> B.5. Avancerede indstillinger</td>
</tr>
</table>
</div>
</body>
</html>
